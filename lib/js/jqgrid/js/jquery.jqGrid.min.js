/**
 * @license jqGrid  4.7.0 - jQuery Grid
 * Copyright (c) 2008, Tony Tomov, tony@trirand.com
 * Dual licensed under the MIT and GPL licenses
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl-2.0.html
 * Date: 2014-12-08
 */
function tableToGrid(e,h){jQuery(e).each(function(){if(!this.grid){jQuery(this).width("99%");var e=jQuery(this).width(),t=jQuery("tr td:first-child input[type=checkbox]:first",jQuery(this)),i=jQuery("tr td:first-child input[type=radio]:first",jQuery(this)),r=0<t.length,o=!r&&0<i.length,a=r||o,n=[],s=[];jQuery("th",jQuery(this)).each(function(){0===n.length&&a?(n.push({name:"__selection__",index:"__selection__",width:0,hidden:!0}),s.push("__selection__")):(n.push({name:jQuery(this).attr("id")||jQuery.trim(jQuery.jgrid.stripHtml(jQuery(this).html())).split(" ").join("_"),index:jQuery(this).attr("id")||jQuery.trim(jQuery.jgrid.stripHtml(jQuery(this).html())).split(" ").join("_"),width:jQuery(this).width()||150}),s.push(jQuery(this).html()))});var l,d=[],p=[],c=[];for(jQuery("tbody > tr",jQuery(this)).each(function(){var i={},r=0;jQuery("td",jQuery(this)).each(function(){var e,t;0===r&&a?(t=(e=jQuery("input",jQuery(this))).attr("value"),p.push(t||d.length),e.is(":checked")&&c.push(t),i[n[r].name]=e.attr("value")):i[n[r].name]=jQuery(this).html(),r++}),0<r&&d.push(i)}),jQuery(this).empty(),jQuery(this).addClass("scroll"),jQuery(this).jqGrid(jQuery.extend({datatype:"local",width:e,colNames:s,colModel:n,multiselect:r},h||{})),l=0;l<d.length;l++){var u=null;0<p.length&&(u=p[l])&&u.replace&&(u=encodeURIComponent(u).replace(/[.\-%]/g,"_")),null===u&&(u=l+1),jQuery(this).jqGrid("addRowData",u,d[l])}for(l=0;l<c.length;l++)jQuery(this).jqGrid("setSelection",c[l])}})}!function($){"use strict";$.jgrid=$.jgrid||{},$.extend($.jgrid,{version:"4.7.0",htmlDecode:function(e){return e&&("&nbsp;"===e||"&#160;"===e||1===e.length&&160===e.charCodeAt(0))?"":e?String(e).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):e},htmlEncode:function(e){return e?String(e).replace(/&/g,"&amp;").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},format:function(e){var i=$.makeArray(arguments).slice(1);return null==e&&(e=""),e.replace(/\{(\d+)\}/g,function(e,t){return i[t]})},msie:"Microsoft Internet Explorer"===navigator.appName,msiever:function(){var e=-1,t=navigator.userAgent;return null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1)),e},getCellIndex:function(e){var t=$(e);return t.is("tr")?-1:(t=(t.is("td")||t.is("th")?t:t.closest("td,th"))[0],$.jgrid.msie?$.inArray(t,t.parentNode.cells):t.cellIndex)},stripHtml:function(e){return(e=String(e))?(e=e.replace(/<("[^"]*"|'[^']*'|[^'">])*>/gi,""))&&"&nbsp;"!==e&&"&#160;"!==e?e.replace(/\"/g,"'"):"":e},stripPref:function(e,t){var i=$.type(e);return"string"!==i&&"number"!==i||(t=""!==(e=String(e))?String(t).replace(String(e),""):t),t},parse:function(jsonString){var js=jsonString;return"while(1);"===js.substr(0,9)&&(js=js.substr(9)),"/*"===js.substr(0,2)&&(js=js.substr(2,js.length-4)),js=js||"{}",!0===$.jgrid.useJSON&&"object"==typeof JSON&&"function"==typeof JSON.parse?JSON.parse(js):eval("("+js+")")},parseDate:function(e,t,i,r){function o(e,t){for(e=String(e),t=parseInt(t,10)||2;e.length<t;)e="0"+e;return e}function a(e,t){return 0===e?12===t&&(t=0):12!==t&&(t+=12),t}var n,s,l,d=new RegExp("^/Date\\((([-+])?[0-9]+)(([-+])([0-9]{2})([0-9]{2}))?\\)/$"),p="string"==typeof t?t.match(d):null,c={m:1,d:1,y:1970,h:0,i:0,s:0,u:0},u=0,h=0;if(void 0===r&&(r=$.jgrid.formatter.date),void 0===r.parseRe&&(r.parseRe=/[#%\\\/:_;.,\t\s-]/),r.masks.hasOwnProperty(e)&&(e=r.masks[e]),t&&null!=t)if(isNaN(+t)||"u"!==String(e).toLowerCase())if(t.constructor===Date)u=t;else if(null!==p)u=new Date(parseInt(p[1],10)),p[3]&&(h=60*Number(p[5])+Number(p[6]),h*="-"===p[4]?1:-1,h-=u.getTimezoneOffset(),u.setTime(Number(Number(u)+60*h*1e3)));else{for("ISO8601Long"===r.srcformat&&"Z"===t.charAt(t.length-1)&&(h-=(new Date).getTimezoneOffset()),t=String(t).replace(/\T/g,"#").replace(/\t/,"%").split(r.parseRe),s=0,l=(e=e.replace(/\T/g,"#").replace(/\t/,"%").split(r.parseRe)).length;s<l;s++)"M"===e[s]&&-1!==(n=$.inArray(t[s],r.monthNames))&&n<12&&(t[s]=n+1,c.m=t[s]),"F"===e[s]&&-1!==(n=$.inArray(t[s],r.monthNames,12))&&11<n&&(t[s]=n+1-12,c.m=t[s]),"a"===e[s]&&-1!==(n=$.inArray(t[s],r.AmPm))&&n<2&&t[s]===r.AmPm[n]&&(t[s]=n,c.h=a(t[s],c.h)),"A"===e[s]&&-1!==(n=$.inArray(t[s],r.AmPm))&&1<n&&t[s]===r.AmPm[n]&&(t[s]=n-2,c.h=a(t[s],c.h)),"g"===e[s]&&(c.h=parseInt(t[s],10)),void 0!==t[s]&&(c[e[s].toLowerCase()]=parseInt(t[s],10));if(c.f&&(c.m=c.f),0===c.m&&0===c.y&&0===c.d)return"&#160;";c.m=parseInt(c.m,10)-1;var f=c.y;70<=f&&f<=99?c.y=1900+c.y:0<=f&&f<=69&&(c.y=2e3+c.y),u=new Date(c.y,c.m,c.d,c.h,c.i,c.s,c.u),0<h&&u.setTime(Number(Number(u)+60*h*1e3))}else u=new Date(1e3*parseFloat(t));else u=new Date(c.y,c.m,c.d,c.h,c.i,c.s,c.u);if(r.userLocalTime&&0===h&&0<(h-=(new Date).getTimezoneOffset())&&u.setTime(Number(Number(u)+60*h*1e3)),void 0===i)return u;i=r.masks.hasOwnProperty(i)?r.masks[i]:i||"Y-m-d";var g=u.getHours(),m=u.getMinutes(),v=u.getDate(),b=u.getMonth()+1,w=u.getTimezoneOffset(),j=u.getSeconds(),y=u.getMilliseconds(),x=u.getDay(),q=u.getFullYear(),D=(x+6)%7+1,C=(new Date(q,b-1,v)-new Date(q,0,1))/864e5,_={d:o(v),D:r.dayNames[x],j:v,l:r.dayNames[x+7],N:D,S:r.S(v),w:x,z:C,W:D<5?Math.floor((C+D-1)/7)+1:Math.floor((C+D-1)/7)||((new Date(q-1,0,1).getDay()+6)%7<4?53:52),F:r.monthNames[b-1+12],m:o(b),M:r.monthNames[b-1],n:b,t:"?",L:"?",o:"?",Y:q,y:String(q).substring(2),a:g<12?r.AmPm[0]:r.AmPm[1],A:g<12?r.AmPm[2]:r.AmPm[3],B:"?",g:g%12||12,G:g,h:o(g%12||12),H:o(g),i:o(m),s:o(j),u:y,e:"?",I:"?",O:(0<w?"-":"+")+o(100*Math.floor(Math.abs(w)/60)+Math.abs(w)%60,4),P:"?",T:(String(u).match(/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g)||[""]).pop().replace(/[^-+\dA-Z]/g,""),Z:"?",c:"?",r:"?",U:Math.floor(u/1e3)};return i.replace(/\\.|[dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g,function(e){return _.hasOwnProperty(e)?_[e]:e.substring(1)})},jqID:function(e){return String(e).replace(/[!"#$%&'()*+,.\/:; <=>?@\[\\\]\^`{|}~]/g,"\\$&")},guid:1,uidPref:"jqg",randId:function(e){return(e||$.jgrid.uidPref)+$.jgrid.guid++},getAccessor:function(e,t){var i,r,o=[];if("function"==typeof t)return t(e);if(void 0===(i=e[t]))try{if("string"==typeof t&&(o=t.split(".")),r=o.length)for(i=e;i&&r--;)i=i[o.shift()]}catch(e){}return i},getXmlData:function(e,t,i){var r,o="string"==typeof t?t.match(/^(.*)\[(\w+)\]$/):null;return"function"==typeof t?t(e):o&&o[2]?o[1]?$(o[1],e).attr(o[2]):$(e).attr(o[2]):(r=$(t,e),i?r:0<r.length?$(r).text():void 0)},cellWidth:function(){var e=$("<div class='ui-jqgrid' style='left:10000px'><table class='ui-jqgrid-btable' style='width:5px;'><tr class='jqgrow'><td style='width:5px;display:block;'></td></tr></table></div>"),t=e.appendTo("body").find("td").width();return e.remove(),.1<Math.abs(t-5)},cell_width:!0,ajaxOptions:{},from:function(source){var QueryObject=function(d,q){"string"==typeof d&&(d=$.data(d));var self=this,_data=d,_usecase=!0,_trim=!1,_query=q,_stripNum=/[\$,%]/g,_lastCommand=null,_lastField=null,_orDepth=0,_negate=!1,_queuedOperator="",_sorting=[],_useProperties=!0;if("object"!=typeof d||!d.push)throw"data provides is not an array";return 0<d.length&&(_useProperties="object"==typeof d[0]),this._hasData=function(){return null!==_data&&0!==_data.length},this._getStr=function(e){var t=[];return _trim&&t.push("jQuery.trim("),t.push("String("+e+")"),_trim&&t.push(")"),_usecase||t.push(".toLowerCase()"),t.join("")},this._strComp=function(e){return"string"==typeof e?".toString()":""},this._group=function(e,t){return{field:e.toString(),unique:t,items:[]}},this._toStr=function(e){return _trim&&(e=$.trim(e)),e=e.toString().replace(/\\/g,"\\\\").replace(/\"/g,'\\"'),_usecase?e:e.toLowerCase()},this._funcLoop=function(i){var r=[];return $.each(_data,function(e,t){r.push(i(t))}),r},this._append=function(e){var t;for(null===_query?_query="":_query+=""===_queuedOperator?" && ":_queuedOperator,t=0;t<_orDepth;t++)_query+="(";_negate&&(_query+="!"),_query+="("+e+")",_negate=!1,_queuedOperator="",_orDepth=0},this._setCommand=function(e,t){_lastCommand=e,_lastField=t},this._resetNegate=function(){_negate=!1},this._repeatCommand=function(e,t){return null===_lastCommand?self:null!==e&&null!==t?_lastCommand(e,t):null!==_lastField&&_useProperties?_lastCommand(_lastField,e):_lastCommand(e)},this._equals=function(e,t){return 0===self._compare(e,t,1)},this._compare=function(e,t,i){var r=Object.prototype.toString;return void 0===i&&(i=1),void 0===e&&(e=null),void 0===t&&(t=null),null===e&&null===t?0:null===e&&null!==t?1:null!==e&&null===t?-1:("[object Date]"===r.call(e)&&"[object Date]"===r.call(t)||_usecase||"number"==typeof e||"number"==typeof t||(e=String(e),t=String(t)),e<t?-i:t<e?i:0)},this._performSort=function(){0!==_sorting.length&&(_data=self._doSort(_data,0))},this._doSort=function(e,t){var i=_sorting[t].by,r=_sorting[t].dir,o=_sorting[t].type,a=_sorting[t].datefmt,n=_sorting[t].sfunc;if(t===_sorting.length-1)return self._getOrder(e,i,r,o,a,n);t++;for(var s,l,d=self._getGroup(e,i,r,o,a),p=[],c=0;c<d.length;c++)for(l=self._doSort(d[c].items,t),s=0;s<l.length;s++)p.push(l[s]);return p},this._getOrder=function(e,i,t,r,o,a){var n,s,l,d,p=[],c=[],u="a"===t?1:-1;void 0===r&&(r="text"),d="float"===r||"number"===r||"currency"===r||"numeric"===r?function(e){var t=parseFloat(String(e).replace(_stripNum,""));return isNaN(t)?Number.NEGATIVE_INFINITY:t}:"int"===r||"integer"===r?function(e){return e?parseFloat(String(e).replace(_stripNum,"")):Number.NEGATIVE_INFINITY}:"date"===r||"datetime"===r?function(e){return $.jgrid.parseDate(o,e).getTime()}:$.isFunction(r)?r:function(e){return e=e?$.trim(String(e)):"",_usecase?e:e.toLowerCase()},$.each(e,function(e,t){void 0===(s=""!==i?$.jgrid.getAccessor(t,i):t)&&(s=""),s=d(s,t),c.push({vSort:s,index:e})}),$.isFunction(a)?c.sort(function(e,t){return e=e.vSort,t=t.vSort,a.call(this,e,t,u)}):c.sort(function(e,t){return e=e.vSort,t=t.vSort,self._compare(e,t,u)}),l=0;for(var h=e.length;l<h;)n=c[l].index,p.push(e[n]),l++;return p},this._getGroup=function(e,i,t,r,o){var a,n=[],s=null,l=null;return $.each(self._getOrder(e,i,t,r,o),function(e,t){null==(a=$.jgrid.getAccessor(t,i))&&(a=""),self._equals(l,a)||(l=a,null!==s&&n.push(s),s=self._group(i,a)),s.items.push(t)}),null!==s&&n.push(s),n},this.ignoreCase=function(){return _usecase=!1,self},this.useCase=function(){return _usecase=!0,self},this.trim=function(){return _trim=!0,self},this.noTrim=function(){return _trim=!1,self},this.execute=function(){var match=_query,results=[];return null===match||($.each(_data,function(){eval(match)&&results.push(this)}),_data=results),self},this.data=function(){return _data},this.select=function(i){if(self._performSort(),!self._hasData())return[];if(self.execute(),$.isFunction(i)){var r=[];return $.each(_data,function(e,t){r.push(i(t))}),r}return _data},this.hasMatch=function(){return!!self._hasData()&&(self.execute(),0<_data.length)},this.andNot=function(e,t,i){return _negate=!_negate,self.and(e,t,i)},this.orNot=function(e,t,i){return _negate=!_negate,self.or(e,t,i)},this.not=function(e,t,i){return self.andNot(e,t,i)},this.and=function(e,t,i){return _queuedOperator=" && ",void 0===e?self:self._repeatCommand(e,t,i)},this.or=function(e,t,i){return _queuedOperator=" || ",void 0===e?self:self._repeatCommand(e,t,i)},this.orBegin=function(){return _orDepth++,self},this.orEnd=function(){return null!==_query&&(_query+=")"),self},this.isNot=function(e){return _negate=!_negate,self.is(e)},this.is=function(e){return self._append("this."+e),self._resetNegate(),self},this._compareValues=function(e,t,i,r,o){var a=_useProperties?"jQuery.jgrid.getAccessor(this,'"+t+"')":"this";void 0===i&&(i=null);var n=i,s=void 0===o.stype?"text":o.stype;if(null!==i)switch(s){case"int":case"integer":a="parseInt("+a+",10)",n="parseInt("+(n=isNaN(Number(n))||""===n?"0":n)+",10)";break;case"float":case"number":case"numeric":n=String(n).replace(_stripNum,""),a="parseFloat("+a+")",n="parseFloat("+(n=isNaN(Number(n))||""===n?"0":n)+")";break;case"date":case"datetime":n=String($.jgrid.parseDate(o.newfmt||"Y-m-d",n).getTime()),a='jQuery.jgrid.parseDate("'+o.srcfmt+'",'+a+").getTime()";break;default:a=self._getStr(a),n=self._getStr('"'+self._toStr(n)+'"')}return self._append(a+" "+r+" "+n),self._setCommand(e,t),self._resetNegate(),self},this.equals=function(e,t,i){return self._compareValues(self.equals,e,t,"==",i)},this.notEquals=function(e,t,i){return self._compareValues(self.equals,e,t,"!==",i)},this.isNull=function(e,t,i){return self._compareValues(self.equals,e,null,"===",i)},this.greater=function(e,t,i){return self._compareValues(self.greater,e,t,">",i)},this.less=function(e,t,i){return self._compareValues(self.less,e,t,"<",i)},this.greaterOrEquals=function(e,t,i){return self._compareValues(self.greaterOrEquals,e,t,">=",i)},this.lessOrEquals=function(e,t,i){return self._compareValues(self.lessOrEquals,e,t,"<=",i)},this.startsWith=function(e,t){var i=null==t?e:t,r=_trim?$.trim(i.toString()).length:i.toString().length;return _useProperties?self._append(self._getStr("jQuery.jgrid.getAccessor(this,'"+e+"')")+".substr(0,"+r+") == "+self._getStr('"'+self._toStr(t)+'"')):(null!=t&&(r=_trim?$.trim(t.toString()).length:t.toString().length),self._append(self._getStr("this")+".substr(0,"+r+") == "+self._getStr('"'+self._toStr(e)+'"'))),self._setCommand(self.startsWith,e),self._resetNegate(),self},this.endsWith=function(e,t){var i=null==t?e:t,r=_trim?$.trim(i.toString()).length:i.toString().length;return _useProperties?self._append(self._getStr("jQuery.jgrid.getAccessor(this,'"+e+"')")+".substr("+self._getStr("jQuery.jgrid.getAccessor(this,'"+e+"')")+".length-"+r+","+r+') == "'+self._toStr(t)+'"'):self._append(self._getStr("this")+".substr("+self._getStr("this")+'.length-"'+self._toStr(e)+'".length,"'+self._toStr(e)+'".length) == "'+self._toStr(e)+'"'),self._setCommand(self.endsWith,e),self._resetNegate(),self},this.contains=function(e,t){return _useProperties?self._append(self._getStr("jQuery.jgrid.getAccessor(this,'"+e+"')")+'.indexOf("'+self._toStr(t)+'",0) > -1'):self._append(self._getStr("this")+'.indexOf("'+self._toStr(e)+'",0) > -1'),self._setCommand(self.contains,e),self._resetNegate(),self},this.groupBy=function(e,t,i,r){return self._hasData()?self._getGroup(_data,e,t,i,r):null},this.orderBy=function(e,t,i,r,o){return null==i&&(i="text"),null==r&&(r="Y-m-d"),null==o&&(o=!1),"desc"!==(t=null==t?"a":$.trim(t.toString().toLowerCase()))&&"descending"!==t||(t="d"),"asc"!==t&&"ascending"!==t||(t="a"),_sorting.push({by:e,dir:t,type:i,datefmt:r,sfunc:o}),self},self};return new QueryObject(source,null)},getMethod:function(e){return this.getAccessor($.fn.jqGrid,e)},extend:function(e){$.extend($.fn.jqGrid,e),this.no_legacy_api||$.fn.extend(e)}}),$.fn.jqGrid=function(je){if("string"!=typeof je)return this.each(function(){if(!this.grid){var e;null!=je&&void 0!==je.data&&(e=je.data,je.data=[]);var u=$.extend(!0,{url:"",height:150,page:1,rowNum:20,rowTotal:null,records:0,pager:"",pgbuttons:!0,pginput:!0,colModel:[],rowList:[],colNames:[],sortorder:"asc",sortname:"",datatype:"xml",mtype:"GET",altRows:!1,selarrrow:[],savedRow:[],shrinkToFit:!0,xmlReader:{},jsonReader:{},subGrid:!1,subGridModel:[],reccount:0,lastpage:0,lastsort:0,selrow:null,beforeSelectRow:null,onSelectRow:null,onSortCol:null,ondblClickRow:null,onRightClickRow:null,onPaging:null,onSelectAll:null,onInitGrid:null,loadComplete:null,gridComplete:null,loadError:null,loadBeforeSend:null,afterInsertRow:null,beforeRequest:null,beforeProcessing:null,onHeaderClick:null,viewrecords:!1,loadonce:!1,multiselect:!1,multikey:!1,editurl:null,search:!1,caption:"",hidegrid:!0,hiddengrid:!1,postData:{},userData:{},treeGrid:!1,treeGridModel:"nested",treeReader:{},treeANode:-1,ExpandColumn:null,tree_root_level:0,prmNames:{page:"page",rows:"rows",sort:"sidx",order:"sord",search:"_search",nd:"nd",id:"id",oper:"oper",editoper:"edit",addoper:"add",deloper:"del",subgridid:"id",npage:null,totalrows:"totalrows"},forceFit:!1,gridstate:"visible",cellEdit:!1,cellsubmit:"remote",nv:0,loadui:"enable",toolbar:[!1,""],scroll:!1,multiboxonly:!1,deselectAfterSort:!0,scrollrows:!1,autowidth:!1,scrollOffset:18,cellLayout:5,subGridWidth:20,multiselectWidth:20,gridview:!1,rownumWidth:25,rownumbers:!1,pagerpos:"center",recordpos:"right",footerrow:!1,userDataOnFooter:!1,hoverrows:!0,altclass:"ui-priority-secondary",viewsortcols:[!1,"vertical",!0],resizeclass:"",autoencode:!1,remapColumns:[],ajaxGridOptions:{},direction:"ltr",toppager:!1,headertitles:!1,scrollTimeout:40,data:[],_index:{},grouping:!1,groupingView:{groupField:[],groupOrder:[],groupText:[],groupColumnShow:[],groupSummary:[],showSummaryOnHide:!1,sortitems:[],sortnames:[],summary:[],summaryval:[],plusicon:"ui-icon-circlesmall-plus",minusicon:"ui-icon-circlesmall-minus",displayField:[],groupSummaryPos:[],formatDisplayField:[],_locgr:!1},ignoreCase:!1,cmTemplate:{},idPrefix:"",multiSort:!1,minColWidth:33},$.jgrid.defaults,je||{});void 0!==e&&(u.data=e,je.data=e);var t,m,Q=this,h={headers:[],cols:[],footers:[],dragStart:function(e,t,i){var r=$(this.bDiv).offset().left;this.resizing={idx:e,startX:t.pageX,sOL:t.pageX-r},this.hDiv.style.cursor="col-resize",this.curGbox=$("#rs_m"+$.jgrid.jqID(u.id),"#gbox_"+$.jgrid.jqID(u.id)),this.curGbox.css({display:"block",left:t.pageX-r,top:i[1],height:i[2]}),$(Q).triggerHandler("jqGridResizeStart",[t,e]),$.isFunction(u.resizeStart)&&u.resizeStart.call(Q,t,e),document.onselectstart=function(){return!1}},dragMove:function(e){var t,i,r,o,a;this.resizing&&(t=e.pageX-this.resizing.startX,i=this.headers[this.resizing.idx],33<(r="ltr"===u.direction?i.width+t:i.width-t)&&(this.curGbox.css({left:this.resizing.sOL+t}),!0===u.forceFit?(o=this.headers[this.resizing.idx+u.nv],(a="ltr"===u.direction?o.width-t:o.width+t)>u.minColWidth&&(i.newWidth=r,o.newWidth=a)):(this.newWidth="ltr"===u.direction?u.tblwidth+t:u.tblwidth-t,i.newWidth=r)))},dragEnd:function(){var e,t;this.hDiv.style.cursor="default",this.resizing&&(e=this.resizing.idx,t=this.headers[e].newWidth||this.headers[e].width,t=parseInt(t,10),this.resizing=!1,$("#rs_m"+$.jgrid.jqID(u.id)).css("display","none"),u.colModel[e].width=t,this.headers[e].width=t,this.headers[e].el.style.width=t+"px",this.cols[e].style.width=t+"px",0<this.footers.length&&(this.footers[e].style.width=t+"px"),!0===u.forceFit?(t=this.headers[e+u.nv].newWidth||this.headers[e+u.nv].width,this.headers[e+u.nv].width=t,this.headers[e+u.nv].el.style.width=t+"px",this.cols[e+u.nv].style.width=t+"px",0<this.footers.length&&(this.footers[e+u.nv].style.width=t+"px"),u.colModel[e+u.nv].width=t):(u.tblwidth=this.newWidth||u.tblwidth,$("table:first",this.bDiv).css("width",u.tblwidth+"px"),$("table:first",this.hDiv).css("width",u.tblwidth+"px"),this.hDiv.scrollLeft=this.bDiv.scrollLeft,u.footerrow&&($("table:first",this.sDiv).css("width",u.tblwidth+"px"),this.sDiv.scrollLeft=this.bDiv.scrollLeft)),$(Q).triggerHandler("jqGridResizeStop",[t,e]),$.isFunction(u.resizeStop)&&u.resizeStop.call(Q,t,e)),this.curGbox=null,document.onselectstart=function(){return!0}},populateVisible:function(){h.timer&&clearTimeout(h.timer),h.timer=null;var e=$(h.bDiv).height();if(e){var t,i,r=$("table:first",h.bDiv);if(r[0].rows.length)try{i=(t=r[0].rows[1])&&$(t).outerHeight()||h.prevRowHeight}catch(e){i=h.prevRowHeight}if(i){h.prevRowHeight=i;var o,a,n,s=u.rowNum,l=h.scrollTop=h.bDiv.scrollTop,d=Math.round(r.position().top)-l,p=d+r.height(),c=i*s;if(p<e&&d<=0&&(void 0===u.lastpage||(parseInt((p+l+c-1)/c,10)||0)<=u.lastpage)&&(a=parseInt((e-p+c-1)/c,10)||1,d=0<=p||a<2||!0===u.scroll?(o=(Math.round((p+l)/c)||0)+1,-1):1),0<d&&(o=(parseInt(l/c,10)||0)+1,a=(parseInt((l+e)/c,10)||0)+2-o,n=!0),a){if(u.lastpage&&(o>u.lastpage||1===u.lastpage||o===u.page&&o===u.lastpage))return;h.hDiv.loading?h.timer=setTimeout(h.populateVisible,u.scrollTimeout):(u.page=o,n&&(h.selectionPreserver(r[0]),h.emptyRows.call(r[0],!1,!1)),h.populate(a))}}}},scrollGrid:function(e){var t;u.scroll&&(t=h.bDiv.scrollTop,void 0===h.scrollTop&&(h.scrollTop=0),t!==h.scrollTop&&(h.scrollTop=t,h.timer&&clearTimeout(h.timer),h.timer=setTimeout(h.populateVisible,u.scrollTimeout))),h.hDiv.scrollLeft=h.bDiv.scrollLeft,u.footerrow&&(h.sDiv.scrollLeft=h.bDiv.scrollLeft),e&&e.stopPropagation()},selectionPreserver:function(t){var i=t.p,r=i.selrow,o=i.selarrrow?$.makeArray(i.selarrrow):null,a=t.grid.bDiv.scrollLeft,n=function(){var e;if(i.selrow=null,i.selarrrow=[],i.multiselect&&o&&0<o.length)for(e=0;e<o.length;e++)o[e]!==r&&$(t).jqGrid("setSelection",o[e],!1,null);r&&$(t).jqGrid("setSelection",r,!1,null),t.grid.bDiv.scrollLeft=a,$(t).unbind(".selectionPreserver",n)};$(t).bind("jqGridGridComplete.selectionPreserver",n)}};if("TABLE"===this.tagName.toUpperCase()&&null!=this.id)if(void 0!==document.documentMode&&document.documentMode<=5)alert("Grid can not be used in this ('quirks') mode!");else{if($(this).empty().attr("tabindex","0"),this.p=u,this.p.useProp=!!$.fn.prop,0===this.p.colNames.length)for(t=0;t<this.p.colModel.length;t++)this.p.colNames[t]=this.p.colModel[t].label||this.p.colModel[t].name;if(this.p.colNames.length===this.p.colModel.length){var i=$("<div class='ui-jqgrid-view' role='grid'></div>"),r=$.jgrid.msie;Q.p.direction=$.trim(Q.p.direction.toLowerCase()),-1===$.inArray(Q.p.direction,["ltr","rtl"])&&(Q.p.direction="ltr"),m=Q.p.direction,$(i).insertBefore(this),$(this).removeClass("scroll").appendTo(i);var o=$("<div class='ui-jqgrid ui-widget ui-widget-content ui-corner-all'></div>");$(o).attr({id:"gbox_"+this.id,dir:m}).insertBefore(i),$(i).attr("id","gview_"+this.id).appendTo(o),$("<div class='ui-widget-overlay jqgrid-overlay' id='lui_"+this.id+"'></div>").insertBefore(i),$("<div class='loading ui-state-default ui-state-active' id='load_"+this.id+"'>"+this.p.loadtext+"</div>").insertBefore(i),$(this).attr({cellspacing:"0",cellpadding:"0",border:"0",role:"presentation","aria-multiselectable":!!this.p.multiselect,"aria-labelledby":"gbox_"+this.id});var a,V=function(e,t){return e=parseInt(e,10),isNaN(e)?t||0:e},s=function(e,t,i,r,o,a){var n,s=Q.p.colModel[e],l=s.align,d='style="',p=s.classes,c=s.name,u=[];return l&&(d+="text-align:"+l+";"),!0===s.hidden&&(d+="display:none;"),0===t?d+="width: "+h.headers[e].width+"px;":($.isFunction(s.cellattr)||"string"==typeof s.cellattr&&null!=$.jgrid.cellattr&&$.isFunction($.jgrid.cellattr[s.cellattr]))&&(n=($.isFunction(s.cellattr)?s.cellattr:$.jgrid.cellattr[s.cellattr]).call(Q,o,i,r,s,a))&&"string"==typeof n&&(-1<(n=n.replace(/style/i,"style").replace(/title/i,"title")).indexOf("title")&&(s.title=!1),-1<n.indexOf("class")&&(p=void 0),2===(u=n.replace(/\-style/g,"-sti").split(/style/)).length?(u[1]=$.trim(u[1].replace(/\-sti/g,"-style").replace("=","")),0!==u[1].indexOf("'")&&0!==u[1].indexOf('"')||(u[1]=u[1].substring(1)),d+=u[1].replace(/'/gi,'"')):d+='"'),u.length||(u[0]="",d+='"'),d+=(void 0!==p?' class="'+p+'"':"")+(s.title&&i?' title="'+$.jgrid.stripHtml(i)+'"':""),(d+=' aria-describedby="'+Q.p.id+"_"+c+'"')+u[0]},l=function(e){return null==e||""===e?"&#160;":Q.p.autoencode?$.jgrid.htmlEncode(e):String(e)},d=function(e,t,i,r,o){var a,n=Q.p.colModel[i];return void 0!==n.formatter?(a={rowId:e=""!==String(Q.p.idPrefix)?$.jgrid.stripPref(Q.p.idPrefix,e):e,colModel:n,gid:Q.p.id,pos:i},$.isFunction(n.formatter)?n.formatter.call(Q,t,a,r,o):$.fmatter?$.fn.fmatter.call(Q,n.formatter,t,a,r,o):l(t)):l(t)},X=function(e,t,i,r,o,a){var n=d(e,t,i,o,"add");return'<td role="gridcell" '+s(i,r,n,o,e,a)+">"+n+"</td>"},Y=function(e,t,i,r){var o='<input role="checkbox" type="checkbox" id="jqg_'+Q.p.id+"_"+e+'" class="cbox" name="jqg_'+Q.p.id+"_"+e+'"'+(r?'checked="checked"':"")+"/>";return'<td role="gridcell" '+s(t,i,"",null,e,!0)+">"+o+"</td>"},W=function(e,t,i,r){var o=(parseInt(i,10)-1)*parseInt(r,10)+1+t;return'<td role="gridcell" class="ui-state-default jqgrid-rownum" '+s(e,t,o,null,t,!0)+">"+o+"</td>"},U=function(e){for(var t,i=[],r=0,o=0;o<Q.p.colModel.length;o++)"cb"!==(t=Q.p.colModel[o]).name&&"subgrid"!==t.name&&"rn"!==t.name&&(i[r]="local"===e?t.name:"xml"===e||"xmlstring"===e?t.xmlmap||t.name:t.jsonmap||t.name,!1!==Q.p.keyName&&!0===t.key&&(Q.p.keyName=i[r]),r++);return i},K=function(t){var e=Q.p.remapColumns;return e&&e.length||(e=$.map(Q.p.colModel,function(e,t){return t})),t&&(e=$.map(e,function(e){return e<t?null:e-t})),e},J=function(e,t){var i;this.p.deepempty?$(this.rows).slice(1).remove():(i=0<this.rows.length?this.rows[0]:null,$(this.firstChild).empty().append(i)),e&&this.p.scroll&&($(this.grid.bDiv.firstChild).css({height:"auto"}),$(this.grid.bDiv.firstChild.firstChild).css({height:0,display:"none"}),0!==this.grid.bDiv.scrollTop&&(this.grid.bDiv.scrollTop=0)),!0===t&&this.p.treeGrid&&(this.p.data=[],this.p._index={})},n=function(){var e,t,i,r,o,a,n,s,l,d,p,c=Q.p,u=c.data,h=u.length,f=c.localReader,g=c.colModel,m=f.cell,v=(!0===c.multiselect?1:0)+(!0===c.subGrid?1:0)+(!0===c.rownumbers?1:0),b=c.scroll?$.jgrid.randId():1;if("local"===c.datatype&&!0===f.repeatitems)for(l=K(v),d=U("local"),r=!1===c.keyIndex?$.isFunction(f.id)?f.id.call(Q,u):f.id:c.keyIndex,e=0;e<h;e++){for(i=u[e],void 0===(o=$.jgrid.getAccessor(i,r))&&("number"==typeof r&&null!=g[r+v]&&(o=$.jgrid.getAccessor(i,g[r+v].name)),void 0===o&&(o=b+e,m&&(o=null!=(a=$.jgrid.getAccessor(i,m)||i)&&void 0!==a[r]?a[r]:o,a=null))),(s={})[f.id]=o,m&&(i=$.jgrid.getAccessor(i,m)||i),p=$.isArray(i)?l:d,t=0;t<p.length;t++)n=$.jgrid.getAccessor(i,p[t]),s[g[t+v].name]=n;$.extend(!0,u[e],s)}},p=function(){var e,t,i=Q.p.data.length,r=!1===Q.p.keyName||!0===Q.p.loadonce?Q.p.localReader.id:Q.p.keyName;for(Q.p._index=[],e=0;e<i;e++)void 0===(t=$.jgrid.getAccessor(Q.p.data[e],r))&&(t=String(e+1)),Q.p._index[t]=e},Z=function(e,t,i,r,o,a){var n,s="-1",l="",d=t?"display:none;":"",p="ui-widget-content jqgrow ui-row-"+Q.p.direction+(i?" "+i:"")+(a?" ui-state-highlight":""),c=$(Q).triggerHandler("jqGridRowAttr",[r,o,e]);if("object"!=typeof c&&(c=$.isFunction(Q.p.rowattr)?Q.p.rowattr.call(Q,r,o,e):"string"==typeof Q.p.rowattr&&null!=$.jgrid.rowattr&&$.isFunction($.jgrid.rowattr[Q.p.rowattr])?$.jgrid.rowattr[Q.p.rowattr].call(Q,r,o,e):{}),!$.isEmptyObject(c)){c.hasOwnProperty("id")&&(e=c.id,delete c.id),c.hasOwnProperty("tabindex")&&(s=c.tabindex,delete c.tabindex),c.hasOwnProperty("style")&&(d+=c.style,delete c.style),c.hasOwnProperty("class")&&(p+=" "+c.class,delete c.class);try{delete c.role}catch(e){}for(n in c)c.hasOwnProperty(n)&&(l+=" "+n+"="+c[n])}return'<tr role="row" id="'+e+'" tabindex="'+s+'" class="'+p+'"'+(""===d?"":' style="'+d+'"')+l+">"},v=function(e,t,i,r,o){var a=new Date,n="local"!==Q.p.datatype&&Q.p.loadonce||"xmlstring"===Q.p.datatype,s="_id_",l=Q.p.xmlReader,d="local"===Q.p.datatype?"local":"xml";if(n&&(Q.p.data=[],Q.p._index={},Q.p.localReader.id=s),Q.p.reccount=0,$.isXMLDoc(e)){i=-1!==Q.p.treeANode||Q.p.scroll?1<i?i:1:(J.call(Q,!1,!0),1);var p,c,u,h,f,g,m,v,b,w,j=$(Q),y=0,x=!0===Q.p.multiselect?1:0,q=0,D=!0===Q.p.rownumbers?1:0,C=[],_={},I=[],k=!0===Q.p.altRows?Q.p.altclass:"";!0===Q.p.subGrid&&(q=1,h=$.jgrid.getMethod("addSubGridCell")),l.repeatitems||(C=U(d)),f=!1===Q.p.keyName?$.isFunction(l.id)?l.id.call(Q,e):l.id:Q.p.keyName,g=-1===String(f).indexOf("[")?C.length?function(e,t){return $(f,e).text()||t}:function(e,t){return $(l.cell,e).eq(f).text()||t}:function(e,t){return e.getAttribute(f.replace(/[\[\]]/g,""))||t},Q.p.userData={},Q.p.page=V($.jgrid.getXmlData(e,l.page),Q.p.page),Q.p.lastpage=V($.jgrid.getXmlData(e,l.total),1),Q.p.records=V($.jgrid.getXmlData(e,l.records)),$.isFunction(l.userdata)?Q.p.userData=l.userdata.call(Q,e)||{}:$.jgrid.getXmlData(e,l.userdata,!0).each(function(){Q.p.userData[this.getAttribute("name")]=$(this).text()});var G=$.jgrid.getXmlData(e,l.root,!0),F=(G=(G=$.jgrid.getXmlData(G,l.row,!0))||[]).length,S=0,R=[],M=parseInt(Q.p.rowNum,10),E=Q.p.scroll?$.jgrid.randId():1;if(0<F&&Q.p.page<=0&&(Q.p.page=1),G&&F){o&&(M*=o+1);var O,T=$.isFunction(Q.p.afterInsertRow),A=!1;for(Q.p.grouping&&(A=!0===Q.p.groupingView.groupCollapse,O=$.jgrid.getMethod("groupingPrepare"));S<F;){v=G[S],b=g(v,E+S),b=Q.p.idPrefix+b,w=((0===i?0:i+1)+S)%2==1?k:"";var N=I.length;if(I.push(""),D&&I.push(W(0,S,Q.p.page,Q.p.rowNum)),x&&I.push(Y(b,D,S,!1)),q&&I.push(h.call(j,x+D,S+i)),l.repeatitems){m=m||K(x+q+D);var P=$.jgrid.getXmlData(v,l.cell,!0);$.each(m,function(e){var t=P[this];if(!t)return!1;u=t.textContent||t.text,_[Q.p.colModel[e+x+q+D].name]=u,I.push(X(b,u,e+x+q+D,S+i,v,_))})}else for(p=0;p<C.length;p++)u=$.jgrid.getXmlData(v,C[p]),_[Q.p.colModel[p+x+q+D].name]=u,I.push(X(b,u,p+x+q+D,S+i,v,_));if(I[N]=Z(b,A,w,_,v,!1),I.push("</tr>"),Q.p.grouping&&(R.push(I),Q.p.groupingView._locgr||O.call(j,_,S),I=[]),!n&&!0!==Q.p.treeGrid||(_[s]=$.jgrid.stripPref(Q.p.idPrefix,b),Q.p.data.push(_),Q.p._index[_[s]]=Q.p.data.length-1),!1===Q.p.gridview&&($("tbody:first",t).append(I.join("")),j.triggerHandler("jqGridAfterInsertRow",[b,_,v]),T&&Q.p.afterInsertRow.call(Q,b,_,v),I=[]),_={},S++,++y===M)break}}if(!0===Q.p.gridview&&(c=-1<Q.p.treeANode?Q.p.treeANode:0,Q.p.grouping?n||(j.jqGrid("groupingRender",R,Q.p.colModel.length,Q.p.page,M),R=null):!0===Q.p.treeGrid&&0<c?$(Q.rows[c]).after(I.join("")):(Q.firstElementChild.innerHTML+=I.join(""),Q.grid.cols=Q.rows[0].cells)),!0===Q.p.subGrid)try{j.jqGrid("addSubGrid",x+D)}catch(e){}if(Q.p.totaltime=new Date-a,0<y&&0===Q.p.records&&(Q.p.records=F),!(I=null)===Q.p.treeGrid)try{j.jqGrid("setTreeNode",c+1,y+c+1)}catch(e){}if(Q.p.reccount=y,Q.p.treeANode=-1,Q.p.userDataOnFooter&&j.jqGrid("footerData","set",Q.p.userData,!0),n&&(Q.p.records=F,Q.p.lastpage=Math.ceil(F/M)),r||Q.updatepager(!1,!0),n){for(;y<F;){if(v=G[y],b=g(v,y+E),b=Q.p.idPrefix+b,l.repeatitems){m=m||K(x+q+D);var H=$.jgrid.getXmlData(v,l.cell,!0);$.each(m,function(e){var t=H[this];if(!t)return!1;u=t.textContent||t.text,_[Q.p.colModel[e+x+q+D].name]=u})}else for(p=0;p<C.length;p++)u=$.jgrid.getXmlData(v,C[p]),_[Q.p.colModel[p+x+q+D].name]=u;_[s]=$.jgrid.stripPref(Q.p.idPrefix,b),Q.p.grouping&&O.call(j,_,y),Q.p.data.push(_),Q.p._index[_[s]]=Q.p.data.length-1,_={},y++}Q.p.grouping&&(Q.p.groupingView._locgr=!0,j.jqGrid("groupingRender",R,Q.p.colModel.length,Q.p.page,M),R=null)}}},b=function(e,t,i,r,o){var a=new Date;if(e){i=-1!==Q.p.treeANode||Q.p.scroll?1<i?i:1:(J.call(Q,!1,!0),1);var n,s,l="_id_",d="local"!==Q.p.datatype&&Q.p.loadonce||"jsonstring"===Q.p.datatype;d&&(Q.p.data=[],Q.p._index={},Q.p.localReader.id=l),Q.p.reccount=0,s="local"===Q.p.datatype?(n=Q.p.localReader,"local"):(n=Q.p.jsonReader,"json");var p,c,u,h,f,g,m,v,b,w,j=$(Q),y=0,x=[],q=Q.p.multiselect?1:0,D=!0===Q.p.subGrid?1:0,C=!0===Q.p.rownumbers?1:0,_=K(q+D+C),I=U(s),k={},G=[],F=!0===Q.p.altRows?Q.p.altclass:"";Q.p.page=V($.jgrid.getAccessor(e,n.page),Q.p.page),Q.p.lastpage=V($.jgrid.getAccessor(e,n.total),1),Q.p.records=V($.jgrid.getAccessor(e,n.records)),Q.p.userData=$.jgrid.getAccessor(e,n.userdata)||{},D&&(h=$.jgrid.getMethod("addSubGridCell")),v=!1===Q.p.keyName?$.isFunction(n.id)?n.id.call(Q,e):n.id:Q.p.keyName,null==(m=$.jgrid.getAccessor(e,n.root))&&$.isArray(e)&&(m=e),(c=0)<(g=(m=m||[]).length)&&Q.p.page<=0&&(Q.p.page=1);var S,R=parseInt(Q.p.rowNum,10),M=Q.p.scroll?$.jgrid.randId():1,E=!1;o&&(R*=o+1),"local"!==Q.p.datatype||Q.p.deselectAfterSort||(E=!0);var O,T,A=$.isFunction(Q.p.afterInsertRow),N=[],P=!1;for(Q.p.grouping&&(P=!0===Q.p.groupingView.groupCollapse,O=$.jgrid.getMethod("groupingPrepare"));c<g;){var H,L,z=m[c];void 0===(H=$.jgrid.getAccessor(z,v))&&("number"==typeof v&&null!=Q.p.colModel[v+q+D+C]&&(H=$.jgrid.getAccessor(z,Q.p.colModel[v+q+D+C].name)),void 0===H&&(H=M+c,0===x.length&&n.cell&&(H=null!=(L=$.jgrid.getAccessor(z,n.cell)||z)&&void 0!==L[v]?L[v]:H,L=null))),H=Q.p.idPrefix+H,w=((1===i?0:i)+c)%2==1?F:"",E&&(S=Q.p.multiselect?-1!==$.inArray(H,Q.p.selarrrow):H===Q.p.selrow);var B=G.length;for(G.push(""),C&&G.push(W(0,c,Q.p.page,Q.p.rowNum)),q&&G.push(Y(H,C,c,S)),D&&G.push(h.call(j,q+C,c+i)),f=I,n.repeatitems&&(n.cell&&(z=$.jgrid.getAccessor(z,n.cell)||z),$.isArray(z)&&(f=_)),u=0;u<f.length;u++)p=$.jgrid.getAccessor(z,f[u]),k[Q.p.colModel[u+q+D+C].name]=p,G.push(X(H,p,u+q+D+C,c+i,z,k));if(G[B]=Z(H,P,w,k,z,S),G.push("</tr>"),Q.p.grouping&&(N.push(G),Q.p.groupingView._locgr||O.call(j,k,c),G=[]),!d&&!0!==Q.p.treeGrid||(k[l]=$.jgrid.stripPref(Q.p.idPrefix,H),Q.p.data.push(k),Q.p._index[k[l]]=Q.p.data.length-1),!1===Q.p.gridview&&($("#"+$.jgrid.jqID(Q.p.id)+" tbody:first").append(G.join("")),j.triggerHandler("jqGridAfterInsertRow",[H,k,z]),A&&Q.p.afterInsertRow.call(Q,H,k,z),G=[]),k={},c++,++y===R)break}if(!0===Q.p.gridview&&(b=-1<Q.p.treeANode?Q.p.treeANode:0,Q.p.grouping?d||(j.jqGrid("groupingRender",N,Q.p.colModel.length,Q.p.page,R),N=null):!0===Q.p.treeGrid&&0<b?$(Q.rows[b]).after(G.join("")):(Q.firstElementChild.innerHTML+=G.join(""),Q.grid.cols=Q.rows[0].cells)),!0===Q.p.subGrid)try{j.jqGrid("addSubGrid",q+C)}catch(e){}if(Q.p.totaltime=new Date-a,0<y&&0===Q.p.records&&(Q.p.records=g),!(G=null)===Q.p.treeGrid)try{j.jqGrid("setTreeNode",b+1,y+b+1)}catch(e){}if(Q.p.reccount=y,Q.p.treeANode=-1,Q.p.userDataOnFooter&&j.jqGrid("footerData","set",Q.p.userData,!0),d&&(Q.p.records=g,Q.p.lastpage=Math.ceil(g/R)),r||Q.updatepager(!1,!0),d){for(;y<g&&m[y];){if(z=m[y],void 0===(H=$.jgrid.getAccessor(z,v))&&("number"==typeof v&&null!=Q.p.colModel[v+q+D+C]&&(H=$.jgrid.getAccessor(z,Q.p.colModel[v+q+D+C].name)),void 0===H&&(H=M+y,0===x.length&&n.cell&&(H=null!=(T=$.jgrid.getAccessor(z,n.cell)||z)&&void 0!==T[v]?T[v]:H,T=null))),z){for(H=Q.p.idPrefix+H,f=I,n.repeatitems&&(n.cell&&(z=$.jgrid.getAccessor(z,n.cell)||z),$.isArray(z)&&(f=_)),u=0;u<f.length;u++)k[Q.p.colModel[u+q+D+C].name]=$.jgrid.getAccessor(z,f[u]);k[l]=$.jgrid.stripPref(Q.p.idPrefix,H),Q.p.grouping&&O.call(j,k,y),Q.p.data.push(k),Q.p._index[k[l]]=Q.p.data.length-1,k={}}y++}Q.p.grouping&&(Q.p.groupingView._locgr=!0,j.jqGrid("groupingRender",N,Q.p.colModel.length,Q.p.page,R),N=null)}}},w=function(){var i,r,o,a=Q.p.multiSort?[]:"",n=[],s=!1,l={},d=[],p=[];if($.isArray(Q.p.data)){var c,u,h=!!Q.p.grouping&&Q.p.groupingView;if($.each(Q.p.colModel,function(){if("date"===(r=this.sorttype||"text")||"datetime"===r?(this.formatter&&"string"==typeof this.formatter&&"date"===this.formatter?(i=this.formatoptions&&this.formatoptions.srcformat?this.formatoptions.srcformat:$.jgrid.formatter.date.srcformat,o=this.formatoptions&&this.formatoptions.newformat?this.formatoptions.newformat:$.jgrid.formatter.date.newformat):i=o=this.datefmt||"Y-m-d",l[this.name]={stype:r,srcfmt:i,newfmt:o,sfunc:this.sortfunc||null}):l[this.name]={stype:r,srcfmt:"",newfmt:"",sfunc:this.sortfunc||null},Q.p.grouping)for(u=0,c=h.groupField.length;u<c;u++){var e;this.name===h.groupField[u]&&(e=this.name,this.index&&(e=this.index),d[u]=l[e],p[u]=e)}var t;Q.p.multiSort?this.lso&&(a.push(this.name),t=this.lso.split("-"),n.push(t[t.length-1])):s||this.index!==Q.p.sortname&&this.name!==Q.p.sortname||(a=this.name,s=!0)}),!Q.p.treeGrid){var f={eq:function(e){return e.equals},ne:function(e){return e.notEquals},lt:function(e){return e.less},le:function(e){return e.lessOrEquals},gt:function(e){return e.greater},ge:function(e){return e.greaterOrEquals},cn:function(e){return e.contains},nc:function(e,t){return"OR"===t?e.orNot().contains:e.andNot().contains},bw:function(e){return e.startsWith},bn:function(e,t){return"OR"===t?e.orNot().startsWith:e.andNot().startsWith},en:function(e,t){return"OR"===t?e.orNot().endsWith:e.andNot().endsWith},ew:function(e){return e.endsWith},ni:function(e,t){return"OR"===t?e.orNot().equals:e.andNot().equals},in:function(e){return e.equals},nu:function(e){return e.isNull},nn:function(e,t){return"OR"===t?e.orNot().isNull:e.andNot().isNull}},g=$.jgrid.from(Q.p.data);if(Q.p.ignoreCase&&(g=g.ignoreCase()),!0===Q.p.search){var e=Q.p.postData.filters;if(e)"string"==typeof e&&(e=$.jgrid.parse(e)),function e(t){var i,r,o,a,n,s=0;if(null!=t.groups){for((r=t.groups.length&&"OR"===t.groupOp.toString().toUpperCase())&&g.orBegin(),i=0;i<t.groups.length;i++){0<s&&r&&g.or();try{e(t.groups[i])}catch(e){alert(e)}s++}r&&g.orEnd()}if(null!=t.rules)try{for((o=t.rules.length&&"OR"===t.groupOp.toString().toUpperCase())&&g.orBegin(),i=0;i<t.rules.length;i++)n=t.rules[i],a=t.groupOp.toString().toUpperCase(),f[n.op]&&n.field&&(0<s&&a&&"OR"===a&&(g=g.or()),g=f[n.op](g,a)(n.field,n.data,l[n.field])),s++;o&&g.orEnd()}catch(e){alert(e)}}(e);else try{g=f[Q.p.postData.searchOper](g)(Q.p.postData.searchField,Q.p.postData.searchString,l[Q.p.postData.searchField])}catch(e){}}if(Q.p.grouping)for(u=0;u<c;u++)g.orderBy(p[u],h.groupOrder[u],d[u].stype,d[u].srcfmt);Q.p.multiSort?$.each(a,function(e){g.orderBy(this,n[e],l[this].stype,l[this].srcfmt,l[this].sfunc)}):a&&Q.p.sortorder&&s&&("DESC"===Q.p.sortorder.toUpperCase()?g.orderBy(Q.p.sortname,"d",l[a].stype,l[a].srcfmt,l[a].sfunc):g.orderBy(Q.p.sortname,"a",l[a].stype,l[a].srcfmt,l[a].sfunc));var t=g.select(),m=parseInt(Q.p.rowNum,10),v=t.length,b=parseInt(Q.p.page,10),w=Math.ceil(v/m),j={};if((Q.p.search||Q.p.resetsearch)&&Q.p.grouping&&Q.p.groupingView._locgr){Q.p.groupingView.groups=[];var y,x,q,D=$.jgrid.getMethod("groupingPrepare");if(Q.p.footerrow&&Q.p.userDataOnFooter){for(x in Q.p.userData)Q.p.userData.hasOwnProperty(x)&&(Q.p.userData[x]=0);q=!0}for(y=0;y<v;y++){if(q)for(x in Q.p.userData)Q.p.userData[x]+=parseFloat(t[y][x]||0);D.call($(Q),t[y],y,m)}}return t=t.slice((b-1)*m,b*m),l=g=null,j[Q.p.localReader.total]=w,j[Q.p.localReader.page]=b,j[Q.p.localReader.records]=v,j[Q.p.localReader.root]=t,j[Q.p.localReader.userdata]=Q.p.userData,t=null,j}$(Q).jqGrid("SortTree",a,Q.p.sortorder,l[a].stype||"text",l[a].srcfmt||"")}},j=function(){Q.grid.hDiv.loading=!0,Q.p.hiddengrid||$(Q).jqGrid("progressBar",{method:"show",loadtype:Q.p.loadui,htmlcontent:Q.p.loadtext})},y=function(){Q.grid.hDiv.loading=!1,$(Q).jqGrid("progressBar",{method:"hide",loadtype:Q.p.loadui})},x=function(r){if(!Q.grid.hDiv.loading){var o,e,a=Q.p.scroll&&!1===r,t={},i=Q.p.prmNames;Q.p.page<=0&&(Q.p.page=Math.min(1,Q.p.lastpage)),null!==i.search&&(t[i.search]=Q.p.search),null!==i.nd&&(t[i.nd]=(new Date).getTime()),null!==i.rows&&(t[i.rows]=Q.p.rowNum),null!==i.page&&(t[i.page]=Q.p.page),null!==i.sort&&(t[i.sort]=Q.p.sortname),null!==i.order&&(t[i.order]=Q.p.sortorder),null!==Q.p.rowTotal&&null!==i.totalrows&&(t[i.totalrows]=Q.p.rowTotal);var n=$.isFunction(Q.p.loadComplete),s=n?Q.p.loadComplete:null,l=0;if(1<(r=r||1)?null!==i.npage?(t[i.npage]=r,l=r-1,r=1):s=function(e){Q.p.page++,Q.grid.hDiv.loading=!1,n&&Q.p.loadComplete.call(Q,e),x(r-1)}:null!==i.npage&&delete Q.p.postData[i.npage],Q.p.grouping){$(Q).jqGrid("groupingSetup");for(var d=Q.p.groupingView,p="",c=0;c<d.groupField.length;c++){var u=d.groupField[c];$.each(Q.p.colModel,function(e,t){t.name===u&&t.index&&(u=t.index)}),p+=u+" "+d.groupOrder[c]+", "}t[i.sort]=p+t[i.sort]}$.extend(Q.p.postData,t);var h=Q.p.scroll?Q.rows.length-1:1,f=$(Q).triggerHandler("jqGridBeforeRequest");if(!1===f||"stop"===f)return;if($.isFunction(Q.p.datatype))return void Q.p.datatype.call(Q,Q.p.postData,"load_"+Q.p.id,h,r,l);if($.isFunction(Q.p.beforeRequest)&&(void 0===(f=Q.p.beforeRequest.call(Q))&&(f=!0),!1===f))return;switch(o=Q.p.datatype.toLowerCase()){case"json":case"jsonp":case"xml":case"script":$.ajax($.extend({url:Q.p.url,type:Q.p.mtype,dataType:o,data:$.isFunction(Q.p.serializeGridData)?Q.p.serializeGridData.call(Q,Q.p.postData):Q.p.postData,success:function(e,t,i){$.isFunction(Q.p.beforeProcessing)&&!1===Q.p.beforeProcessing.call(Q,e,t,i)?y():(("xml"===o?v:b)(e,Q.grid.bDiv,h,1<r,l),$(Q).triggerHandler("jqGridLoadComplete",[e]),s&&s.call(Q,e),$(Q).triggerHandler("jqGridAfterLoadComplete",[e]),a&&Q.grid.populateVisible(),(Q.p.loadonce||Q.p.treeGrid)&&(Q.p.datatype="local"),e=null,1===r&&y())},error:function(e,t,i){$.isFunction(Q.p.loadError)&&Q.p.loadError.call(Q,e,t,i),1===r&&y(),e=null},beforeSend:function(e,t){var i=!0;if($.isFunction(Q.p.loadBeforeSend)&&(i=Q.p.loadBeforeSend.call(Q,e,t)),void 0===i&&(i=!0),!1===i)return!1;j()}},$.jgrid.ajaxOptions,Q.p.ajaxGridOptions));break;case"xmlstring":j(),e="string"!=typeof Q.p.datastr?Q.p.datastr:$.parseXML(Q.p.datastr),v(e,Q.grid.bDiv),$(Q).triggerHandler("jqGridLoadComplete",[e]),n&&Q.p.loadComplete.call(Q,e),$(Q).triggerHandler("jqGridAfterLoadComplete",[e]),Q.p.datatype="local",Q.p.datastr=null,y();break;case"jsonstring":j(),e="string"==typeof Q.p.datastr?$.jgrid.parse(Q.p.datastr):Q.p.datastr,b(e,Q.grid.bDiv),$(Q).triggerHandler("jqGridLoadComplete",[e]),n&&Q.p.loadComplete.call(Q,e),$(Q).triggerHandler("jqGridAfterLoadComplete",[e]),Q.p.datatype="local",Q.p.datastr=null,y();break;case"local":case"clientside":j(),Q.p.datatype="local";var g=w();b(g,Q.grid.bDiv,h,1<r,l),$(Q).triggerHandler("jqGridLoadComplete",[g]),s&&s.call(Q,g),$(Q).triggerHandler("jqGridAfterLoadComplete",[g]),a&&Q.grid.populateVisible(),y()}}},q=function(e){$("#cb_"+$.jgrid.jqID(Q.p.id),Q.grid.hDiv)[Q.p.useProp?"prop":"attr"]("checked",e),(Q.p.frozenColumns?Q.p.id+"_frozen":"")&&$("#cb_"+$.jgrid.jqID(Q.p.id),Q.grid.fhDiv)[Q.p.useProp?"prop":"attr"]("checked",e)},c=function(e,s){function l(e){var t;return $.isFunction(Q.p.onPaging)&&(t=Q.p.onPaging.call(Q,e)),"stop"!==t&&(Q.p.selrow=null,Q.p.multiselect&&(Q.p.selarrrow=[],q(!1)),Q.p.savedRow=[])}var t,i,r,o,a,n,d,p,c="<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'></span></td>",u="",h="<table cellspacing='0' cellpadding='0' border='0' style='table-layout:auto;' class='ui-pg-table'><tbody><tr>",f="";if(e=e.substr(1),s+="_"+e,t="pg_"+e,i=e+"_left",r=e+"_center",o=e+"_right",$("#"+$.jgrid.jqID(e)).append("<div id='"+t+"' class='ui-pager-control' role='group'><table cellspacing='0' cellpadding='0' border='0' class='ui-pg-table' style='width:100%;table-layout:fixed;height:100%;' role='row'><tbody><tr><td id='"+i+"' align='left'></td><td id='"+r+"' align='center' style='white-space:pre;'></td><td id='"+o+"' align='right'></td></tr></tbody></table></div>").attr("dir","ltr"),0<Q.p.rowList.length){var g,f="<td dir='"+m+"'>";for(f+="<select class='ui-pg-selbox' role='listbox' "+(Q.p.pgrecs?"title='"+Q.p.pgrecs+"'":"")+">",d=0;d<Q.p.rowList.length;d++)1===(g=Q.p.rowList[d].toString().split(":")).length&&(g[1]=g[0]),f+='<option role="option" value="'+g[0]+'"'+(V(Q.p.rowNum,0)===V(g[0],0)?' selected="selected"':"")+">"+g[1]+"</option>";f+="</select></td>"}"rtl"===m&&(h+=f),!0===Q.p.pginput&&(u="<td dir='"+m+"'>"+$.jgrid.format(Q.p.pgtext||"","<input class='ui-pg-input' type='text' size='2' maxlength='7' value='0' role='textbox'/>","<span id='sp_1_"+$.jgrid.jqID(e)+"'></span>")+"</td>"),!0===Q.p.pgbuttons?(p=["first"+s,"prev"+s,"next"+s,"last"+s],"rtl"===m&&p.reverse(),h+="<td id='"+p[0]+"' class='ui-pg-button ui-corner-all' "+(Q.p.pgfirst?"title='"+Q.p.pgfirst+"'":"")+"><span class='ui-icon ui-icon-seek-first'></span></td>",h+="<td id='"+p[1]+"' class='ui-pg-button ui-corner-all' "+(Q.p.pgprev?"title='"+Q.p.pgprev+"'":"")+"><span class='ui-icon ui-icon-seek-prev'></span></td>",h+=""!==u?c+u+c:"",h+="<td id='"+p[2]+"' class='ui-pg-button ui-corner-all' "+(Q.p.pgnext?"title='"+Q.p.pgnext+"'":"")+"><span class='ui-icon ui-icon-seek-next'></span></td>",h+="<td id='"+p[3]+"' class='ui-pg-button ui-corner-all' "+(Q.p.pglast?"title='"+Q.p.pglast+"'":"")+"><span class='ui-icon ui-icon-seek-end'></span></td>"):""!==u&&(h+=u),"ltr"===m&&(h+=f),h+="</tr></tbody></table>",!0===Q.p.viewrecords&&$("td#"+e+"_"+Q.p.recordpos,"#"+t).append("<div dir='"+m+"' style='text-align:"+Q.p.recordpos+"' class='ui-paging-info'></div>"),$("td#"+e+"_"+Q.p.pagerpos,"#"+t).append(h),n=$(".ui-jqgrid").css("font-size")||"11px",$(document.body).append("<div id='testpg' class='ui-jqgrid ui-widget ui-widget-content' style='font-size:"+n+";visibility:hidden;' ></div>"),a=$(h).clone().appendTo("#testpg").width(),$("#testpg").remove(),0<a&&(""!==u&&(a+=50),$("td#"+e+"_"+Q.p.pagerpos,"#"+t).width(a)),Q.p._nvtd=[],Q.p._nvtd[0]=a?Math.floor((Q.p.width-a)/2):Math.floor(Q.p.width/3),Q.p._nvtd[1]=0,h=null,$(".ui-pg-selbox","#"+t).bind("change",function(){return l("records")&&(Q.p.page=Math.round(Q.p.rowNum*(Q.p.page-1)/this.value-.5)+1,Q.p.rowNum=this.value,Q.p.pager&&$(".ui-pg-selbox",Q.p.pager).val(this.value),Q.p.toppager&&$(".ui-pg-selbox",Q.p.toppager).val(this.value),x()),!1}),!0===Q.p.pgbuttons&&($(".ui-pg-button","#"+t).hover(function(){$(this).hasClass("ui-state-disabled")?this.style.cursor="default":($(this).addClass("ui-state-hover"),this.style.cursor="pointer")},function(){$(this).hasClass("ui-state-disabled")||($(this).removeClass("ui-state-hover"),this.style.cursor="default")}),$("#first"+$.jgrid.jqID(s)+", #prev"+$.jgrid.jqID(s)+", #next"+$.jgrid.jqID(s)+", #last"+$.jgrid.jqID(s)).click(function(){if($(this).hasClass("ui-state-disabled"))return!1;var e=V(Q.p.page,1),t=V(Q.p.lastpage,1),i=!1,r=!0,o=!0,a=!0,n=!0;return 0===t||1===t?n=a=o=r=!1:1<t&&1<=e?1===e?o=r=!1:e===t&&(n=a=!1):1<t&&0===e&&(n=a=!1,e=t-1),l(this.id)&&(this.id==="first"+s&&r&&(Q.p.page=1,i=!0),this.id==="prev"+s&&o&&(Q.p.page=e-1,i=!0),this.id==="next"+s&&a&&(Q.p.page=e+1,i=!0),this.id==="last"+s&&n&&(Q.p.page=t,i=!0),i&&x()),!1})),!0===Q.p.pginput&&$("input.ui-pg-input","#"+t).keypress(function(e){return 13===(e.charCode||e.keyCode||0)?(l("user")&&($(this).val(V($(this).val(),1)),Q.p.page=0<$(this).val()?$(this).val():Q.p.page,x()),!1):this})},f=function(e,t,i,r,o){if(Q.p.colModel[t].sortable&&!(0<Q.p.savedRow.length)){if(i||(Q.p.lastsort===t&&""!==Q.p.sortname?"asc"===Q.p.sortorder?Q.p.sortorder="desc":"desc"===Q.p.sortorder&&(Q.p.sortorder="asc"):Q.p.sortorder=Q.p.colModel[t].firstsortorder||"asc",Q.p.page=1),Q.p.multiSort)!function(e,t){var i,r="",o=Q.p.colModel,a=!1,n=Q.p.frozenColumns?t:Q.grid.headers[e].el,s="";$("span.ui-grid-ico-sort",n).addClass("ui-state-disabled"),$(n).attr("aria-selected","false"),o[e].lso?"asc"===o[e].lso?(o[e].lso+="-desc",s="desc"):"desc"===o[e].lso?(o[e].lso+="-asc",s="asc"):"asc-desc"!==o[e].lso&&"desc-asc"!==o[e].lso||(o[e].lso=""):o[e].lso=s=o[e].firstsortorder||"asc",s?($("span.s-ico",n).show(),$("span.ui-icon-"+s,n).removeClass("ui-state-disabled"),$(n).attr("aria-selected","true")):Q.p.viewsortcols[0]||$("span.s-ico",n).hide(),Q.p.sortorder="",$.each(o,function(e){this.lso&&(0<e&&a&&(r+=", "),i=this.lso.split("-"),r+=o[e].index||o[e].name,r+=" "+i[i.length-1],a=!0,Q.p.sortorder=i[i.length-1])}),d=Q.p.sortname+Q.p.sortorder;var l=r.split(", "),d=d.split(", ");for(var p in d=d.reverse())"1"!=d[p].substr(0,1)&&l.unshift(d[p]);var c=[];for(var u in l)c[l[u]]=1;for(var u in l=[],c)l.push(u);var h=l.reverse(),f=[];for(var u in h){f[w=(w=h[u].split(" "))[0]]?(h[u]=h[f[w]],delete h[f[w]]):f[w]=u}h=(h=h.filter(function(e){return e})).reverse();var g=r.split(", ");for(var u in h){w=(w=h[u].split(" "))[0];var m=0;for(var v in g){var b=(b=g[v].split(" "))[0];w==b&&(m=1)}m||delete h[u]}var w,l=h.filter(function(e){return e});for(var u in l){w=(w=l[u].split(" "))[0],$.each(o,function(e){o[e].name!=w||1!=o[e].hidden||delete l[u]})}var l=l.filter(function(e){return e}),j=(r=l.join(", ")).lastIndexOf(" ");Q.p.sortname=r.substring(0,j+1),Q.p.sortorder=r.substring(j+1)}(t,o);else{if(r){if(Q.p.lastsort===t&&Q.p.sortorder===r&&!i)return;Q.p.sortorder=r}var a=Q.grid.headers[Q.p.lastsort].el,n=Q.p.frozenColumns?o:Q.grid.headers[t].el;$("span.ui-grid-ico-sort",a).addClass("ui-state-disabled"),$(a).attr("aria-selected","false"),Q.p.frozenColumns&&(Q.grid.fhDiv.find("span.ui-grid-ico-sort").addClass("ui-state-disabled"),Q.grid.fhDiv.find("th").attr("aria-selected","false")),$("span.ui-icon-"+Q.p.sortorder,n).removeClass("ui-state-disabled"),$(n).attr("aria-selected","true"),Q.p.viewsortcols[0]||(Q.p.lastsort!==t?(Q.p.frozenColumns&&Q.grid.fhDiv.find("span.s-ico").hide(),$("span.s-ico",a).hide(),$("span.s-ico",n).show()):""===Q.p.sortname&&$("span.s-ico",n).show()),e=e.substring(5+Q.p.id.length+1),Q.p.sortname=Q.p.colModel[t].index||e}var s;"stop"===$(Q).triggerHandler("jqGridSortCol",[Q.p.sortname,t,Q.p.sortorder])||$.isFunction(Q.p.onSortCol)&&"stop"===Q.p.onSortCol.call(Q,Q.p.sortname,t,Q.p.sortorder)?Q.p.lastsort=t:("local"===Q.p.datatype?Q.p.deselectAfterSort&&$(Q).jqGrid("resetSelection"):(Q.p.selrow=null,Q.p.multiselect&&q(!1),Q.p.selarrrow=[],Q.p.savedRow=[]),Q.p.scroll&&(s=Q.grid.bDiv.scrollLeft,J.call(Q,!0,!1),Q.grid.hDiv.scrollLeft=s),Q.p.subGrid&&"local"===Q.p.datatype&&$("td.sgexpanded","#"+$.jgrid.jqID(Q.p.id)).each(function(){$(this).trigger("click")}),x(),Q.p.lastsort=t,Q.p.sortname!==e&&t&&(Q.p.lastsort=t))}},g=function(e){for(var t=Q.grid.headers,i=$.jgrid.getCellIndex(e),r=0;r<t.length;r++)if(e===t[r].el){i=r;break}return i};for(this.p.id=this.id,-1===$.inArray(Q.p.multikey,["shiftKey","altKey","ctrlKey"])&&(Q.p.multikey=!1),Q.p.keyName=!1,t=0;t<Q.p.colModel.length;t++)a="string"==typeof Q.p.colModel[t].template?null!=$.jgrid.cmTemplate&&"object"==typeof $.jgrid.cmTemplate[Q.p.colModel[t].template]?$.jgrid.cmTemplate[Q.p.colModel[t].template]:{}:Q.p.colModel[t].template,Q.p.colModel[t]=$.extend(!0,{},Q.p.cmTemplate,a||{},Q.p.colModel[t]),!1===Q.p.keyName&&!0===Q.p.colModel[t].key&&(Q.p.keyName=Q.p.colModel[t].name);if(Q.p.sortorder=Q.p.sortorder.toLowerCase(),$.jgrid.cell_width=$.jgrid.cellWidth(),!0===Q.p.grouping&&(Q.p.scroll=!1,Q.p.rownumbers=!1,Q.p.treeGrid=!1,Q.p.gridview=!0),!0===this.p.treeGrid){try{$(this).jqGrid("setTreeGrid")}catch(e){}"local"!==Q.p.datatype&&(Q.p.localReader={id:"_id_"})}if(this.p.subGrid)try{$(Q).jqGrid("setSubGrid")}catch(e){}this.p.multiselect&&(this.p.colNames.unshift("<input role='checkbox' id='cb_"+this.p.id+"' class='cbox' type='checkbox'/>"),this.p.colModel.unshift({name:"cb",width:$.jgrid.cell_width?Q.p.multiselectWidth+Q.p.cellLayout:Q.p.multiselectWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0})),this.p.rownumbers&&(this.p.colNames.unshift(""),this.p.colModel.unshift({name:"rn",width:Q.p.rownumWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0})),Q.p.xmlReader=$.extend(!0,{root:"rows",row:"row",page:"rows>page",total:"rows>total",records:"rows>records",repeatitems:!0,cell:"cell",id:"[id]",userdata:"userdata",subgrid:{root:"rows",row:"row",repeatitems:!0,cell:"cell"}},Q.p.xmlReader),Q.p.jsonReader=$.extend(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!0,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},Q.p.jsonReader),Q.p.localReader=$.extend(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!1,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},Q.p.localReader),Q.p.scroll&&(Q.p.pgbuttons=!1,Q.p.pginput=!1,Q.p.rowList=[]),Q.p.data.length&&(n(),p());var D,C,_,I,k,G,F,S,R,M,E,O,T,A,N,P,H,L,z,B,ee,te,ie="<thead><tr class='ui-jqgrid-labels' role='row'>",re="",oe="",ae=[],ne=[],se=[];if(!0===Q.p.shrinkToFit&&!0===Q.p.forceFit)for(t=Q.p.colModel.length-1;0<=t;t--)if(!Q.p.colModel[t].hidden){Q.p.colModel[t].resizable=!1;break}if("horizontal"===Q.p.viewsortcols[1]&&(re=" ui-i-asc",oe=" ui-i-desc"),D=r?"class='ui-th-div-ie'":"",R="<span class='s-ico' style='display:none'><span sort='asc' class='ui-grid-ico-sort ui-icon-asc"+re+" ui-state-disabled ui-icon ui-icon-triangle-1-n ui-sort-"+m+"'></span>",R+="<span sort='desc' class='ui-grid-ico-sort ui-icon-desc"+oe+" ui-state-disabled ui-icon ui-icon-triangle-1-s ui-sort-"+m+"'></span></span>",Q.p.multiSort)for(ae=Q.p.sortname.split(","),t=0;t<ae.length;t++)se=$.trim(ae[t]).split(" "),ae[t]=$.trim(se[0]),ne[t]=se[1]?$.trim(se[1]):Q.p.sortorder||"asc";for(t=0;t<this.p.colNames.length;t++){var le=Q.p.headertitles?' title="'+$.jgrid.stripHtml(Q.p.colModel[t].tooltip||Q.p.colNames[t])+'"':"";ie+="<th id='"+Q.p.id+"_"+Q.p.colModel[t].name+"' role='columnheader' class='ui-state-default ui-th-column ui-th-"+m+"'"+le+">",C=Q.p.colModel[t].index||Q.p.colModel[t].name,ie+="<div id='jqgh_"+Q.p.id+"_"+Q.p.colModel[t].name+"' "+D+">"+Q.p.colNames[t],Q.p.colModel[t].width?Q.p.colModel[t].width=parseInt(Q.p.colModel[t].width,10):Q.p.colModel[t].width=150,"boolean"!=typeof Q.p.colModel[t].title&&(Q.p.colModel[t].title=!0),Q.p.colModel[t].lso="",C===Q.p.sortname&&(Q.p.lastsort=t),Q.p.multiSort&&-1!==(se=$.inArray(C,ae))&&(Q.p.colModel[t].lso=ne[se]),ie+=R+"</div></th>"}ie+="</tr></thead>",R=null,$(this).append(ie),$("thead tr:first th",this).hover(function(){$(this).addClass("ui-state-hover")},function(){$(this).removeClass("ui-state-hover")}),this.p.multiselect&&(M=[],$("#cb_"+$.jgrid.jqID(Q.p.id),this).bind("click",function(){Q.p.selarrrow=[];var t=!0===Q.p.frozenColumns?Q.p.id+"_frozen":"";this.checked?($(Q.rows).each(function(e){0<e&&($(this).hasClass("ui-subgrid")||$(this).hasClass("jqgroup")||$(this).hasClass("ui-state-disabled")||$(this).hasClass("jqfoot")||($("#jqg_"+$.jgrid.jqID(Q.p.id)+"_"+$.jgrid.jqID(this.id))[Q.p.useProp?"prop":"attr"]("checked",!0),$(this).addClass("ui-state-highlight").attr("aria-selected","true"),Q.p.selarrrow.push(this.id),Q.p.selrow=this.id,t&&($("#jqg_"+$.jgrid.jqID(Q.p.id)+"_"+$.jgrid.jqID(this.id),Q.grid.fbDiv)[Q.p.useProp?"prop":"attr"]("checked",!0),$("#"+$.jgrid.jqID(this.id),Q.grid.fbDiv).addClass("ui-state-highlight"))))}),E=!0,M=[]):($(Q.rows).each(function(e){0<e&&($(this).hasClass("ui-subgrid")||$(this).hasClass("jqgroup")||$(this).hasClass("ui-state-disabled")||$(this).hasClass("jqfoot")||($("#jqg_"+$.jgrid.jqID(Q.p.id)+"_"+$.jgrid.jqID(this.id))[Q.p.useProp?"prop":"attr"]("checked",!1),$(this).removeClass("ui-state-highlight").attr("aria-selected","false"),M.push(this.id),t&&($("#jqg_"+$.jgrid.jqID(Q.p.id)+"_"+$.jgrid.jqID(this.id),Q.grid.fbDiv)[Q.p.useProp?"prop":"attr"]("checked",!1),$("#"+$.jgrid.jqID(this.id),Q.grid.fbDiv).removeClass("ui-state-highlight"))))}),Q.p.selrow=null,E=!1),$(Q).triggerHandler("jqGridSelectAll",[E?Q.p.selarrrow:M,E]),$.isFunction(Q.p.onSelectAll)&&Q.p.onSelectAll.call(Q,E?Q.p.selarrrow:M,E)})),!0===Q.p.autowidth&&(O=$(o).innerWidth(),Q.p.width=0<O?O:"nw"),H=0,L=$.jgrid.cell_width?0:V(Q.p.cellLayout,0),z=0,B=V(Q.p.scrollOffset,0),ee=!1,te=0,$.each(Q.p.colModel,function(){var e;void 0===this.hidden&&(this.hidden=!1),Q.p.grouping&&Q.p.autowidth&&(0<=(e=$.inArray(this.name,Q.p.groupingView.groupField))&&Q.p.groupingView.groupColumnShow.length>e&&(this.hidden=!Q.p.groupingView.groupColumnShow[e])),this.widthOrg=A=V(this.width,0),!1===this.hidden&&(H+=A+L,this.fixed?te+=A+L:z++)}),isNaN(Q.p.width)&&(Q.p.width=H+(!1!==Q.p.shrinkToFit||isNaN(Q.p.height)?0:B)),h.width=Q.p.width,Q.p.tblwidth=H,!1===Q.p.shrinkToFit&&!0===Q.p.forceFit&&(Q.p.forceFit=!1),!0===Q.p.shrinkToFit&&0<z&&(N=h.width-L*z-te,isNaN(Q.p.height)||(N-=B,ee=!0),H=0,$.each(Q.p.colModel,function(e){!1!==this.hidden||this.fixed||(A=Math.round(N*this.width/(Q.p.tblwidth-L*z-te)),this.width=A,H+=A,T=e)}),P=0,ee?h.width-te-(H+L*z)!==B&&(P=h.width-te-(H+L*z)-B):ee||1===Math.abs(h.width-te-(H+L*z))||(P=h.width-te-(H+L*z)),Q.p.colModel[T].width+=P,Q.p.tblwidth=H+P+L*z+te,Q.p.tblwidth>Q.p.width&&(Q.p.colModel[T].width-=Q.p.tblwidth-parseInt(Q.p.width,10),Q.p.tblwidth=Q.p.width)),$(o).css("width",h.width+"px").append("<div class='ui-jqgrid-resize-mark' id='rs_m"+Q.p.id+"'>&#160;</div>"),$(i).css("width",h.width+"px"),ie=$("thead:first",Q).get(0);var de="";Q.p.footerrow&&(de+="<table role='presentation' style='width:"+Q.p.tblwidth+"px' class='ui-jqgrid-ftable' cellspacing='0' cellpadding='0' border='0'><tbody><tr role='row' class='ui-widget-content footrow footrow-"+m+"'>");var pe=$("tr:first",ie),ce="<tr class='jqgfirstrow' role='row' style='height:auto'>";if(Q.p.disableClick=!1,$("th",pe).each(function(e){_=Q.p.colModel[e].width,void 0===Q.p.colModel[e].resizable&&(Q.p.colModel[e].resizable=!0),Q.p.colModel[e].resizable?(I=document.createElement("span"),$(I).html("&#160;").addClass("ui-jqgrid-resize ui-jqgrid-resize-"+m).css("cursor","col-resize"),$(this).addClass(Q.p.resizeclass)):I="",$(this).css("width",_+"px").prepend(I),I=null;var t="";Q.p.colModel[e].hidden&&($(this).css("display","none"),t="display:none;"),ce+="<td role='gridcell' style='height:0px;width:"+_+"px;"+t+"'></td>",h.headers[e]={width:_,el:this},"boolean"!=typeof(k=Q.p.colModel[e].sortable)&&(Q.p.colModel[e].sortable=!0,k=!0);var i=Q.p.colModel[e].name;"cb"!==i&&"subgrid"!==i&&"rn"!==i&&Q.p.viewsortcols[2]&&$(">div",this).addClass("ui-jqgrid-sortable"),k&&(Q.p.multiSort?Q.p.viewsortcols[0]?($("div span.s-ico",this).show(),Q.p.colModel[e].lso&&$("div span.ui-icon-"+Q.p.colModel[e].lso,this).removeClass("ui-state-disabled")):Q.p.colModel[e].lso&&($("div span.s-ico",this).show(),$("div span.ui-icon-"+Q.p.colModel[e].lso,this).removeClass("ui-state-disabled")):Q.p.viewsortcols[0]?($("div span.s-ico",this).show(),e===Q.p.lastsort&&$("div span.ui-icon-"+Q.p.sortorder,this).removeClass("ui-state-disabled")):e===Q.p.lastsort&&""!==Q.p.sortname&&($("div span.s-ico",this).show(),$("div span.ui-icon-"+Q.p.sortorder,this).removeClass("ui-state-disabled"))),Q.p.footerrow&&(de+="<td role='gridcell' "+s(e,0,"",null,"",!1)+">&#160;</td>")}).mousedown(function(e){if(1===$(e.target).closest("th>span.ui-jqgrid-resize").length){var t,i,r,o=g(this);return!0===Q.p.forceFit&&(Q.p.nv=function(e){for(var t=e,i=e,r=e+1;r<Q.p.colModel.length;r++)if(!0!==Q.p.colModel[r].hidden){i=r;break}return i-t}(o)),h.dragStart(o,e,(t=o,i=$(Q.grid.headers[t].el),r=[i.position().left+i.outerWidth()],"rtl"===Q.p.direction&&(r[0]=Q.p.width-r[0]),r[0]-=Q.grid.bDiv.scrollLeft,r.push($(Q.grid.hDiv).position().top),r.push($(Q.grid.bDiv).offset().top-$(Q.grid.hDiv).offset().top+$(Q.grid.bDiv).height()),r)),!1}}).click(function(e){if(Q.p.disableClick)return Q.p.disableClick=!1;var t,i,r="th>div.ui-jqgrid-sortable";Q.p.viewsortcols[2]||(r="th>div>span>span.ui-grid-ico-sort");var o,a,n=$(e.target).closest(r);return 1===n.length?(Q.p.frozenColumns?(a=$(this)[0].id.substring(Q.p.id.length+1),$(Q.p.colModel).each(function(e){if(this.name===a)return o=e,!1})):o=g(this),Q.p.viewsortcols[2]||(t=!0,i=n.attr("sort")),null!=o&&f($("div",this)[0].id,o,t,i,this),!1):void 0}),Q.p.sortable&&$.fn.sortable)try{$(Q).jqGrid("sortableColumns",pe)}catch(e){}Q.p.footerrow&&(de+="</tr></tbody></table>"),ce+="</tr>",S=document.createElement("tbody"),this.appendChild(S),$(this).addClass("ui-jqgrid-btable").append(ce),ce=null;var ue,he,fe,ge=$("<table class='ui-jqgrid-htable' style='width:"+Q.p.tblwidth+"px' role='presentation' aria-labelledby='gbox_"+this.id+"' cellspacing='0' cellpadding='0' border='0'></table>").append(ie),me=!(!Q.p.caption||!0!==Q.p.hiddengrid),ve=$("<div class='ui-jqgrid-hbox"+("rtl"===m?"-rtl":"")+"'></div>"),ie=null;h.hDiv=document.createElement("div"),$(h.hDiv).css({width:h.width+"px"}).addClass("ui-state-default ui-jqgrid-hdiv").append(ve),$(ve).append(ge),me&&$(h.hDiv).hide(),Q.p.pager&&("string"==typeof Q.p.pager?"#"!==Q.p.pager.substr(0,1)&&(Q.p.pager="#"+Q.p.pager):Q.p.pager="#"+$(Q.p.pager).attr("id"),$(Q.p.pager).css({width:h.width+"px"}).addClass("ui-state-default ui-jqgrid-pager ui-corner-bottom").appendTo(o),me&&$(Q.p.pager).hide(),c(Q.p.pager,"")),!1===Q.p.cellEdit&&!0===Q.p.hoverrows&&$(Q).bind("mouseover",function(e){F=$(e.target).closest("tr.jqgrow"),"ui-subgrid"!==$(F).attr("class")&&$(F).addClass("ui-state-hover")}).bind("mouseout",function(e){F=$(e.target).closest("tr.jqgrow"),$(F).removeClass("ui-state-hover")}),$(Q).before(h.hDiv).click(function(e){if(G=e.target,F=$(G,Q.rows).closest("tr.jqgrow"),0===$(F).length||-1<F[0].className.indexOf("ui-state-disabled")||($(G,Q).closest("table.ui-jqgrid-btable").attr("id")||"").replace("_frozen","")!==Q.id)return this;var t,r,i=$(G).hasClass("cbox"),o=!1!==(o=$(Q).triggerHandler("jqGridBeforeSelectRow",[F[0].id,e]))&&"stop"!==o;if($.isFunction(Q.p.beforeSelectRow)&&(!1!==(t=Q.p.beforeSelectRow.call(Q,F[0].id,e))&&"stop"!==t||(o=!1)),"A"!==G.tagName&&("INPUT"!==G.tagName&&"TEXTAREA"!==G.tagName&&"OPTION"!==G.tagName&&"SELECT"!==G.tagName||i))if(ue=F[0].id,0<(G=$(G).closest("tr.jqgrow>td")).length&&(he=$.jgrid.getCellIndex(G),fe=$(G).closest("td,th").html(),$(Q).triggerHandler("jqGridCellSelect",[ue,he,fe,e]),$.isFunction(Q.p.onCellSelect)&&Q.p.onCellSelect.call(Q,ue,he,fe,e)),!0!==Q.p.cellEdit)o&&(Q.p.multikey?e[Q.p.multikey]?$(Q).jqGrid("setSelection",ue,!0,e):Q.p.multiselect&&i&&(i=$("#jqg_"+$.jgrid.jqID(Q.p.id)+"_"+ue).is(":checked"),$("#jqg_"+$.jgrid.jqID(Q.p.id)+"_"+ue)[Q.p.useProp?"prop":"attr"]("checked",i)):(Q.p.multiselect&&Q.p.multiboxonly&&(i||(r=Q.p.frozenColumns?Q.p.id+"_frozen":"",$(Q.p.selarrrow).each(function(e,t){var i=$(Q).jqGrid("getGridRowById",t);i&&$(i).removeClass("ui-state-highlight"),$("#jqg_"+$.jgrid.jqID(Q.p.id)+"_"+$.jgrid.jqID(t))[Q.p.useProp?"prop":"attr"]("checked",!1),r&&($("#"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(r)).removeClass("ui-state-highlight"),$("#jqg_"+$.jgrid.jqID(Q.p.id)+"_"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(r))[Q.p.useProp?"prop":"attr"]("checked",!1))}),Q.p.selarrrow=[])),$(Q).jqGrid("setSelection",ue,!0,e)));else if(Q.p.multiselect&&i&&o)$(Q).jqGrid("setSelection",ue,!0,e);else if(0<G.length){ue=F[0].rowIndex;var a=!1;"click"==Q.p.cellEditMode&&(a=!0);try{$(Q).jqGrid("editCell",ue,he,a)}catch(e){}}}).bind("reloadGrid",function(e,t){var i;return!0===Q.p.treeGrid&&(Q.p.datatype=Q.p.treedatatype),t&&t.current&&Q.grid.selectionPreserver(Q),"local"===Q.p.datatype?($(Q).jqGrid("resetSelection"),Q.p.data.length&&(n(),p())):Q.p.treeGrid||(Q.p.selrow=null,Q.p.multiselect&&(Q.p.selarrrow=[],q(!1)),Q.p.savedRow=[]),Q.p.scroll&&J.call(Q,!0,!1),t&&t.page&&((i=t.page)>Q.p.lastpage&&(i=Q.p.lastpage),i<1&&(i=1),Q.p.page=i,Q.grid.prevRowHeight?Q.grid.bDiv.scrollTop=(i-1)*Q.grid.prevRowHeight*Q.p.rowNum:Q.grid.bDiv.scrollTop=0),Q.grid.prevRowHeight&&Q.p.scroll?(delete Q.p.lastpage,Q.grid.populateVisible()):Q.grid.populate(),!0===Q.p._inlinenav&&$(Q).jqGrid("showAddEditButtons"),!1}).dblclick(function(e){if(G=e.target,F=$(G,Q.rows).closest("tr.jqgrow"),0!==$(F).length){ue=F[0].rowIndex,he=$.jgrid.getCellIndex(G);var t=$(Q).triggerHandler("jqGridDblClickRow",[$(F).attr("id"),ue,he,e]);if(null!=t)return t;if($.isFunction(Q.p.ondblClickRow)&&null!=(t=Q.p.ondblClickRow.call(Q,$(F).attr("id"),ue,he,e)))return t;if(!0===Q.p.cellEdit&&"click"!=Q.p.cellEditMode){var i,r=$(G).hasClass("cbox"),o=!1!==(o=$(Q).triggerHandler("jqGridBeforeSelectRow",[F[0].id,e]))&&"stop"!==o;if($.isFunction(Q.p.beforeSelectRow)&&(!1!==(i=Q.p.beforeSelectRow.call(Q,F[0].id,e))&&"stop"!==i||(o=!1)),G=$(G).closest("tr.jqgrow>td"),Q.p.multiselect&&r&&o)$(Q).jqGrid("setSelection",ue,!0,e);else if(0<G.length){ue=F[0].rowIndex;try{$(Q).jqGrid("editCell",ue,he,!0)}catch(e){}}}}}).bind("contextmenu",function(e){if(G=e.target,F=$(G,Q.rows).closest("tr.jqgrow"),0!==$(F).length){Q.p.multiselect||$(Q).jqGrid("setSelection",F[0].id,!0,e),ue=F[0].rowIndex,he=$.jgrid.getCellIndex(G);var t=$(Q).triggerHandler("jqGridRightClickRow",[$(F).attr("id"),ue,he,e]);return null!=t||$.isFunction(Q.p.onRightClickRow)&&null!=(t=Q.p.onRightClickRow.call(Q,$(F).attr("id"),ue,he,e))?t:void 0}}),h.bDiv=document.createElement("div"),r&&"auto"===String(Q.p.height).toLowerCase()&&(Q.p.height="100%"),$(h.bDiv).append($('<div style="position:relative;'+(r&&$.jgrid.msiever()<8?"height:0.01%;":"")+'"></div>').append("<div></div>").append(this)).addClass("ui-jqgrid-bdiv").css({height:Q.p.height+(isNaN(Q.p.height)?"":"px"),width:h.width+"px"}).scroll(h.scrollGrid),$("table:first",h.bDiv).css({width:Q.p.tblwidth+"px"}),$.support.tbody||2===$("tbody",this).length&&$("tbody:gt(0)",this).remove(),Q.p.multikey&&($.jgrid.msie?$(h.bDiv).bind("selectstart",function(){return!1}):$(h.bDiv).bind("mousedown",function(){return!1})),me&&$(h.bDiv).hide(),h.cDiv=document.createElement("div");var be,we=!0===Q.p.hidegrid?$("<a role='link' class='ui-jqgrid-titlebar-close ui-corner-all HeaderButton' "+(Q.p.showhide?"title='"+Q.p.showhide+"'":"")+" />").hover(function(){we.addClass("ui-state-hover")},function(){we.removeClass("ui-state-hover")}).append("<span class='ui-icon ui-icon-circle-triangle-n'></span>").css("rtl"===m?"left":"right","0px"):"";$(h.cDiv).append(we).append("<span class='ui-jqgrid-title'>"+Q.p.caption+"</span>").addClass("ui-jqgrid-titlebar ui-jqgrid-caption"+("rtl"===m?"-rtl":"")+" ui-widget-header ui-corner-top ui-helper-clearfix"),$(h.cDiv).insertBefore(h.hDiv),Q.p.toolbar[0]&&(h.uDiv=document.createElement("div"),"top"===Q.p.toolbar[1]?$(h.uDiv).insertBefore(h.hDiv):"bottom"===Q.p.toolbar[1]&&$(h.uDiv).insertAfter(h.hDiv),"both"===Q.p.toolbar[1]?(h.ubDiv=document.createElement("div"),$(h.uDiv).addClass("ui-userdata ui-state-default").attr("id","t_"+this.id).insertBefore(h.hDiv),$(h.ubDiv).addClass("ui-userdata ui-state-default").attr("id","tb_"+this.id).insertAfter(h.hDiv),me&&$(h.ubDiv).hide()):$(h.uDiv).width(h.width).addClass("ui-userdata ui-state-default").attr("id","t_"+this.id),me&&$(h.uDiv).hide()),Q.p.toppager&&(Q.p.toppager=$.jgrid.jqID(Q.p.id)+"_toppager",h.topDiv=$("<div id='"+Q.p.toppager+"'></div>")[0],Q.p.toppager="#"+Q.p.toppager,$(h.topDiv).addClass("ui-state-default ui-jqgrid-toppager").width(h.width).insertBefore(h.hDiv),c(Q.p.toppager,"_t")),Q.p.footerrow&&(h.sDiv=$("<div class='ui-jqgrid-sdiv'></div>")[0],ve=$("<div class='ui-jqgrid-hbox"+("rtl"===m?"-rtl":"")+"'></div>"),$(h.sDiv).append(ve).width(h.width).insertAfter(h.hDiv),$(ve).append(de),h.footers=$(".ui-jqgrid-ftable",h.sDiv)[0].rows[0].cells,Q.p.rownumbers&&(h.footers[0].className="ui-state-default jqgrid-rownum"),me&&$(h.sDiv).hide()),ve=null,Q.p.caption?(be=Q.p.datatype,!0===Q.p.hidegrid&&($(".ui-jqgrid-titlebar-close",h.cDiv).click(function(e){var t,i=$.isFunction(Q.p.onHeaderClick),r=".ui-jqgrid-bdiv, .ui-jqgrid-hdiv, .ui-jqgrid-pager, .ui-jqgrid-sdiv",o=this;return!0===Q.p.toolbar[0]&&("both"===Q.p.toolbar[1]&&(r+=", #"+$(h.ubDiv).attr("id")),r+=", #"+$(h.uDiv).attr("id")),t=$(r,"#gview_"+$.jgrid.jqID(Q.p.id)).length,"visible"===Q.p.gridstate?$(r,"#gbox_"+$.jgrid.jqID(Q.p.id)).slideUp("fast",function(){0===--t&&($("span",o).removeClass("ui-icon-circle-triangle-n").addClass("ui-icon-circle-triangle-s"),Q.p.gridstate="hidden",$("#gbox_"+$.jgrid.jqID(Q.p.id)).hasClass("ui-resizable")&&$(".ui-resizable-handle","#gbox_"+$.jgrid.jqID(Q.p.id)).hide(),$(Q).triggerHandler("jqGridHeaderClick",[Q.p.gridstate,e]),i&&(me||Q.p.onHeaderClick.call(Q,Q.p.gridstate,e)))}):"hidden"===Q.p.gridstate&&$(r,"#gbox_"+$.jgrid.jqID(Q.p.id)).slideDown("fast",function(){0===--t&&($("span",o).removeClass("ui-icon-circle-triangle-s").addClass("ui-icon-circle-triangle-n"),me&&(Q.p.datatype=be,x(),me=!1),Q.p.gridstate="visible",$("#gbox_"+$.jgrid.jqID(Q.p.id)).hasClass("ui-resizable")&&$(".ui-resizable-handle","#gbox_"+$.jgrid.jqID(Q.p.id)).show(),$(Q).triggerHandler("jqGridHeaderClick",[Q.p.gridstate,e]),i&&(me||Q.p.onHeaderClick.call(Q,Q.p.gridstate,e)))}),!1}),me&&(Q.p.datatype="local",$(".ui-jqgrid-titlebar-close",h.cDiv).trigger("click")))):($(h.cDiv).hide(),$(h.hDiv).addClass("ui-corner-top")),$(h.hDiv).after(h.bDiv).mousemove(function(e){if(h.resizing)return h.dragMove(e),!1}),$(".ui-jqgrid-labels",h.hDiv).bind("selectstart",function(){return!1}),$(document).bind("mouseup.jqGrid"+Q.p.id,function(){return!h.resizing||(h.dragEnd(),!1)}),Q.formatCol=s,Q.sortData=f,Q.updatepager=function(e,t){var i,r,o,a,n,s,l,d,p,c,u,h,f="",g=Q.p.pager?"_"+$.jgrid.jqID(Q.p.pager.substr(1)):"",m=Q.p.toppager?"_"+Q.p.toppager.substr(1):"";(p=parseInt(Q.p.page,10)-1)<0&&(p=0),a=(p*=parseInt(Q.p.rowNum,10))+Q.p.reccount,Q.p.scroll&&(d=$("tbody:first > tr:gt(0)",Q.grid.bDiv),p=a-d.length,Q.p.reccount=d.length,(c=d.outerHeight()||Q.grid.prevRowHeight)&&(u=p*c,h=parseInt(Q.p.records,10)*c,$(">div:first",Q.grid.bDiv).css({height:h}).children("div:first").css({height:u,display:u?"":"none"}),0==Q.grid.bDiv.scrollTop&&1<Q.p.page&&(Q.grid.bDiv.scrollTop=Q.p.rowNum*(Q.p.page-1)*c)),Q.grid.bDiv.scrollLeft=Q.grid.hDiv.scrollLeft),f=Q.p.pager||"",(f+=Q.p.toppager?f?","+Q.p.toppager:Q.p.toppager:"")&&(s=$.jgrid.formatter.integer||{},i=V(Q.p.page),r=V(Q.p.lastpage),$(".selbox",f)[this.p.useProp?"prop":"attr"]("disabled",!1),!0===Q.p.pginput&&($(".ui-pg-input",f).val(Q.p.page),l=Q.p.toppager?"#sp_1"+g+",#sp_1"+m:"#sp_1"+g,$(l).html($.fmatter?$.fmatter.util.NumberFormat(Q.p.lastpage,s):Q.p.lastpage)),Q.p.viewrecords&&(0===Q.p.reccount?$(".ui-paging-info",f).html(Q.p.emptyrecords):(o=p+1,n=Q.p.records,$.fmatter&&(o=$.fmatter.util.NumberFormat(o,s),a=$.fmatter.util.NumberFormat(a,s),n=$.fmatter.util.NumberFormat(n,s)),$(".ui-paging-info",f).html($.jgrid.format(Q.p.recordtext,o,a,n)))),!0===Q.p.pgbuttons&&(i<=0&&(i=r=0),1===i||0===i?($("#first"+g+", #prev"+g).addClass("ui-state-disabled").removeClass("ui-state-hover"),Q.p.toppager&&$("#first_t"+m+", #prev_t"+m).addClass("ui-state-disabled").removeClass("ui-state-hover")):($("#first"+g+", #prev"+g).removeClass("ui-state-disabled"),Q.p.toppager&&$("#first_t"+m+", #prev_t"+m).removeClass("ui-state-disabled")),i===r||0===i?($("#next"+g+", #last"+g).addClass("ui-state-disabled").removeClass("ui-state-hover"),Q.p.toppager&&$("#next_t"+m+", #last_t"+m).addClass("ui-state-disabled").removeClass("ui-state-hover")):($("#next"+g+", #last"+g).removeClass("ui-state-disabled"),Q.p.toppager&&$("#next_t"+m+", #last_t"+m).removeClass("ui-state-disabled")))),!0===e&&!0===Q.p.rownumbers&&$(">td.jqgrid-rownum",Q.rows).each(function(e){$(this).html(p+1+e)}),t&&Q.p.jqgdnd&&$(Q).jqGrid("gridDnD","updateDnD"),$(Q).triggerHandler("jqGridGridComplete"),$.isFunction(Q.p.gridComplete)&&Q.p.gridComplete.call(Q),$(Q).triggerHandler("jqGridAfterGridComplete")},Q.refreshIndex=p,Q.setHeadCheckBox=q,Q.constructTr=Z,Q.formatter=d,$.extend(h,{populate:x,emptyRows:J,beginReq:j,endReq:y}),this.grid=h,Q.addXmlData=function(e){v(e,Q.grid.bDiv)},Q.addJSONData=function(e){b(e,Q.grid.bDiv)},this.grid.cols=this.rows[0].cells,$(Q).triggerHandler("jqGridInitGrid"),$.isFunction(Q.p.onInitGrid)&&Q.p.onInitGrid.call(Q),x(),Q.p.hiddengrid=!1}else alert($.jgrid.errors.model)}else alert("Element is not a table or has no id!")}});var e=$.jgrid.getMethod(je);if(!e)throw"jqGrid - No such method: "+je;var t=$.makeArray(arguments).slice(1);return e.apply(this,t)},$.jgrid.extend({getGridParam:function(e){var t=this[0];if(t&&t.grid)return e?void 0!==t.p[e]?t.p[e]:null:t.p},setGridParam:function(t,i){return this.each(function(){var e;null==i&&(i=!1),this.grid&&"object"==typeof t&&(!0===i?(e=$.extend({},this.p,t),this.p=e):$.extend(!0,this.p,t))})},getGridRowById:function(t){var i;return this.each(function(){try{for(var e=this.rows.length;e--;)if(t.toString()===this.rows[e].id){i=this.rows[e];break}}catch(e){i=$(this.grid.bDiv).find("#"+$.jgrid.jqID(t))}}),i},getDataIDs:function(){var e,t=[],i=0,r=0;return this.each(function(){if((e=this.rows.length)&&0<e)for(;i<e;)$(this.rows[i]).hasClass("jqgrow")&&(t[r]=this.rows[i].id,r++),i++}),t},setSelection:function(h,f,g){return this.each(function(){var e,t,i,r,o,a,n,s,l,d,p,c,u=this;void 0!==h&&(f=!1!==f,!(t=$(u).jqGrid("getGridRowById",h))||!t.className||-1<t.className.indexOf("ui-state-disabled")||(!0===u.p.scrollrows&&0<=(i=$(u).jqGrid("getGridRowById",h).rowIndex)&&(s=i,l=$(u.grid.bDiv)[0].clientHeight,d=$(u.grid.bDiv)[0].scrollTop,p=$(u.rows[s]).position().top,c=u.rows[s].clientHeight,l+d<=p+c?$(u.grid.bDiv)[0].scrollTop=p-(l+d)+c+d:p<l+d&&p<d&&($(u.grid.bDiv)[0].scrollTop=p)),!0===u.p.frozenColumns&&(a=u.p.id+"_frozen"),u.p.multiselect?(u.setHeadCheckBox(!1),u.p.selrow=t.id,-1===(r=$.inArray(u.p.selrow,u.p.selarrrow))?("ui-subgrid"!==t.className&&$(t).addClass("ui-state-highlight").attr("aria-selected","true"),e=!0,u.p.selarrrow.push(u.p.selrow)):("ui-subgrid"!==t.className&&$(t).removeClass("ui-state-highlight").attr("aria-selected","false"),e=!1,u.p.selarrrow.splice(r,1),o=u.p.selarrrow[0],u.p.selrow=void 0===o?null:o),$("#jqg_"+$.jgrid.jqID(u.p.id)+"_"+$.jgrid.jqID(t.id))[u.p.useProp?"prop":"attr"]("checked",e),a&&(-1===r?$("#"+$.jgrid.jqID(h),"#"+$.jgrid.jqID(a)).addClass("ui-state-highlight"):$("#"+$.jgrid.jqID(h),"#"+$.jgrid.jqID(a)).removeClass("ui-state-highlight"),$("#jqg_"+$.jgrid.jqID(u.p.id)+"_"+$.jgrid.jqID(h),"#"+$.jgrid.jqID(a))[u.p.useProp?"prop":"attr"]("checked",e)),f&&($(u).triggerHandler("jqGridSelectRow",[t.id,e,g]),u.p.onSelectRow&&u.p.onSelectRow.call(u,t.id,e,g))):"ui-subgrid"!==t.className&&(e=u.p.selrow!==t.id&&((n=$(u).jqGrid("getGridRowById",u.p.selrow))&&$(n).removeClass("ui-state-highlight").attr({"aria-selected":"false",tabindex:"-1"}),$(t).addClass("ui-state-highlight").attr({"aria-selected":"true",tabindex:"0"}),a&&($("#"+$.jgrid.jqID(u.p.selrow),"#"+$.jgrid.jqID(a)).removeClass("ui-state-highlight"),$("#"+$.jgrid.jqID(h),"#"+$.jgrid.jqID(a)).addClass("ui-state-highlight")),!0),u.p.selrow=t.id,f&&($(u).triggerHandler("jqGridSelectRow",[t.id,e,g]),u.p.onSelectRow&&u.p.onSelectRow.call(u,t.id,e,g)))))})},resetSelection:function(o){return this.each(function(){var i,e,t,r=this;!0===r.p.frozenColumns&&(i=r.p.id+"_frozen"),void 0!==o?(t=o===r.p.selrow?r.p.selrow:o,$("#"+$.jgrid.jqID(r.p.id)+" tbody:first tr#"+$.jgrid.jqID(t)).removeClass("ui-state-highlight").attr("aria-selected","false"),i&&$("#"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(i)).removeClass("ui-state-highlight"),r.p.multiselect&&($("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(r.p.id))[r.p.useProp?"prop":"attr"]("checked",!1),i&&$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(i))[r.p.useProp?"prop":"attr"]("checked",!1),r.setHeadCheckBox(!1),-1!==(e=$.inArray($.jgrid.jqID(t),r.p.selarrrow))&&r.p.selarrrow.splice(e,1)),t=null):r.p.multiselect?($(r.p.selarrrow).each(function(e,t){$($(r).jqGrid("getGridRowById",t)).removeClass("ui-state-highlight").attr("aria-selected","false"),$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(t))[r.p.useProp?"prop":"attr"]("checked",!1),i&&($("#"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(i)).removeClass("ui-state-highlight"),$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(i))[r.p.useProp?"prop":"attr"]("checked",!1))}),r.setHeadCheckBox(!1),r.p.selarrrow=[],r.p.selrow=null):r.p.selrow&&($("#"+$.jgrid.jqID(r.p.id)+" tbody:first tr#"+$.jgrid.jqID(r.p.selrow)).removeClass("ui-state-highlight").attr("aria-selected","false"),i&&$("#"+$.jgrid.jqID(r.p.selrow),"#"+$.jgrid.jqID(i)).removeClass("ui-state-highlight"),r.p.selrow=null),!0===r.p.cellEdit&&0<=parseInt(r.p.iCol,10)&&0<=parseInt(r.p.iRow,10)&&($("td:eq("+r.p.iCol+")",r.rows[r.p.iRow]).removeClass("edit-cell ui-state-highlight"),$(r.rows[r.p.iRow]).removeClass("selected-row ui-state-hover")),r.p.savedRow=[]})},getRowData:function(e){var o,a,n={},s=!1,l=0;return this.each(function(){var t,i,r=this;if(void 0===e)s=!0,o=[],a=r.rows.length;else{if(!(i=$(r).jqGrid("getGridRowById",e)))return n;a=2}for(;l<a;)s&&(i=r.rows[l]),$(i).hasClass("jqgrow")&&($('td[role="gridcell"]',i).each(function(e){if("cb"!==(t=r.p.colModel[e].name)&&"subgrid"!==t&&"rn"!==t)if(!0===r.p.treeGrid&&t===r.p.ExpandColumn)n[t]=$.jgrid.htmlDecode($("span:first",this).html());else try{n[t]=$.unformat.call(r,this,{rowId:i.id,colModel:r.p.colModel[e]},e)}catch(e){n[t]=$.jgrid.htmlDecode($(this).html())}}),s&&(o.push(n),n={})),l++}),o||n},delRowData:function(o){var a,n,s,l=!1;return this.each(function(){var e,t,i,r=this;if(!(a=$(r).jqGrid("getGridRowById",o)))return!1;r.p.subGrid&&(s=$(a).next()).hasClass("ui-subgrid")&&s.remove(),$(a).remove(),r.p.records--,r.p.reccount--,r.updatepager(!0,!1),l=!0,r.p.multiselect&&-1!==(n=$.inArray(o,r.p.selarrrow))&&r.p.selarrrow.splice(n,1),r.p.multiselect&&0<r.p.selarrrow.length?r.p.selrow=r.p.selarrrow[r.p.selarrrow.length-1]:r.p.selrow=null,"local"===r.p.datatype&&(e=$.jgrid.stripPref(r.p.idPrefix,o),void 0!==(t=r.p._index[e])&&(r.p.data.splice(t,1),r.refreshIndex())),!0===r.p.altRows&&l&&(i=r.p.altclass,$(r.rows).each(function(e){e%2==1?$(this).addClass(i):$(this).removeClass(i)}))}),l},setRowData:function(l,d,p){var c,u,h=!0;return this.each(function(){if(!this.grid)return!1;var i,r=this,e=typeof p,o={},a=$(this).jqGrid("getGridRowById",l);if(!a)return!1;if(d)try{if($(this.p.colModel).each(function(e){c=this.name;var t=$.jgrid.getAccessor(d,c);void 0!==t&&(o[c]=this.formatter&&"string"==typeof this.formatter&&"date"===this.formatter?$.unformat.date.call(r,t,this):t,i=r.formatter(l,o[c],e,d,"edit"),u=this.title?{title:$.jgrid.stripHtml(i)}:{},!0===r.p.treeGrid&&c===r.p.ExpandColumn?$("td[role='gridcell']:eq("+e+") > span:first",a).html(i).attr(u):$("td[role='gridcell']:eq("+e+")",a).html(i).attr(u))}),"local"===r.p.datatype){var t,n=$.jgrid.stripPref(r.p.idPrefix,l),s=r.p._index[n];if(r.p.treeGrid)for(t in r.p.treeReader)r.p.treeReader.hasOwnProperty(t)&&delete o[r.p.treeReader[t]];void 0!==s&&(r.p.data[s]=$.extend(!0,r.p.data[s],o)),o=null}}catch(e){h=!1}h&&("string"==e?$(a).addClass(p):null!==p&&"object"==e&&$(a).css(p),$(r).triggerHandler("jqGridAfterGridComplete"))}),h},addRowData:function(n,s,l,d){-1==["first","last","before","after"].indexOf(l)&&(l="last");var p,c,u,h,f,g,m,v,b,w,j,y,x,q,D=!1,C="";return s&&($.isArray(s)?(b=!0,w=n):b=!(s=[s]),this.each(function(){var e=this,t=s.length;f=!0===e.p.rownumbers?1:0,u=!0===e.p.multiselect?1:0,h=!0===e.p.subGrid?1:0,b||(void 0!==n?n=String(n):(n=$.jgrid.randId(),!1!==e.p.keyName&&(w=e.p.keyName,void 0!==s[0][w]&&(n=s[0][w])))),j=e.p.altclass;for(var i=0,r="",o={},a=!!$.isFunction(e.p.afterInsertRow);i<t;){if(y=s[i],c=[],b){try{void 0===(n=y[w])&&(n=$.jgrid.randId())}catch(e){n=$.jgrid.randId()}r=!0===e.p.altRows&&(e.rows.length-1)%2==0?j:""}for(q=n,n=e.p.idPrefix+n,f&&(C=e.formatCol(0,1,"",null,n,!0),c[c.length]='<td role="gridcell" class="ui-state-default jqgrid-rownum" '+C+">0</td>"),u&&(v='<input role="checkbox" type="checkbox" id="jqg_'+e.p.id+"_"+n+'" class="cbox"/>',C=e.formatCol(f,1,"",null,n,!0),c[c.length]='<td role="gridcell" '+C+">"+v+"</td>"),h&&(c[c.length]=$(e).jqGrid("addSubGridCell",u+f,1)),m=u+h+f;m<e.p.colModel.length;m++)x=e.p.colModel[m],o[p=x.name]=y[p],v=e.formatter(n,$.jgrid.getAccessor(y,p),m,y),C=e.formatCol(m,1,v,y,n,o),c[c.length]='<td role="gridcell" '+C+">"+v+"</td>";if(c.unshift(e.constructTr(n,!1,r,o,y,!1)),c[c.length]="</tr>",0===e.rows.length)$("table:first",e.grid.bDiv).append(c.join(""));else switch(l){case"last":$(e.rows[e.rows.length-1]).after(c.join("")),g=e.rows.length-1;break;case"first":$(e.rows[0]).after(c.join("")),g=1;break;case"after":(g=$(e).jqGrid("getGridRowById",d))&&($(e.rows[g.rowIndex+1]).hasClass("ui-subgrid")?$(e.rows[g.rowIndex+1]).after(c):$(g).after(c.join("")),g=g.rowIndex+1);break;case"before":(g=$(e).jqGrid("getGridRowById",d))&&($(g).before(c.join("")),g=g.rowIndex-1)}!0===e.p.subGrid&&$(e).jqGrid("addSubGrid",u+f,g),e.p.records++,e.p.reccount++,$(e).triggerHandler("jqGridAfterInsertRow",[n,y,y]),a&&e.p.afterInsertRow.call(e,n,y,y),i++,"local"===e.p.datatype&&(o[e.p.localReader.id]=q,e.p._index[q]=e.p.data.length,e.p.data.push(o),o={})}!0!==e.p.altRows||b||("last"===l?(e.rows.length-1)%2==1&&$(e.rows[e.rows.length-1]).addClass(j):$(e.rows).each(function(e){e%2==1?$(this).addClass(j):$(this).removeClass(j)})),e.updatepager(!0,!0),D=!0})),D},footerData:function(r,o,a){var n,s,l=!1,d={};return null==r&&(r="get"),"boolean"!=typeof a&&(a=!0),r=r.toLowerCase(),this.each(function(){var t,i=this;return!(!i.grid||!i.p.footerrow)&&(("set"!==r||!function(e){var t;for(t in e)if(e.hasOwnProperty(t))return;return 1}(o))&&(l=!0,void $(this.p.colModel).each(function(e){n=this.name,"set"===r?void 0!==o[n]&&(t=a?i.formatter("",o[n],e,o,"edit"):o[n],s=this.title?{title:$.jgrid.stripHtml(t)}:{},$("tr.footrow td:eq("+e+")",i.grid.sDiv).html(t).attr(s),l=!0):"get"===r&&(d[n]=$("tr.footrow td:eq("+e+")",i.grid.sDiv).html())})))}),"get"===r?d:l},showHideCol:function(n,s){return this.each(function(){var t,i,e,r=this,o=!1,a=$.jgrid.cell_width?0:r.p.cellLayout;r.grid&&("string"==typeof n&&(n=[n]),i=""===(s="none"!==s?"":"none"),(e=r.p.groupHeader&&("object"==typeof r.p.groupHeader||$.isFunction(r.p.groupHeader)))&&$(r).jqGrid("destroyGroupHeader",!1),$(this.p.colModel).each(function(e){if(-1!==$.inArray(this.name,n)&&this.hidden===i){if(!0===r.p.frozenColumns&&!0===this.frozen)return!0;$("tr[role=row]",r.grid.hDiv).each(function(){$(this.cells[e]).css("display",s)}),$(r.rows).each(function(){$(this).hasClass("jqgroup")||$(this.cells[e]).css("display",s)}),r.p.footerrow&&$("tr.footrow td:eq("+e+")",r.grid.sDiv).css("display",s),t=parseInt(this.width,10),"none"===s?r.p.tblwidth-=t+a:r.p.tblwidth+=t+a,this.hidden=!i,o=!0,$(r).triggerHandler("jqGridShowHideCol",[i,this.name,e])}}),!0===o&&(!0!==r.p.shrinkToFit||isNaN(r.p.height)||(r.p.tblwidth+=parseInt(r.p.scrollOffset,10)),$(r).jqGrid("setGridWidth",!0===r.p.shrinkToFit?r.p.tblwidth:r.p.width)),e&&$(r).jqGrid("setGroupHeaders",r.p.groupHeader))})},hideCol:function(e){return this.each(function(){$(this).jqGrid("showHideCol",e,"none")})},showCol:function(e){return this.each(function(){$(this).jqGrid("showHideCol",e,"")})},remapColumns:function(r,e,t){function i(t){var i=t.length?$.makeArray(t):$.extend({},t);$.each(r,function(e){t[e]=i[this]})}var o=this.get(0);function a(e,t){$(">tr"+(t||""),e).each(function(){var t=this,i=$.makeArray(t.cells);$.each(r,function(){var e=i[this];e&&t.appendChild(e)})})}i(o.p.colModel),i(o.p.colNames),i(o.grid.headers),a($("thead:first",o.grid.hDiv),t&&":not(.ui-jqgrid-labels)"),e&&a($("#"+$.jgrid.jqID(o.p.id)+" tbody:first"),".jqgfirstrow, tr.jqgrow, tr.jqfoot"),o.p.footerrow&&a($("tbody:first",o.grid.sDiv)),o.p.remapColumns&&(o.p.remapColumns.length?i(o.p.remapColumns):o.p.remapColumns=$.makeArray(r)),o.p.lastsort=$.inArray(o.p.lastsort,r),o.p.treeGrid&&(o.p.expColInd=$.inArray(o.p.expColInd,r)),$(o).triggerHandler("jqGridRemapColumns",[r,e,t])},setGridWidth:function(h,f){return this.each(function(){if(this.grid){var t,i,r,e,o=this,a=0,n=$.jgrid.cell_width?0:o.p.cellLayout,s=0,l=!1,d=o.p.scrollOffset,p=0;if("boolean"!=typeof f&&(f=o.p.shrinkToFit),!isNaN(h)){if(h=parseInt(h,10),o.grid.width=o.p.width=h,$("#gbox_"+$.jgrid.jqID(o.p.id)).css("width",h+"px"),$("#gview_"+$.jgrid.jqID(o.p.id)).css("width",h+"px"),$(o.grid.bDiv).css("width",h+"px"),$(o.grid.hDiv).css("width",h+"px"),o.p.pager&&$(o.p.pager).css("width",h+"px"),o.p.toppager&&$(o.p.toppager).css("width",h+"px"),!0===o.p.toolbar[0]&&($(o.grid.uDiv).css("width",h+"px"),"both"===o.p.toolbar[1]&&$(o.grid.ubDiv).css("width",h+"px")),o.p.footerrow&&$(o.grid.sDiv).css("width",h+"px"),!1===f&&!0===o.p.forceFit&&(o.p.forceFit=!1),!0===f){if($.each(o.p.colModel,function(){!1===this.hidden&&(t=this.widthOrg,a+=t+n,this.fixed?p+=t+n:s++)}),0===s)return;o.p.tblwidth=a,r=h-n*s-p,isNaN(o.p.height)||($(o.grid.bDiv)[0].clientHeight<$(o.grid.bDiv)[0].scrollHeight||1===o.rows.length)&&(l=!0,r-=d);var c,u=(a=0)<o.grid.cols.length;if($.each(o.p.colModel,function(e){if(!1===this.hidden&&!this.fixed){if(t=this.widthOrg,(t=Math.round(r*t/(o.p.tblwidth-n*s-p)))<0)return;this.width=t,a+=t,o.grid.headers[e].width=t,o.grid.headers[e].el.style.width=t+"px",o.p.footerrow&&(o.grid.footers[e].style.width=t+"px"),u&&(o.grid.cols[e].style.width=t+"px"),i=e}}),!i)return;e=0,l?h-p-(a+n*s)!==d&&(e=h-p-(a+n*s)-d):1!==Math.abs(h-p-(a+n*s))&&(e=h-p-(a+n*s)),o.p.colModel[i].width+=e,o.p.tblwidth=a+e+n*s+p,t=o.p.tblwidth>h?(c=o.p.tblwidth-parseInt(h,10),o.p.tblwidth=h,o.p.colModel[i].width=o.p.colModel[i].width-c):o.p.colModel[i].width,o.grid.headers[i].width=t,o.grid.headers[i].el.style.width=t+"px",u&&(o.grid.cols[i].style.width=t+"px"),o.p.footerrow&&(o.grid.footers[i].style.width=t+"px")}o.p.tblwidth&&($("table:first",o.grid.bDiv).css("width",o.p.tblwidth+"px"),$("table:first",o.grid.hDiv).css("width",o.p.tblwidth+"px"),o.grid.hDiv.scrollLeft=o.grid.bDiv.scrollLeft,o.p.footerrow&&$("table:first",o.grid.sDiv).css("width",o.p.tblwidth+"px"))}}})},setGridHeight:function(i){return this.each(function(){var e,t=this;t.grid&&((e=$(t.grid.bDiv)).css({height:i+(isNaN(i)?"":"px")}),!0===t.p.frozenColumns&&$("#"+$.jgrid.jqID(t.p.id)+"_frozen").parent().height(e.height()-16),t.p.height=i,t.p.scroll&&t.grid.populateVisible())})},setCaption:function(e){return this.each(function(){this.p.caption=e,$("span.ui-jqgrid-title, span.ui-jqgrid-title-rtl",this.grid.cDiv).html(e),$(this.grid.cDiv).show(),$(this.grid.hDiv).removeClass("ui-corner-top")})},setLabel:function(r,o,a,n){return this.each(function(){var e,t,i=-1;this.grid&&void 0!==r&&($(this.p.colModel).each(function(e){if(this.name===r)return i=e,!1}),0<=i&&(e=$("tr.ui-jqgrid-labels th:eq("+i+")",this.grid.hDiv),o&&(t=$(".s-ico",e),$("[id^=jqgh_]",e).empty().html(o).append(t),this.p.colNames[i]=o),a&&("string"==typeof a?$(e).addClass(a):$(e).css(a)),"object"==typeof n&&$(e).attr(n)))})},setCell:function(p,c,u,h,f,g){return this.each(function(){var e=this,t=-1;if(e.grid&&(isNaN(c)?$(e.p.colModel).each(function(e){if(this.name===c)return t=e,!1}):t=parseInt(c,10),0<=t)){var i=$(e).jqGrid("getGridRowById",p);if(i){var r=$("td:eq("+t+")",i),o=0,a=[];if(""!==u||!0===g){for(;o<i.cells.length;)a.push(i.cells[o].innerHTML),o++;var n,s,l=e.formatter(p,u,t,a,"edit"),d=e.p.colModel[t].title?{title:$.jgrid.stripHtml(l)}:{};e.p.treeGrid&&0<$(".tree-wrap",$(r)).length?$("span",$(r)).html(l).attr(d):$(r).html(l).attr(d),"local"===e.p.datatype&&(n=e.p.colModel[t],u=n.formatter&&"string"==typeof n.formatter&&"date"===n.formatter?$.unformat.date.call(e,u,n):u,void 0!==(s=e.p._index[$.jgrid.stripPref(e.p.idPrefix,p)])&&(e.p.data[s][n.name]=u))}"string"==typeof h?$(r).addClass(h):h&&$(r).css(h),"object"==typeof f&&$(r).attr(f)}}})},getCell:function(r,o){var a=!1;return this.each(function(){var e=this,t=-1;if(e.grid&&(isNaN(o)?$(e.p.colModel).each(function(e){if(this.name===o)return t=e,!1}):t=parseInt(o,10),0<=t)){var i=$(e).jqGrid("getGridRowById",r);if(i)try{a=$.unformat.call(e,$("td:eq("+t+")",i),{rowId:i.id,colModel:e.p.colModel[t]},t)}catch(e){a=$.jgrid.htmlDecode($("td:eq("+t+")",i).html())}}}),a},getCol:function(a,n,s){var l,d,p,c,u=[],h=0;return n="boolean"==typeof n&&n,void 0===s&&(s=!1),this.each(function(){var t=this,i=-1;if(t.grid&&(isNaN(a)?$(t.p.colModel).each(function(e){if(this.name===a)return i=e,!1}):i=parseInt(a,10),0<=i)){var e=t.rows.length,r=0,o=0;if(e&&0<e){for(;r<e;){if($(t.rows[r]).hasClass("jqgrow")){try{l=$.unformat.call(t,$(t.rows[r].cells[i]),{rowId:t.rows[r].id,colModel:t.p.colModel[i]},i)}catch(e){l=$.jgrid.htmlDecode(t.rows[r].cells[i].innerHTML)}s?(c=parseFloat(l),isNaN(c)||(h+=c,void 0===p&&(p=d=c),d=Math.min(d,c),p=Math.max(p,c),o++)):n?u.push({id:t.rows[r].id,value:l}):u.push(l)}r++}if(s)switch(s.toLowerCase()){case"sum":u=h;break;case"avg":u=h/o;break;case"count":u=e-1;break;case"min":u=d;break;case"max":u=p}}}}),u},clearGridData:function(i){return this.each(function(){var e,t=this;t.grid&&("boolean"!=typeof i&&(i=!1),t.p.deepempty?$("#"+$.jgrid.jqID(t.p.id)+" tbody:first tr:gt(0)").remove():(e=$("#"+$.jgrid.jqID(t.p.id)+" tbody:first tr:first")[0],$("#"+$.jgrid.jqID(t.p.id)+" tbody:first").empty().append(e)),t.p.footerrow&&i&&$(".ui-jqgrid-ftable td",t.grid.sDiv).html("&#160;"),t.p.selrow=null,t.p.selarrrow=[],t.p.savedRow=[],t.p.records=0,t.p.page=1,t.p.lastpage=0,t.p.reccount=0,t.p.data=[],t.p._index={},t.updatepager(!0,!1))})},getInd:function(e,t){var i,r=!1;return this.each(function(){(i=$(this).jqGrid("getGridRowById",e))&&(r=!0===t?i:i.rowIndex)}),r},bindKeys:function(e){var s=$.extend({onEnter:null,onSpace:null,onLeftKey:null,onRightKey:null,scrollingRows:!0},e||{});return this.each(function(){var n=this;$("body").is("[role]")||$("body").attr("role","application"),n.p.scrollrows=s.scrollingRows,$(n).keydown(function(e){var t,i,r,o=$(n).find("tr[tabindex=0]")[0],a=n.p.treeReader.expanded_field;if(o)if(r=n.p._index[$.jgrid.stripPref(n.p.idPrefix,o.id)],37===e.keyCode||38===e.keyCode||39===e.keyCode||40===e.keyCode){if(38===e.keyCode){if(t="",i=o.previousSibling)if($(i).is(":hidden")){for(;i;)if(i=i.previousSibling,!$(i).is(":hidden")&&$(i).hasClass("jqgrow")){t=i.id;break}}else t=i.id;$(n).jqGrid("setSelection",t,!0,e),e.preventDefault()}if(40===e.keyCode){if(t="",i=o.nextSibling)if($(i).is(":hidden")){for(;i;)if(i=i.nextSibling,!$(i).is(":hidden")&&$(i).hasClass("jqgrow")){t=i.id;break}}else t=i.id;$(n).jqGrid("setSelection",t,!0,e),e.preventDefault()}37===e.keyCode&&(n.p.treeGrid&&n.p.data[r][a]&&$(o).find("div.treeclick").trigger("click"),$(n).triggerHandler("jqGridKeyLeft",[n.p.selrow]),$.isFunction(s.onLeftKey)&&s.onLeftKey.call(n,n.p.selrow)),39===e.keyCode&&(n.p.treeGrid&&!n.p.data[r][a]&&$(o).find("div.treeclick").trigger("click"),$(n).triggerHandler("jqGridKeyRight",[n.p.selrow]),$.isFunction(s.onRightKey)&&s.onRightKey.call(n,n.p.selrow))}else 13===e.keyCode?($(n).triggerHandler("jqGridKeyEnter",[n.p.selrow]),$.isFunction(s.onEnter)&&s.onEnter.call(n,n.p.selrow)):32===e.keyCode&&($(n).triggerHandler("jqGridKeySpace",[n.p.selrow]),$.isFunction(s.onSpace)&&s.onSpace.call(n,n.p.selrow))})})},unbindKeys:function(){return this.each(function(){$(this).unbind("keydown")})},getLocalRow:function(e){var t,i=!1;return this.each(function(){void 0!==e&&0<=(t=this.p._index[$.jgrid.stripPref(this.p.idPrefix,e)])&&(i=this.p.data[t])}),i},progressBar:function(t){return t=$.extend({htmlcontent:"",method:"hide",loadtype:"disable"},t||{}),this.each(function(){var e="show"===t.method;switch(""!==t.htmlcontent&&$("#load_"+$.jgrid.jqID(this.p.id)).html(t.htmlcontent),t.loadtype){case"disable":break;case"enable":$("#load_"+$.jgrid.jqID(this.p.id)).toggle(e);break;case"block":$("#lui_"+$.jgrid.jqID(this.p.id)).toggle(e),$("#load_"+$.jgrid.jqID(this.p.id)).toggle(e)}})}})}(jQuery),function(q){"use strict";q.jgrid.extend({editCell:function(l,d,p,c,u){return this.each(function(){var e,t,i,r,o,a=this;if(a.grid&&!0===a.p.cellEdit){if(d=parseInt(d,10),a.p.selrow=a.rows[l].id,a.p.knv||q(a).jqGrid("GridNav"),0<a.p.savedRow.length){if(!0===p&&l==a.p.iRow&&d==a.p.iCol)return;q(a).jqGrid("saveCell",a.p.savedRow[0].id,a.p.savedRow[0].ic)}else window.setTimeout(function(){q("#"+q.jgrid.jqID(a.p.knv)).attr("tabindex","-1").focus()},1);if("subgrid"!==(e=(r=a.p.colModel[d]).name)&&"cb"!==e&&"rn"!==e){if(i=q("td:eq("+d+")",a.rows[l]),!0!==r.editable||!0!==p||i.hasClass("not-editable-cell"))0<=parseInt(a.p.iCol,10)&&0<=parseInt(a.p.iRow,10)&&(q("td:eq("+a.p.iCol+")",a.rows[a.p.iRow]).removeClass("edit-cell ui-state-highlight"),q(a.rows[a.p.iRow]).removeClass("selected-row ui-state-hover")),i.addClass("edit-cell ui-state-highlight"),t=i.html().replace(/\&#160\;/gi,""),q(a).triggerHandler("jqGridSelectCell",[a.rows[l].id,e,t,l,d]),q.isFunction(a.p.onSelectCell)&&a.p.onSelectCell.call(a,a.rows[l].id,e,t,l,d);else{0<=parseInt(a.p.iCol,10)&&0<=parseInt(a.p.iRow,10)&&(q("td:eq("+a.p.iCol+")",a.rows[a.p.iRow]).removeClass("edit-cell ui-state-highlight"),q(a.rows[a.p.iRow]).removeClass("selected-row ui-state-hover")),q(i).addClass("edit-cell ui-state-highlight"),q(a.rows[l]).addClass("selected-row ui-state-hover");try{t=q.unformat.call(a,i,{rowId:a.rows[l].id,colModel:r},d)}catch(e){t=r.edittype&&"textarea"===r.edittype?q(i).text():q(i).html()}a.p.autoencode&&(t=q.jgrid.htmlDecode(t)),r.edittype||(r.edittype="text"),a.p.savedRow.push({id:l,ic:d,name:e,v:t}),("&nbsp;"===t||"&#160;"===t||1===t.length&&160===t.charCodeAt(0))&&(t=""),!q.isFunction(a.p.formatCell)||void 0!==(o=a.p.formatCell.call(a,a.rows[l].id,e,t,l,d))&&(t=o),q(a).triggerHandler("jqGridBeforeEditCell",[a.rows[l].id,e,t,l,d]),q.isFunction(a.p.beforeEditCell)&&a.p.beforeEditCell.call(a,a.rows[l].id,e,t,l,d);var n=q.extend({},r.editoptions||{},{id:l+"_"+e,name:e,rowId:a.rows[l].id}),s=q.jgrid.createEl.call(a,r.edittype,n,t,!0,q.extend({},q.jgrid.ajaxOptions,a.p.ajaxSelectOptions||{}));q(i).html("").append(s).attr("tabindex","0"),q.jgrid.bindEv.call(a,s,n),window.setTimeout(function(){q(s).focus(),q(s).select()},1),null!=c&&window.setTimeout(function(){q(s).val(c)},1),q("input, select, textarea",i).bind("keydown",function(e){var t;if(27===e.keyCode&&(!(0<q("input.hasDatepicker",i).length)||q(".ui-datepicker").is(":hidden")?q(a).jqGrid("restoreCell",l,d):q("input.hasDatepicker",i).datepicker("hide")),13===e.keyCode&&!e.shiftKey&&!jQuery(".ui-autocomplete").is(":visible"))return q(a).jqGrid("saveCell",l,d),"next"==a.p.cellMove?q(a).jqGrid("nextCell",l,d):"down"==a.p.cellMove&&((t=jQuery.Event("keydown")).which=40,t.keyCode=40,q("#"+a.p.id+"_kn").trigger(t)),!1;if(9===e.keyCode){if(a.grid.hDiv.loading)return!1;e.shiftKey?q(a).jqGrid("prevCell",l,d):q(a).jqGrid("nextCell",l,d)}u=u||!1,37!==e.keyCode&&38!==e.keyCode&&39!==e.keyCode&&40!==e.keyCode||u&&!jQuery(".ui-autocomplete").is(":visible")&&(q(a).jqGrid("saveCell",l,d),(t=jQuery.Event("keydown")).which=e.keyCode,t.keyCode=e.keyCode,q("#"+a.p.id+"_kn").trigger(t)),e.stopPropagation()}),q(a).triggerHandler("jqGridAfterEditCell",[a.rows[l].id,e,t,l,d]),q.isFunction(a.p.afterEditCell)&&a.p.afterEditCell.call(a,a.rows[l].id,e,t,l,d)}a.p.iCol=d,a.p.iRow=l}}})},saveCell:function(y,x){return this.each(function(){var e,r=this;if(r.grid&&!0===r.p.cellEdit){if(null!==(e=1<=r.p.savedRow.length?0:null)){var t=q("td:eq("+x+")",r.rows[y]),i=r.p.colModel[x],o=i.name,a=q.jgrid.jqID(o);switch(i.edittype){case"select":var n,s,l,d=i.editoptions.multiple?(n=q("#"+y+"_"+a,r.rows[y]),s=[],(l=q(n).val())?l.join(","):l="",q("option:selected",n).each(function(e,t){s[e]=q(t).text()}),s.join(",")):(l=q("#"+y+"_"+a+" option:selected",r.rows[y]).val(),q("#"+y+"_"+a+" option:selected",r.rows[y]).text());i.formatter&&(d=l);break;case"checkbox":var p=["Yes","No"];i.editoptions&&(p=i.editoptions.value.split(":")),d=l=q("#"+y+"_"+a,r.rows[y]).is(":checked")?p[0]:p[1];break;case"password":case"text":case"textarea":case"button":d=l=q("#"+y+"_"+a,r.rows[y]).val();break;case"custom":try{if(!i.editoptions||!q.isFunction(i.editoptions.custom_value))throw"e1";if(void 0===(l=i.editoptions.custom_value.call(r,q(".customelement",t),"get")))throw"e2";d=l}catch(e){"e1"===e&&q.jgrid.info_dialog(q.jgrid.errors.errcap,"function 'custom_value' "+q.jgrid.edit.msg.nodefined,q.jgrid.edit.bClose),"e2"===e?q.jgrid.info_dialog(q.jgrid.errors.errcap,"function 'custom_value' "+q.jgrid.edit.msg.novalue,q.jgrid.edit.bClose):q.jgrid.info_dialog(q.jgrid.errors.errcap,e.message,q.jgrid.edit.bClose)}}if(d!==r.p.savedRow[e].v){var c,u=q(r).triggerHandler("jqGridBeforeSaveCell",[r.rows[y].id,o,l,y,x]);u&&(d=l=u),!q.isFunction(r.p.beforeSaveCell)||(c=r.p.beforeSaveCell.call(r,r.rows[y].id,o,l,y,x))&&(d=l=c);var h=q.jgrid.checkValues.call(r,l,x);if(!0===h[0]){var f=q(r).triggerHandler("jqGridBeforeSubmitCell",[r.rows[y].id,o,l,y,x])||{};if(q.isFunction(r.p.beforeSubmitCell)&&(f=(f=r.p.beforeSubmitCell.call(r,r.rows[y].id,o,l,y,x))||{}),0<q("input.hasDatepicker",t).length&&q("input.hasDatepicker",t).datepicker("hide"),"remote"===r.p.cellsubmit)if(r.p.cellurl){var g,m,v,b={};r.p.autoencode&&(l=q.jgrid.htmlEncode(l)),b[o]=l,g=(v=r.p.prmNames).id,m=v.oper,b[g]=q.jgrid.stripPref(r.p.idPrefix,r.rows[y].id),b[m]=v.editoper,b=q.extend(f,b),q(r).jqGrid("progressBar",{method:"show",loadtype:"disable",htmlcontent:q.jgrid.defaults.savetext||"Saving..."}),r.grid.hDiv.loading=!0;var w="success",j=q(r).triggerHandler("jqGridAfterSubmitCell",[r,w,b.id,o,l,y,x])||[!0,""];!0===j[0]&&q.isFunction(r.p.afterSubmitCell)&&(j=r.p.afterSubmitCell.call(r,w,b.id,o,l,y,x)),!0===j[0]?(q(t).empty(),q(r).jqGrid("setCell",r.rows[y].id,x,d,!1,!1,!0),q(t).addClass("dirty-cell"),q(r.rows[y]).addClass("edited"),q(r).triggerHandler("jqGridAfterSaveCell",[r.rows[y].id,o,l,y,x]),q.isFunction(r.p.afterSaveCell)&&r.p.afterSaveCell.call(r,r.rows[y].id,o,l,y,x),r.p.savedRow.splice(0,1)):(q.jgrid.info_dialog(q.jgrid.errors.errcap,j[1],q.jgrid.edit.bClose),q(r).jqGrid("restoreCell",y,x)),q.ajax(q.extend({url:r.p.cellurl,data:q.isFunction(r.p.serializeCellData)?r.p.serializeCellData.call(r,b):b,type:"POST",complete:function(e,t){q(r).jqGrid("progressBar",{method:"hide",loadtype:r.p.loadui}),r.grid.hDiv.loading=!1},error:function(e,t,i){q("#lui_"+q.jgrid.jqID(r.p.id)).hide(),r.grid.hDiv.loading=!1,q(r).triggerHandler("jqGridErrorCell",[e,t,i]),q.isFunction(r.p.errorCell)?r.p.errorCell.call(r,e,t,i):q.jgrid.info_dialog(q.jgrid.errors.errcap,e.status+" : "+e.statusText+"<br/>"+t,q.jgrid.edit.bClose),q(r).jqGrid("restoreCell",y,x)}},q.jgrid.ajaxOptions,r.p.ajaxCellOptions||{}))}else try{q.jgrid.info_dialog(q.jgrid.errors.errcap,q.jgrid.errors.nourl,q.jgrid.edit.bClose),q(r).jqGrid("restoreCell",y,x)}catch(e){}"clientArray"===r.p.cellsubmit&&(q(t).empty(),q(r).jqGrid("setCell",r.rows[y].id,x,d,!1,!1,!0),q(t).addClass("dirty-cell"),q(r.rows[y]).addClass("edited"),q(r).triggerHandler("jqGridAfterSaveCell",[r.rows[y].id,o,l,y,x]),q.isFunction(r.p.afterSaveCell)&&r.p.afterSaveCell.call(r,r.rows[y].id,o,l,y,x),r.p.savedRow.splice(0,1))}else try{window.setTimeout(function(){q.jgrid.info_dialog(q.jgrid.errors.errcap,l+" "+h[1],q.jgrid.edit.bClose)},100),q(r).jqGrid("restoreCell",y,x)}catch(e){}}else q(r).jqGrid("restoreCell",y,x)}window.setTimeout(function(){q("#"+q.jgrid.jqID(r.p.knv)).attr("tabindex","-1").focus()},0)}})},restoreCell:function(r,o){return this.each(function(){var e,t=this;if(t.grid&&!0===t.p.cellEdit){if(null!==(e=1<=t.p.savedRow.length?0:null)){var i=q("td:eq("+o+")",t.rows[r]);if(q.isFunction(q.fn.datepicker))try{q("input.hasDatepicker",i).datepicker("hide")}catch(e){}q(i).empty().attr("tabindex","-1"),q(t).jqGrid("setCell",t.rows[r].id,o,t.p.savedRow[e].v,!1,!1,!0),q(t).triggerHandler("jqGridAfterRestoreCell",[t.rows[r].id,t.p.savedRow[e].v,r,o]),q.isFunction(t.p.afterRestoreCell)&&t.p.afterRestoreCell.call(t,t.rows[r].id,t.p.savedRow[e].v,r,o),t.p.savedRow.splice(0,1)}window.setTimeout(function(){q("#"+t.p.knv).attr("tabindex","-1").focus()},0)}})},nextCell:function(r,o){return this.each(function(){var e,t=this,i=!1;if(t.grid&&!0===t.p.cellEdit){for(e=o+1;e<t.p.colModel.length;e++)if(!0===t.p.colModel[e].editable&&!1===t.p.colModel[e].hidden){i=e;break}if(!1!==i)q(t).jqGrid("editCell",r,i,!0);else{for(0<t.p.savedRow.length&&q(t).jqGrid("saveCell",r,o),e=0;e<t.p.colModel.length;e++)if(!0===t.p.colModel[e].editable&&!1===t.p.colModel[e].hidden){i=e;break}q(t).jqGrid("editCell",r+1,i,!0)}}})},prevCell:function(r,o){return this.each(function(){var e,t=this,i=!1;if(t.grid&&!0===t.p.cellEdit){for(e=o-1;0<=e;e--)if(!0===t.p.colModel[e].editable&&!1===t.p.colModel[e].hidden){i=e;break}if(!1!==i)q(t).jqGrid("editCell",r,i,!0);else{for(0<t.p.savedRow.length&&q(t).jqGrid("saveCell",r,o),e=t.p.colModel.length;0<=e;e--)if(!0===t.p.colModel[e].editable&&!1===t.p.colModel[e].hidden){i=e;break}q(t).jqGrid("editCell",r-1,i,!0)}}})},GridNav:function(){return this.each(function(){var e,t,i,c=this;function r(e,t,i){var r,o,a,n,s,l,d,p;"v"===i.substr(0,1)&&(r=q(c.grid.bDiv)[0].clientHeight,o=q(c.grid.bDiv)[0].scrollTop,a=c.rows[e].offsetTop+c.rows[e].clientHeight,n=c.rows[e].offsetTop,"vd"===i&&r<=a&&(q(c.grid.bDiv)[0].scrollTop=q(c.grid.bDiv)[0].scrollTop+c.rows[e].clientHeight),"vu"===i&&n<o&&(q(c.grid.bDiv)[0].scrollTop=q(c.grid.bDiv)[0].scrollTop-c.rows[e].clientHeight)),"h"===i&&(s=q(c.grid.bDiv)[0].clientWidth,l=q(c.grid.bDiv)[0].scrollLeft,d=c.rows[e].cells[t].offsetLeft+c.rows[e].cells[t].clientWidth,p=c.rows[e].cells[t].offsetLeft,d>=s+parseInt(l,10)?q(c.grid.bDiv)[0].scrollLeft=q(c.grid.bDiv)[0].scrollLeft+c.rows[e].cells[t].clientWidth:p<l&&(q(c.grid.bDiv)[0].scrollLeft=q(c.grid.bDiv)[0].scrollLeft-c.rows[e].cells[t].clientWidth))}function o(e,t){var i,r;if("lft"===t)for(i=e+1,r=e;0<=r;r--)if(!0!==c.p.colModel[r].hidden){i=r;break}if("rgt"===t)for(i=e-1,r=e;r<c.p.colModel.length;r++)if(!0!==c.p.colModel[r].hidden){i=r;break}return i}c.grid&&!0===c.p.cellEdit&&(c.p.knv=c.p.id+"_kn",e=q("<div style='position:fixed;top:0px;width:1px;height:1px;' tabindex='0'><div tabindex='-1' style='width:1px;height:1px;' id='"+c.p.knv+"'></div></div>"),q(e).insertBefore(c.grid.cDiv),q("#"+c.p.knv).focus().keydown(function(e){switch(i=e.keyCode,"rtl"===c.p.direction&&(37===i?i=39:39===i&&(i=37)),e.shiftKey&&9==i&&(i="Shift_Tab"),i){case 38:0<c.p.iRow-1&&(r(c.p.iRow-1,c.p.iCol,"vu"),q(c).jqGrid("editCell",c.p.iRow-1,c.p.iCol,!1));break;case 40:c.p.iRow+1<=c.rows.length-1&&(r(c.p.iRow+1,c.p.iCol,"vd"),q(c).jqGrid("editCell",c.p.iRow+1,c.p.iCol,!1));break;case 37:case"Shift_Tab":0<=c.p.iCol-1&&(t=o(c.p.iCol-1,"lft"),r(c.p.iRow,t,"h"),q(c).jqGrid("editCell",c.p.iRow,t,!1));break;case 39:case 9:c.p.iCol+1<=c.p.colModel.length-1&&(t=o(c.p.iCol+1,"rgt"),r(c.p.iRow,t,"h"),q(c).jqGrid("editCell",c.p.iRow,t,!1));break;case 13:0<=parseInt(c.p.iCol,10)&&0<=parseInt(c.p.iRow,10)&&q(c).jqGrid("editCell",c.p.iRow,c.p.iCol,!0);break;default:if(!(65<=i&&i<=90||48<=i&&i<=57||-1!==q.inArray(i,[59,61,188,173,190,191,192,219,220,221,222,109,111,78,46])||96<=i&&i<=107))return!0;if(86==i&&e.ctrlKey)return!0;if(46==i)return e.key="",q(c).jqGrid("editCell",c.p.iRow,c.p.iCol,!0,e.key,!0),setTimeout(function(){q(c).jqGrid("saveCell",c.p.iRow,c.p.iCol)},1),!0;if(e.ctrlKey)return!0;0<=parseInt(c.p.iCol,10)&&0<=parseInt(c.p.iRow,10)&&q(c).jqGrid("editCell",c.p.iRow,c.p.iCol,!0,e.key,!0)}return!1}).bind("paste",function(e){jQuery(e.target);var t=e.originalEvent.clipboardData.getData("text/plain").split("\t");if(1!=t.length){for(var i=0;i<t.length;i++)0<=parseInt(c.p.iCol,10)&&0<=parseInt(c.p.iRow,10)&&(q(c).jqGrid("editCell",c.p.iRow,c.p.iCol,!0),q(".edit-cell").val(t[i]));return!1}}))})},getChangedCells:function(a){var e=[];return a=a||"all",this.each(function(){var r,o=this;o.grid&&!0===o.p.cellEdit&&q(o.rows).each(function(t){var i={};q(this).hasClass("edited")&&(q("td",this).each(function(e){if("cb"!==(r=o.p.colModel[e].name)&&"subgrid"!==r)if("dirty"===a){if(q(this).hasClass("dirty-cell"))try{i[r]=q.unformat.call(o,this,{rowId:o.rows[t].id,colModel:o.p.colModel[e]},e)}catch(e){i[r]=q.jgrid.htmlDecode(q(this).html())}}else try{i[r]=q.unformat.call(o,this,{rowId:o.rows[t].id,colModel:o.p.colModel[e]},e)}catch(e){i[r]=q.jgrid.htmlDecode(q(this).html())}}),i.id=this.id,e.push(i))})}),e}})}(jQuery),function(D){"use strict";D.extend(D.jgrid,{showModal:function(e){e.w.show()},closeModal:function(e){e.w.hide().attr("aria-hidden","true"),e.o&&e.o.remove()},hideModal:function(e,t){var i,r,o,a=!(!(t=D.extend({jqm:!0,gb:"",removemodal:!1,formprop:!1,form:""},t||{})).gb||"string"!=typeof t.gb||"#gbox_"!==t.gb.substr(0,6))&&D("#"+t.gb.substr(6))[0];if(t.onClose){var n=a?t.onClose.call(a,e):t.onClose(e);if("boolean"==typeof n&&!n)return}if(t.formprop&&a&&t.form&&(-1<(i=D(e)[0].style.height).indexOf("px")&&(i=parseFloat(i)),"edit"===t.form?(r="#"+D.jgrid.jqID("FrmGrid_"+t.gb.substr(6)),o="formProp"):"view"===t.form&&(r="#"+D.jgrid.jqID("ViewGrid_"+t.gb.substr(6)),o="viewProp"),D(a).data(o,{top:parseFloat(D(e).css("top")),left:parseFloat(D(e).css("left")),width:D(e).width(),height:i,dataheight:D(r).height(),datawidth:D(r).width()})),D.fn.jqm&&!0===t.jqm)D(e).attr("aria-hidden","true").jqmHide();else{if(""!==t.gb)try{D(".jqgrid-overlay:first",t.gb).hide()}catch(e){}D(e).hide().attr("aria-hidden","true")}t.removemodal&&D(e).remove()},findPos:function(e){var t=0,i=0;if(e.offsetParent)for(;t+=e.offsetLeft,i+=e.offsetTop,e=e.offsetParent;);return[t,i]},createModal:function(i,e,r,t,o,a,n){r=D.extend(!0,{},D.jgrid.jqModal||{},r);var s,l=document.createElement("div"),d=this;n=D.extend({},n||{}),s="rtl"===D(r.gbox).attr("dir"),l.className="ui-widget ui-widget-content ui-corner-all ui-jqdialog",l.id=i.themodal;var p=document.createElement("div");p.className="ui-jqdialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix",p.id=i.modalhead,D(p).append("<span class='ui-jqdialog-title'>"+r.caption+"</span>");var c=D("<a class='ui-jqdialog-titlebar-close ui-corner-all'></a>").hover(function(){c.addClass("ui-state-hover")},function(){c.removeClass("ui-state-hover")}).append("<span class='ui-icon ui-icon-closethick'></span>");D(p).append(c),s?(l.dir="rtl",D(".ui-jqdialog-title",p).css("float","right"),D(".ui-jqdialog-titlebar-close",p).css("left","0.3em")):(l.dir="ltr",D(".ui-jqdialog-title",p).css("float","left"),D(".ui-jqdialog-titlebar-close",p).css("right","0.3em"));var u=document.createElement("div");D(u).addClass("ui-jqdialog-content ui-widget-content").attr("id",i.modalcontent),D(u).append(e),l.appendChild(u),D(l).prepend(p),!0===a?D("body").append(l):"string"==typeof a?D(a).append(l):D(l).insertBefore(t),D(l).css(n),void 0===r.jqModal&&(r.jqModal=!0);var h,f,g={};D.fn.jqm&&!0===r.jqModal?(0===r.left&&0===r.top&&r.overlay&&(h=[],h=D.jgrid.findPos(o),r.left=h[0]+4,r.top=h[1]+4),g.top=r.top+"px",g.left=r.left):0===r.left&&0===r.top||(g.left=r.left,g.top=r.top+"px"),D("a.ui-jqdialog-titlebar-close",p).click(function(){var e=D("#"+D.jgrid.jqID(i.themodal)).data("onClose")||r.onClose,t=D("#"+D.jgrid.jqID(i.themodal)).data("gbox")||r.gbox;return d.hideModal("#"+D.jgrid.jqID(i.themodal),{gb:t,jqm:r.jqModal,onClose:e,removemodal:r.removemodal||!1,formprop:!r.recreateForm||!1,form:r.form||""}),!1}),0!==r.width&&r.width||(r.width=300),0!==r.height&&r.height||(r.height=200),r.zIndex||(f=D(t).parents("*[role=dialog]").filter(":first").css("z-index"),r.zIndex=f?parseInt(f,10)+2:950);var m;if(s&&g.left&&!a&&(m=D(r.gbox).width()-(isNaN(r.width)?0:parseInt(r.width,10))-8,g.left=parseInt(g.left,10)+parseInt(m,10)),g.left&&(g.left+="px"),D(l).css(D.extend({width:isNaN(r.width)?"auto":r.width+"px",height:isNaN(r.height)?"auto":r.height+"px",zIndex:r.zIndex,overflow:"hidden"},g)).attr({tabIndex:"-1",role:"dialog","aria-labelledby":i.modalhead,"aria-hidden":"true"}),void 0===r.drag&&(r.drag=!0),void 0===r.resize&&(r.resize=!0),r.drag)if(D(p).css("cursor","move"),D.fn.jqDrag)D(l).jqDrag(p);else try{D(l).draggable({handle:D("#"+D.jgrid.jqID(p.id))})}catch(e){}if(r.resize)if(D.fn.jqResize)D(l).append("<div class='jqResize ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se'></div>"),D("#"+D.jgrid.jqID(i.themodal)).jqResize(".jqResize",!!i.scrollelm&&"#"+D.jgrid.jqID(i.scrollelm));else try{D(l).resizable({handles:"se, sw",alsoResize:!!i.scrollelm&&"#"+D.jgrid.jqID(i.scrollelm)})}catch(e){}!0===r.closeOnEscape&&D(l).keydown(function(e){var t;27===e.which&&(t=D("#"+D.jgrid.jqID(i.themodal)).data("onClose")||r.onClose,d.hideModal("#"+D.jgrid.jqID(i.themodal),{gb:r.gbox,jqm:r.jqModal,onClose:t,removemodal:r.removemodal||!1,formprop:!r.recreateForm||!1,form:r.form||""}))})},viewModal:function(e,t){if(t=D.extend({toTop:!0,overlay:10,modal:!1,overlayClass:"ui-widget-overlay",onShow:D.jgrid.showModal,onHide:D.jgrid.closeModal,gbox:"",jqm:!0,jqM:!0},t||{}),D.fn.jqm&&!0===t.jqm)t.jqM?D(e).attr("aria-hidden","false").jqm(t).jqmShow():D(e).attr("aria-hidden","false").jqmShow();else{""!==t.gbox&&(D(".jqgrid-overlay:first",t.gbox).show(),D(e).data("gbox",t.gbox)),D(e).fadeIn({duration:300}).attr("aria-hidden","false");try{D(":input:visible",e)[0].focus()}catch(e){}}},info_dialog:function(e,t,i,r){var o={width:290,height:"auto",dataheight:"auto",drag:!0,resize:!1,left:250,top:170,zIndex:1e3,jqModal:!0,modal:!1,closeOnEscape:!0,align:"center",buttonalign:"center",buttons:[]};D.extend(!0,o,D.jgrid.jqModal||{},{caption:"<b>"+e+"</b>"},r||{});var a=o.jqModal,n=this;D.fn.jqm&&!a&&(a=!1);var s,l="";if(0<o.buttons.length)for(s=0;s<o.buttons.length;s++)void 0===o.buttons[s].id&&(o.buttons[s].id="info_button_"+s),l+="<a id='"+o.buttons[s].id+"' class='fm-button ui-state-default ui-corner-all'>"+o.buttons[s].text+"</a>";var d="<div id='info_id'>";d+="<div id='infocnt' style='margin:0px;padding-bottom:1em;width:100%;overflow:auto;position:relative;height:"+(isNaN(o.dataheight)?o.dataheight:o.dataheight+"px")+";"+("text-align:"+o.align+";")+"'>"+t+"</div>",d+=i?"<div class='ui-widget-content ui-helper-clearfix' style='text-align:"+o.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'><a id='closedialog' class='fm-button ui-state-default ui-corner-all'>"+i+"</a>"+l+"</div>":""!==l?"<div class='ui-widget-content ui-helper-clearfix' style='text-align:"+o.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'>"+l+"</div>":"",d+="</div>";try{"false"===D("#info_dialog").attr("aria-hidden")&&D.jgrid.hideModal("#info_dialog",{jqm:a}),D("#info_dialog").remove()}catch(e){}D.jgrid.createModal({themodal:"info_dialog",modalhead:"info_head",modalcontent:"info_content",scrollelm:"infocnt"},d,o,"","",!0),l&&D.each(o.buttons,function(e){D("#"+D.jgrid.jqID(this.id),"#info_id").bind("click",function(){return o.buttons[e].onClick.call(D("#info_dialog")),!1})}),D("#closedialog","#info_id").click(function(){return n.hideModal("#info_dialog",{jqm:a,onClose:D("#info_dialog").data("onClose")||o.onClose,gb:D("#info_dialog").data("gbox")||o.gbox}),!1}),D(".fm-button","#info_dialog").hover(function(){D(this).addClass("ui-state-hover")},function(){D(this).removeClass("ui-state-hover")}),D.isFunction(o.beforeOpen)&&o.beforeOpen(),D.jgrid.viewModal("#info_dialog",{onHide:function(e){e.w.hide().remove(),e.o&&e.o.remove()},modal:o.modal,jqm:a}),D.isFunction(o.afterOpen)&&o.afterOpen();try{D("#info_dialog").focus()}catch(e){}},bindEv:function(e,t){D.isFunction(t.dataInit)&&t.dataInit.call(this,e,t),t.dataEvents&&D.each(t.dataEvents,function(){void 0!==this.data?D(e).bind(this.type,this.data,this.fn):D(e).bind(this.type,this.fn)})},createEl:function(e,t,i,r,o){var a,n,s="",l=this;function d(i,e,t){var r=["dataInit","dataEvents","dataUrl","buildSelect","sopt","searchhidden","defaultValue","attr","custom_element","custom_value"];void 0!==t&&D.isArray(t)&&D.merge(r,t),D.each(e,function(e,t){-1===D.inArray(e,r)&&D(i).attr(e,t)}),e.hasOwnProperty("id")||D(i).attr("id",D.jgrid.randId())}switch(e){case"textarea":s=document.createElement("textarea"),r?t.cols||D(s).css({width:"98%"}):t.cols||(t.cols=20),t.rows||(t.rows=2),("&nbsp;"===i||"&#160;"===i||1===i.length&&160===i.charCodeAt(0))&&(i=""),s.value=i,d(s,t),D(s).attr({role:"textbox",multiline:"true"});break;case"checkbox":(s=document.createElement("input")).type="checkbox",t.value?(i===(a=t.value.split(":"))[0]&&(s.checked=!0,s.defaultChecked=!0),s.value=a[0],D(s).attr("offval",a[1])):((n=(i+"").toLowerCase()).search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==n?(s.checked=!0,s.defaultChecked=!0,s.value=i):s.value="on",D(s).attr("offval","off")),d(s,t,["value"]),D(s).attr("role","checkbox");break;case"select":(s=document.createElement("select")).setAttribute("role","select");var p,c,u=[];if(!0===t.multiple?(p=!0,s.multiple="multiple",D(s).attr("aria-multiselectable","true")):p=!1,void 0!==t.dataUrl){var h=null,f=t.postData||o.postData;try{h=t.rowId}catch(e){}l.p&&l.p.idPrefix&&(h=D.jgrid.stripPref(l.p.idPrefix,h)),D.ajax(D.extend({url:D.isFunction(t.dataUrl)?t.dataUrl.call(l,h,i,String(t.name)):t.dataUrl,type:"GET",dataType:"html",data:D.isFunction(f)?f.call(l,h,i,String(t.name)):f,context:{elem:s,options:t,vl:i},success:function(e){var t=[],i=this.elem,r=this.vl,o=D.extend({},this.options),a=!0===o.multiple,n=D.isFunction(o.buildSelect)?o.buildSelect.call(l,e):e;"string"==typeof n&&(n=D(D.trim(n)).html()),n&&(D(i).append(n),d(i,o,f?["postData"]:void 0),void 0===o.size&&(o.size=a?3:1),a?(t=r.split(","),t=D.map(t,function(e){return D.trim(e)})):t[0]=D.trim(r),setTimeout(function(){D("option",i).each(function(e){0===e&&i.multiple&&(this.selected=!1),D(this).attr("role","option"),(-1<D.inArray(D.trim(D(this).text()),t)||-1<D.inArray(D.trim(D(this).val()),t))&&(this.selected="selected")})},0))}},o||{}))}else if(t.value){void 0===t.size&&(t.size=p?3:1),p&&(u=i.split(","),u=D.map(u,function(e){return D.trim(e)})),"function"==typeof t.value&&(t.value=t.value());var g,m,v,b=void 0===t.separator?":":t.separator,w=void 0===t.delimiter?";":t.delimiter;if("string"==typeof t.value)for(g=t.value.split(w),c=0;c<g.length;c++)2<(m=g[c].split(b)).length&&(m[1]=D.map(m,function(e,t){if(0<t)return e}).join(b)),(v=document.createElement("option")).setAttribute("role","option"),v.value=m[0],v.innerHTML=m[1],s.appendChild(v),p||D.trim(m[0])!==D.trim(i)&&D.trim(m[1])!==D.trim(i)||(v.selected="selected"),p&&(-1<D.inArray(D.trim(m[1]),u)||-1<D.inArray(D.trim(m[0]),u))&&(v.selected="selected");else if("object"==typeof t.value){var j,y=t.value;for(j in y)y.hasOwnProperty(j)&&((v=document.createElement("option")).setAttribute("role","option"),v.value=j,v.innerHTML=y[j],s.appendChild(v),p||D.trim(j)!==D.trim(i)&&D.trim(y[j])!==D.trim(i)||(v.selected="selected"),p&&(-1<D.inArray(D.trim(y[j]),u)||-1<D.inArray(D.trim(j),u))&&(v.selected="selected"))}d(s,t,["value"])}break;case"text":case"password":case"button":var x="button"===e?"button":"textbox";(s=document.createElement("input")).type=e,s.value=i,d(s,t),"button"!==e&&(r?t.size||D(s).css({width:"98%"}):t.size||(t.size=20)),D(s).attr("role",x);break;case"image":case"file":(s=document.createElement("input")).type=e,d(s,t);break;case"custom":s=document.createElement("span");try{if(!D.isFunction(t.custom_element))throw"e1";var q=t.custom_element.call(l,i,t);if(!q)throw"e2";q=D(q).addClass("customelement").attr({id:t.id,name:t.name}),D(s).empty().append(q)}catch(e){"e1"===e&&D.jgrid.info_dialog(D.jgrid.errors.errcap,"function 'custom_element' "+D.jgrid.edit.msg.nodefined,D.jgrid.edit.bClose),"e2"===e?D.jgrid.info_dialog(D.jgrid.errors.errcap,"function 'custom_element' "+D.jgrid.edit.msg.novalue,D.jgrid.edit.bClose):D.jgrid.info_dialog(D.jgrid.errors.errcap,"string"==typeof e?e:e.message,D.jgrid.edit.bClose)}}return s},checkDate:function(e,t){var i={},r=-1!==(e=e.toLowerCase()).indexOf("/")?"/":-1!==e.indexOf("-")?"-":-1!==e.indexOf(".")?".":"/";if(e=e.split(r),3!==(t=t.split(r)).length)return!1;for(var o,a=-1,n=-1,s=-1,l=0;l<e.length;l++){var d=isNaN(t[l])?0:parseInt(t[l],10);i[e[l]]=d,-1!==(o=e[l]).indexOf("y")&&(a=l),-1!==o.indexOf("m")&&(s=l),-1!==o.indexOf("d")&&(n=l)}o="y"===e[a]||"yyyy"===e[a]?4:"yy"===e[a]?2:-1;var p,c;return-1!==a&&(p=i[e[a]].toString(),2===o&&1===p.length&&(o=1),p.length===o&&(0!==i[e[a]]||"00"===t[a])&&(-1!==s&&(!((p=i[e[s]].toString()).length<1||i[e[s]]<1||12<i[e[s]])&&(-1!==n&&!((p=i[e[n]].toString()).length<1||i[e[n]]<1||31<i[e[n]]||2===i[e[s]]&&i[e[n]]>((c=i[e[a]])%4!=0||c%100==0&&c%400!=0?28:29)||i[e[n]]>[0,31,29,31,30,31,30,31,31,30,31,30,31][i[e[s]]])))))},isEmpty:function(e){return!(!e.match(/^\s+$/)&&""!==e)},checkTime:function(e){var t;if(!D.jgrid.isEmpty(e)){if(!(t=e.match(/^(\d{1,2}):(\d{2})([apAP][Mm])?$/)))return!1;if(t[3]){if(t[1]<1||12<t[1])return!1}else if(23<t[1])return!1;if(59<t[2])return!1}return!0},checkValues:function(e,t,i,r){var o,a,n,s,l,d=this.p.colModel;if(void 0===i)if("string"==typeof t){for(a=0,l=d.length;a<l;a++)if(d[a].name===t){o=d[a].editrules,null!=d[t=a].formoptions&&(n=d[a].formoptions.label);break}}else 0<=t&&(o=d[t].editrules);else o=i,n=void 0===r?"_":r;if(o){if(n=n||(null!=this.p.colNames?this.p.colNames[t]:d[t].label),!0===o.required&&D.jgrid.isEmpty(e))return[!1,n+": "+D.jgrid.edit.msg.required,""];var p=!1!==o.required;if(!0===o.number&&(!1!=p||!D.jgrid.isEmpty(e))&&isNaN(e))return[!1,n+": "+D.jgrid.edit.msg.number,""];if(void 0!==o.minValue&&!isNaN(o.minValue)&&parseFloat(e)<parseFloat(o.minValue))return[!1,n+": "+D.jgrid.edit.msg.minValue+" "+o.minValue,""];if(void 0!==o.maxValue&&!isNaN(o.maxValue)&&parseFloat(e)>parseFloat(o.maxValue))return[!1,n+": "+D.jgrid.edit.msg.maxValue+" "+o.maxValue,""];if(!0===o.email&&!(!1==p&&D.jgrid.isEmpty(e)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(e)))return[!1,n+": "+D.jgrid.edit.msg.email,""];if(!0===o.integer&&(!1!=p||!D.jgrid.isEmpty(e))){if(isNaN(e))return[!1,n+": "+D.jgrid.edit.msg.integer,""];if(e%1!=0||-1!==e.indexOf("."))return[!1,n+": "+D.jgrid.edit.msg.integer,""]}if(!0===o.date&&!(!1==p&&D.jgrid.isEmpty(e)||(d[t].formatoptions&&d[t].formatoptions.newformat?(s=d[t].formatoptions.newformat,D.jgrid.formatter.date.masks.hasOwnProperty(s)&&(s=D.jgrid.formatter.date.masks[s])):s=d[t].datefmt||"Y-m-d",D.jgrid.checkDate(s,e))))return[!1,n+": "+D.jgrid.edit.msg.date+" - "+s,""];if(!0===o.time&&!(!1==p&&D.jgrid.isEmpty(e)||D.jgrid.checkTime(e)))return[!1,n+": "+D.jgrid.edit.msg.date+" - hh:mm (am/pm)",""];if(!0===o.url&&!(!1==p&&D.jgrid.isEmpty(e)||/^(((https?)|(ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i.test(e)))return[!1,n+": "+D.jgrid.edit.msg.url,""];if(!0===o.custom&&(!1!=p||!D.jgrid.isEmpty(e))){if(D.isFunction(o.custom_func)){var c=o.custom_func.call(this,e,n,t);return D.isArray(c)?c:[!1,D.jgrid.edit.msg.customarray,""]}return[!1,D.jgrid.edit.msg.customfcheck,""]}}return[!0,"",""]}})}(jQuery),function(I){"use strict";I.jgrid.extend({getColProp:function(e){var t={},i=this[0];if(!i.grid)return!1;for(var r=i.p.colModel,o=0;o<r.length;o++)if(r[o].name===e){t=r[o];break}return t},setColProp:function(i,r){return this.each(function(){if(this.grid&&r)for(var e=this.p.colModel,t=0;t<e.length;t++)if(e[t].name===i){I.extend(!0,this.p.colModel[t],r);break}})},sortGrid:function(a,n,s){return this.each(function(){var e,t,i=this,r=-1,o=!1;if(i.grid){for(a=a||i.p.sortname,e=0;e<i.p.colModel.length;e++)if(i.p.colModel[e].index===a||i.p.colModel[e].name===a){r=e,!0===i.p.frozenColumns&&!0===i.p.colModel[e].frozen&&(o=i.grid.fhDiv.find("#"+i.p.id+"_"+a));break}-1!==r&&(t=i.p.colModel[r].sortable,o=o||i.grid.headers[r].el,"boolean"!=typeof t&&(t=!0),"boolean"!=typeof n&&(n=!1),t&&i.sortData("jqgh_"+i.p.id+"_"+a,r,n,s,o))}})},clearBeforeUnload:function(){return this.each(function(){var e=this.grid;I.isFunction(e.emptyRows)&&e.emptyRows.call(this,!0,!0),I(document).unbind("mouseup.jqGrid"+this.p.id),I(e.hDiv).unbind("mousemove"),I(this).unbind(),e.dragEnd=null,e.dragMove=null,e.dragStart=null,e.emptyRows=null,e.populate=null,e.populateVisible=null,e.scrollGrid=null,e.selectionPreserver=null,e.bDiv=null,e.cDiv=null,e.hDiv=null,e.cols=null;for(var t=e.headers.length,i=0;i<t;i++)e.headers[i].el=null;this.formatCol=null,this.sortData=null,this.updatepager=null,this.refreshIndex=null,this.setHeadCheckBox=null,this.constructTr=null,this.formatter=null,this.addXmlData=null,this.addJSONData=null,this.grid=null})},GridDestroy:function(){return this.each(function(){if(this.grid){this.p.pager&&I(this.p.pager).remove();try{I(this).jqGrid("clearBeforeUnload"),I("#gbox_"+I.jgrid.jqID(this.id)).remove(),I("#alertmod_"+I.jgrid.jqID(this.id)).remove()}catch(e){}}})},GridUnload:function(){return this.each(function(){var e,t,i;this.grid&&(e={id:I(this).attr("id"),cl:I(this).attr("class")},this.p.pager&&I(this.p.pager).empty().removeClass("ui-state-default ui-jqgrid-pager ui-corner-bottom"),t=document.createElement("table"),I(t).attr({id:e.id}),t.className=e.cl,i=I.jgrid.jqID(this.id),I(t).removeClass("ui-jqgrid-btable"),1===I(this.p.pager).parents("#gbox_"+i).length?(I(t).insertBefore("#gbox_"+i).show(),I(this.p.pager).insertBefore("#gbox_"+i)):I(t).insertBefore("#gbox_"+i).show(),I(this).jqGrid("clearBeforeUnload"),I("#gbox_"+i).remove())})},setGridState:function(t){return this.each(function(){var e;this.grid&&(e=this,"hidden"===t?(I(".ui-jqgrid-bdiv, .ui-jqgrid-hdiv","#gview_"+I.jgrid.jqID(e.p.id)).slideUp("fast"),e.p.pager&&I(e.p.pager).slideUp("fast"),e.p.toppager&&I(e.p.toppager).slideUp("fast"),!0===e.p.toolbar[0]&&("both"===e.p.toolbar[1]&&I(e.grid.ubDiv).slideUp("fast"),I(e.grid.uDiv).slideUp("fast")),e.p.footerrow&&I(".ui-jqgrid-sdiv","#gbox_"+I.jgrid.jqID(e.p.id)).slideUp("fast"),I(".ui-jqgrid-titlebar-close span",e.grid.cDiv).removeClass("ui-icon-circle-triangle-n").addClass("ui-icon-circle-triangle-s"),e.p.gridstate="hidden"):"visible"===t&&(I(".ui-jqgrid-hdiv, .ui-jqgrid-bdiv","#gview_"+I.jgrid.jqID(e.p.id)).slideDown("fast"),e.p.pager&&I(e.p.pager).slideDown("fast"),e.p.toppager&&I(e.p.toppager).slideDown("fast"),!0===e.p.toolbar[0]&&("both"===e.p.toolbar[1]&&I(e.grid.ubDiv).slideDown("fast"),I(e.grid.uDiv).slideDown("fast")),e.p.footerrow&&I(".ui-jqgrid-sdiv","#gbox_"+I.jgrid.jqID(e.p.id)).slideDown("fast"),I(".ui-jqgrid-titlebar-close span",e.grid.cDiv).removeClass("ui-icon-circle-triangle-s").addClass("ui-icon-circle-triangle-n"),e.p.gridstate="visible"))})},filterToolbar:function($){return $=I.extend({autosearch:!0,autosearchDelay:500,searchOnEnter:!0,beforeSearch:null,afterSearch:null,beforeClear:null,afterClear:null,searchurl:"",stringResult:!1,groupOp:"AND",defaultSearch:"bw",searchOperators:!1,resetIcon:"x",operands:{eq:"==",ne:"!",lt:"<",le:"<=",gt:">",ge:">=",bw:"^",bn:"!^",in:"=",ni:"!=",ew:"|",en:"!@",cn:"~",nc:"!~",nu:"#",nn:"!#"}},I.jgrid.search,$||{}),this.each(function(){var q,D,C,_=this;this.ftoolbar||(q=function(){var t,i,r,o={},a=0,n={};I.each(_.p.colModel,function(){var e=I("#gs_"+I.jgrid.jqID(this.name),!0===this.frozen&&!0===_.p.frozenColumns?_.grid.fhDiv:_.grid.hDiv);if(i=this.index||this.name,r=$.searchOperators?e.parent().prev().children("a").attr("soper")||$.defaultSearch:this.searchoptions&&this.searchoptions.sopt?this.searchoptions.sopt[0]:"select"===this.stype?"eq":$.defaultSearch,(t="custom"===this.stype&&I.isFunction(this.searchoptions.custom_value)&&0<e.length&&"SPAN"===e[0].nodeName.toUpperCase()?this.searchoptions.custom_value.call(_,e.children(".customelement:first"),"get"):e.val())||"nu"===r||"nn"===r)o[i]=t,n[i]=r,a++;else try{delete _.p.postData[i]}catch(e){}});var s,l,e,d=0<a;!0===$.stringResult||"local"===_.p.datatype||!0===$.searchOperators?(s='{"groupOp":"'+$.groupOp+'","rules":[',l=0,I.each(o,function(e,t){0<l&&(s+=","),""!=t&&(s+='{"field":"'+e+'",',s+='"op":"'+n[e]+'",',s+='"data":"'+(t+="").replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',l++)}),s+="]}",I.extend(_.p.postData,{filters:s}),I.each(["searchField","searchString","searchOper"],function(e,t){_.p.postData.hasOwnProperty(t)&&delete _.p.postData[t]})):I.extend(_.p.postData,o),_.p.searchurl&&(e=_.p.url,I(_).jqGrid("setGridParam",{url:_.p.searchurl}));var p="stop"===I(_).triggerHandler("jqGridToolbarBeforeSearch");!p&&I.isFunction($.beforeSearch)&&(p=$.beforeSearch.call(_)),p||I(_).jqGrid("setGridParam",{search:d}).trigger("reloadGrid",[{page:1}]),e&&I(_).jqGrid("setGridParam",{url:e}),I(_).triggerHandler("jqGridToolbarAfterSearch"),I.isFunction($.afterSearch)&&$.afterSearch.call(_)},D=I("<tr class='ui-search-toolbar' role='row'></tr>"),I.each(_.p.colModel,function(e){var i,r,t,o,a,n,s,l,d,p=this,c="",u="=",h=I("<th role='columnheader' class='ui-state-default ui-th-column ui-th-"+_.p.direction+"'></th>"),f=I("<div style='position:relative;height:auto;padding-right:0.3em;padding-left:0.3em;'></div>"),g=I("<table class='ui-search-table' cellspacing='0'><tr><td class='ui-search-oper'></td><td class='ui-search-input'></td><td class='ui-search-clear'></td></tr></table>");if(!0===this.hidden&&I(h).css("display","none"),this.search=!1!==this.search,void 0===this.stype&&(this.stype="text"),i=I.extend({},this.searchoptions||{}),this.search){if($.searchOperators){for(t=i.sopt?i.sopt[0]:"select"===p.stype?"eq":$.defaultSearch,o=0;o<$.odata.length;o++)if($.odata[o].oper===t){u=$.operands[t]||"";break}c="<a title='"+(null!=i.searchtitle?i.searchtitle:$.operandTitle)+"' style='padding-right: 0.5em;' soper='"+t+"' class='soptclass' colname='"+this.name+"'>"+u+"</a>"}switch(I("td:eq(0)",g).attr("colindex",e).append(c),void 0===i.clearSearch&&(i.clearSearch=!0),i.clearSearch?(a=$.resetTitle||"Clear Search Value",I("td:eq(2)",g).append("<a title='"+a+"' style='padding-right: 0.3em;padding-left: 0.3em;' class='clearsearchclass'>"+$.resetIcon+"</a>")):I("td:eq(2)",g).hide(),this.stype){case"select":if(d=this.surl||i.dataUrl)I(r=f).append(g),I.ajax(I.extend({url:d,dataType:"html",success:function(e){var t;void 0!==i.buildSelect?(t=i.buildSelect(e))&&I("td:eq(1)",g).append(t):I("td:eq(1)",g).append(e),void 0!==i.defaultValue&&I("select",r).val(i.defaultValue),I("select",r).attr({name:p.index||p.name,id:"gs_"+p.name}),i.attr&&I("select",r).attr(i.attr),I("select",r).css({width:"100%"}),I.jgrid.bindEv.call(_,I("select",r)[0],i),!0===$.autosearch&&I("select",r).change(function(){return q(),!1}),e=null}},I.jgrid.ajaxOptions,_.p.ajaxSelectOptions||{}));else if(p.searchoptions?(n=void 0===p.searchoptions.value?"":p.searchoptions.value,s=void 0===p.searchoptions.separator?":":p.searchoptions.separator,l=void 0===p.searchoptions.delimiter?";":p.searchoptions.delimiter):p.editoptions&&(n=void 0===p.editoptions.value?"":p.editoptions.value,s=void 0===p.editoptions.separator?":":p.editoptions.separator,l=void 0===p.editoptions.delimiter?";":p.editoptions.delimiter),n){var m,v,b,w,j=document.createElement("select");if(j.style.width="100%",I(j).attr({name:p.index||p.name,id:"gs_"+p.name}),"string"==typeof n)for(t=n.split(l),w=0;w<t.length;w++)m=t[w].split(s),(v=document.createElement("option")).value=m[0],v.innerHTML=m[1],j.appendChild(v);else if("object"==typeof n)for(b in n)n.hasOwnProperty(b)&&((v=document.createElement("option")).value=b,v.innerHTML=n[b],j.appendChild(v));I(j).val(""),i.attr&&I(j).attr(i.attr),void 0!==i.defaultValue&&I(j).val(i.defaultValue),I(f).append(g),I.jgrid.bindEv.call(_,j,i),I("td:eq(1)",g).append(j),!0===$.autosearch&&I(j).change(function(){return q(),!1})}break;case"text":var y=void 0!==i.defaultValue?i.defaultValue:"";I("td:eq(1)",g).append("<input type='text' style='width:100%;padding:0px;' name='"+(p.index||p.name)+"' id='gs_"+p.name+"' value='"+y+"'/>"),I(f).append(g),i.attr&&I("input",f).attr(i.attr),I.jgrid.bindEv.call(_,I("input",f)[0],i),!0===$.autosearch&&($.searchOnEnter?I("input",f).keypress(function(e){return 13===(e.charCode||e.keyCode||0)?(q(),!1):this}):I("input",f).keydown(function(e){switch(e.which){case 13:return!1;case 9:case 16:case 37:case 38:case 39:case 40:case 27:break;default:C&&clearTimeout(C),C=setTimeout(function(){q()},$.autosearchDelay)}}));break;case"custom":I("td:eq(1)",g).append("<span style='width:95%;padding:0px;' name='"+(p.index||p.name)+"' id='gs_"+p.name+"'/>"),I(f).append(g);try{if(!I.isFunction(i.custom_element))throw"e1";var x=i.custom_element.call(_,void 0!==i.defaultValue?i.defaultValue:"",i);if(!x)throw"e2";x=I(x).addClass("customelement"),I(f).find("span[name='"+(p.index||p.name)+"']").append(x)}catch(e){"e1"===e&&I.jgrid.info_dialog(I.jgrid.errors.errcap,"function 'custom_element' "+I.jgrid.edit.msg.nodefined,I.jgrid.edit.bClose),"e2"===e?I.jgrid.info_dialog(I.jgrid.errors.errcap,"function 'custom_element' "+I.jgrid.edit.msg.novalue,I.jgrid.edit.bClose):I.jgrid.info_dialog(I.jgrid.errors.errcap,"string"==typeof e?e:e.message,I.jgrid.edit.bClose)}}}I(h).append(f),I(D).append(h),$.searchOperators||I("td:eq(0)",g).hide()}),I("table thead",_.grid.hDiv).append(D),$.searchOperators&&(I(".soptclass",D).click(function(e){var t=I(this).offset();!function(o,e,t){I("#sopt_menu").remove(),e=parseInt(e,10),t=parseInt(t,10)+18;for(var i,r='<ul id="sopt_menu" class="ui-search-menu" role="menu" tabindex="0" style="font-size:'+(I(".ui-jqgrid-view").css("font-size")||"11px")+";left:"+e+"px;top:"+t+'px;">',a=I(o).attr("soper"),n=[],s=0,l=I(o).attr("colname"),d=_.p.colModel.length;s<d&&_.p.colModel[s].name!==l;)s++;var p=_.p.colModel[s],c=I.extend({},p.searchoptions);for(c.sopt||(c.sopt=[],c.sopt[0]="select"===p.stype?"eq":$.defaultSearch),I.each($.odata,function(){n.push(this.oper)}),s=0;s<c.sopt.length;s++)-1!==(i=I.inArray(c.sopt[s],n))&&(r+='<li class="ui-menu-item '+(a===$.odata[i].oper?"ui-state-highlight":"")+'" role="presentation"><a class="ui-corner-all g-menu-item" tabindex="0" role="menuitem" value="'+$.odata[i].oper+'" oper="'+$.operands[$.odata[i].oper]+'"><table cellspacing="0" cellpadding="0" border="0"><tr><td width="25px">'+$.operands[$.odata[i].oper]+"</td><td>"+$.odata[i].text+"</td></tr></table></a></li>");r+="</ul>",I("body").append(r),I("#sopt_menu").addClass("ui-menu ui-widget ui-widget-content ui-corner-all"),I("#sopt_menu > li > a").hover(function(){I(this).addClass("ui-state-hover")},function(){I(this).removeClass("ui-state-hover")}).click(function(e){var t,i=I(this).attr("value"),r=I(this).attr("oper");I(_).triggerHandler("jqGridToolbarSelectOper",[i,r,o]),I("#sopt_menu").hide(),I(o).text(r).attr("soper",i),!0===$.autosearch&&(t=I(o).parent().next().children()[0],!I(t).val()&&"nu"!==i&&"nn"!==i||q())})}(this,t.left,t.top),e.stopPropagation()}),I("body").on("click",function(e){"soptclass"!==e.target.className&&I("#sopt_menu").hide()})),I(".clearsearchclass",D).click(function(e){var t=I(this).parents("tr:first"),i=parseInt(I("td.ui-search-oper",t).attr("colindex"),10),r=I.extend({},_.p.colModel[i].searchoptions||{}),o=r.defaultValue?r.defaultValue:"";"select"===_.p.colModel[i].stype?o?I("td.ui-search-input select",t).val(o):I("td.ui-search-input select",t)[0].selectedIndex=0:I("td.ui-search-input input",t).val(o),!0===$.autosearch&&q()}),this.ftoolbar=!0,this.triggerToolbar=q,this.clearToolbar=function(e){var i,r={},o=0;e="boolean"!=typeof e||e,I.each(_.p.colModel,function(){var t,e=I("#gs_"+I.jgrid.jqID(this.name),!0===this.frozen&&!0===_.p.frozenColumns?_.grid.fhDiv:_.grid.hDiv);switch(this.searchoptions&&void 0!==this.searchoptions.defaultValue&&(t=this.searchoptions.defaultValue),i=this.index||this.name,this.stype){case"select":e.next(".ui-multiselect").length&&e.multiselect("uncheckAll");e.next(".ui-multiselect").length;if(e.next(".select2").length&&e.val("").select2(),e.find("option").each(function(e){if(I(this).val()===t)return!(this.selected=!0)}),void 0!==t)r[i]=t,o++;else try{delete _.p.postData[i]}catch(e){}break;case"text":if(e.next(".comiseo-daterangepicker-triggerbutton").length&&e.daterangepicker("clearRange"),e.val(t||""),void 0!==t)r[i]=t,o++;else try{delete _.p.postData[i]}catch(e){}break;case"custom":I.isFunction(this.searchoptions.custom_value)&&0<e.length&&"SPAN"===e[0].nodeName.toUpperCase()&&this.searchoptions.custom_value.call(_,e.children(".customelement:first"),"set",t||"")}});var a,n,t,s=0<o;(_.p.resetsearch=!0)===$.stringResult||"local"===_.p.datatype?(a='{"groupOp":"'+$.groupOp+'","rules":[',n=0,I.each(r,function(e,t){0<n&&(a+=","),a+='{"field":"'+e+'",',a+='"op":"eq",',a+='"data":"'+(t+="").replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',n++}),a+="]}",I.extend(_.p.postData,{filters:a}),I.each(["searchField","searchString","searchOper"],function(e,t){_.p.postData.hasOwnProperty(t)&&delete _.p.postData[t]})):I.extend(_.p.postData,r),_.p.searchurl&&(t=_.p.url,I(_).jqGrid("setGridParam",{url:_.p.searchurl}));var l="stop"===I(_).triggerHandler("jqGridToolbarBeforeClear");!l&&I.isFunction($.beforeClear)&&(l=$.beforeClear.call(_)),l||e&&I(_).jqGrid("setGridParam",{search:s}).trigger("reloadGrid",[{page:1}]),t&&I(_).jqGrid("setGridParam",{url:t}),I(_).triggerHandler("jqGridToolbarAfterClear"),I.isFunction($.afterClear)&&$.afterClear()},this.toggleToolbar=function(){var e=I("tr.ui-search-toolbar",_.grid.hDiv),t=!0===_.p.frozenColumns&&I("tr.ui-search-toolbar",_.grid.fhDiv);"none"===e.css("display")?(e.show(),t&&t.show()):(e.hide(),t&&t.hide())})})},destroyFilterToolbar:function(){return this.each(function(){this.ftoolbar&&(this.triggerToolbar=null,this.clearToolbar=null,this.toggleToolbar=null,this.ftoolbar=!1,I(this.grid.hDiv).find("table thead tr.ui-search-toolbar").remove())})},destroyGroupHeader:function(p){return void 0===p&&(p=!0),this.each(function(){var e,t,i,r,o,a,n,s=this.grid,l=I("table.ui-jqgrid-htable thead",s.hDiv),d=this.p.colModel;if(s){for(I(this).unbind(".setGroupHeaders"),e=I("<tr>",{role:"row"}).addClass("ui-jqgrid-labels"),t=0,i=(r=s.headers).length;t<i;t++){n=d[t].hidden?"none":"",o=I(r[t].el).width(r[t].width).css("display",n);try{o.removeAttr("rowSpan")}catch(e){o.attr("rowSpan",1)}e.append(o),0<(a=o.children("span.ui-jqgrid-resize")).length&&(a[0].style.height=""),o.children("div")[0].style.top=""}I(l).children("tr.ui-jqgrid-labels").remove(),I(l).prepend(e),!0===p&&I(this).jqGrid("setGridParam",{groupHeader:null})}})},setGroupHeaders:function(q){return q=I.extend({useColSpanStyle:!1,groupHeaders:[]},q||{}),this.each(function(){this.p.groupHeader=q;var e,t,i,r,o,a,n,s,l,d,p,c,u,h=this,f=0,g=h.p.colModel,m=g.length,v=h.grid.headers,b=I("table.ui-jqgrid-htable",h.grid.hDiv),w=b.children("thead").children("tr.ui-jqgrid-labels:last").addClass("jqg-second-row-header"),j=b.children("thead"),y=b.find(".jqg-first-row-header");void 0===y[0]?y=I("<tr>",{role:"row","aria-hidden":"true"}).addClass("jqg-first-row-header").css("height","auto"):y.empty();var x;for(I(h).prepend(j),i=I("<tr>",{role:"row"}).addClass("ui-jqgrid-labels jqg-third-row-header"),e=0;e<m;e++)if(o=v[e].el,a=I(o),t=g[e],n={height:"0px",width:v[e].width+"px",display:t.hidden?"none":""},I("<th>",{role:"gridcell"}).css(n).addClass("ui-first-th-"+h.p.direction).appendTo(y),o.style.width="",0<=(s=function(e,t){for(var i=t.length,r=0;r<i;r++)if(t[r].startColumnName===e)return r;return-1}(t.name,q.groupHeaders))){for(d=(l=q.groupHeaders[s]).numberOfColumns,p=l.titleText,s=c=0;s<d&&e+s<m;s++)g[e+s].hidden||c++;r=I("<th>").attr({role:"columnheader"}).addClass("ui-state-default ui-th-column-header ui-th-"+h.p.direction).css({height:"22px","border-top":"0 none"}).html(p),0<c&&r.attr("colspan",String(c)),h.p.headertitles&&r.attr("title",r.text()),0===c&&r.hide(),a.before(r),i.append(o),f=d-1}else 0===f?q.useColSpanStyle?a.attr("rowspan","2"):(I("<th>",{role:"columnheader"}).addClass("ui-state-default ui-th-column-header ui-th-"+h.p.direction).css({display:t.hidden?"none":"","border-top":"0 none"}).insertBefore(a),i.append(o)):(i.append(o),f--);(u=I(h).children("thead")).prepend(y),i.insertAfter(w),b.append(u),q.useColSpanStyle&&(b.find("span.ui-jqgrid-resize").each(function(){var e=I(this).parent();e.is(":visible")&&(this.style.cssText="height: "+e.height()+"px !important; cursor: col-resize;")}),b.find("div.ui-jqgrid-sortable").each(function(){var e=I(this),t=e.parent();t.is(":visible")&&t.is(":has(span.ui-jqgrid-resize)")&&e.css("top",(t.height()-e.outerHeight())/2+"px")})),x=u.find("tr.jqg-first-row-header"),I(h).bind("jqGridResizeStop.setGroupHeaders",function(e,t,i){x.find("th").eq(i).width(t)})})},setFrozenColumns:function(){return this.each(function(){if(this.grid){var e,t,i,r,o,a,n,s,l=this,d=l.p.colModel,p=0,c=d.length,u=-1,h=!1;if(!0!==l.p.subGrid&&!0!==l.p.treeGrid&&!0!==l.p.cellEdit&&!l.p.sortable&&!l.p.scroll){for(l.p.rownumbers&&p++,l.p.multiselect&&p++;p<c&&!0===d[p].frozen;)h=!0,u=p,p++;0<=u&&h&&(e=l.p.caption?I(l.grid.cDiv).outerHeight():0,t=I(".ui-jqgrid-htable","#gview_"+I.jgrid.jqID(l.p.id)).height(),l.p.toppager&&(e+=I(l.grid.topDiv).outerHeight()),!0===l.p.toolbar[0]&&"bottom"!==l.p.toolbar[1]&&(e+=I(l.grid.uDiv).outerHeight()),l.grid.fhDiv=I('<div style="position:absolute;left:0px;top:'+e+"px;height:"+t+'px;" class="frozen-div ui-state-default ui-jqgrid-hdiv"></div>'),l.grid.fbDiv=I('<div style="position:absolute;left:0px;top:'+(parseInt(e,10)+parseInt(t,10)+1)+'px;overflow-y:hidden" class="frozen-bdiv ui-jqgrid-bdiv"></div>'),I("#gview_"+I.jgrid.jqID(l.p.id)).append(l.grid.fhDiv),i=I(".ui-jqgrid-htable","#gview_"+I.jgrid.jqID(l.p.id)).clone(!0),l.p.groupHeader?(I("tr.jqg-first-row-header, tr.jqg-third-row-header",i).each(function(){I("th:gt("+u+")",this).remove()}),o=r=-1,I("tr.jqg-second-row-header th",i).each(function(){if(a=parseInt(I(this).attr("colspan"),10),parseInt(I(this).attr("rowspan"),10)&&(r++,o++),a&&(r+=a,o++),r===u)return!1}),r!==u&&(o=u),I("tr.jqg-second-row-header",i).each(function(){I("th:gt("+o+")",this).remove()})):I("tr",i).each(function(){I("th:gt("+u+")",this).remove()}),I(i).width(1),I(l.grid.fhDiv).append(i).mousemove(function(e){if(l.grid.resizing)return l.grid.dragMove(e),!1}),l.p.footerrow&&(n=I(".ui-jqgrid-bdiv","#gview_"+I.jgrid.jqID(l.p.id)).height(),l.grid.fsDiv=I('<div style="position:absolute;left:0px;top:'+(parseInt(e,10)+parseInt(t,10)+parseInt(n,10)+1)+'px;" class="frozen-sdiv ui-jqgrid-sdiv"></div>'),I("#gview_"+I.jgrid.jqID(l.p.id)).append(l.grid.fsDiv),s=I(".ui-jqgrid-ftable","#gview_"+I.jgrid.jqID(l.p.id)).clone(!0),I("tr",s).each(function(){I("td:gt("+u+")",this).remove()}),I(s).width(1),I(l.grid.fsDiv).append(s)),I(l).bind("jqGridResizeStop.setFrozenColumns",function(e,t,i){var r=I(".ui-jqgrid-htable",l.grid.fhDiv);I("th:eq("+i+")",r).width(t);var o,a=I(".ui-jqgrid-btable",l.grid.fbDiv);I("tr:first td:eq("+i+")",a).width(t),l.p.footerrow&&(o=I(".ui-jqgrid-ftable",l.grid.fsDiv),I("tr:first td:eq("+i+")",o).width(t))}),I(l).bind("jqGridSortCol.setFrozenColumns",function(e,t,i){var r=I("tr.ui-jqgrid-labels:last th:eq("+l.p.lastsort+")",l.grid.fhDiv),o=I("tr.ui-jqgrid-labels:last th:eq("+i+")",l.grid.fhDiv);I("span.ui-grid-ico-sort",r).addClass("ui-state-disabled"),I(r).attr("aria-selected","false"),I("span.ui-icon-"+l.p.sortorder,o).removeClass("ui-state-disabled"),I(o).attr("aria-selected","true"),l.p.viewsortcols[0]||l.p.lastsort!==i&&(I("span.s-ico",r).hide(),I("span.s-ico",o).show())}),I("#gview_"+I.jgrid.jqID(l.p.id)).append(l.grid.fbDiv),I(l.grid.bDiv).scroll(function(){I(l.grid.fbDiv).scrollTop(I(this).scrollTop())}),!0===l.p.hoverrows&&I("#"+I.jgrid.jqID(l.p.id)).unbind("mouseover").unbind("mouseout"),I(l).bind("jqGridAfterGridComplete.setFrozenColumns",function(){I("#"+I.jgrid.jqID(l.p.id)+"_frozen").remove(),I(l.grid.fbDiv).height(I(l.grid.bDiv).height()-16);var e=I("#"+I.jgrid.jqID(l.p.id)).clone(!0);I("tr[role=row]",e).each(function(){I("td[role=gridcell]:gt("+u+")",this).remove()}),I(e).width(1).attr("id",l.p.id+"_frozen"),I(l.grid.fbDiv).append(e),!0===l.p.hoverrows&&(I("tr.jqgrow",e).hover(function(){I(this).addClass("ui-state-hover"),I("#"+I.jgrid.jqID(this.id),"#"+I.jgrid.jqID(l.p.id)).addClass("ui-state-hover")},function(){I(this).removeClass("ui-state-hover"),I("#"+I.jgrid.jqID(this.id),"#"+I.jgrid.jqID(l.p.id)).removeClass("ui-state-hover")}),I("tr.jqgrow","#"+I.jgrid.jqID(l.p.id)).hover(function(){I(this).addClass("ui-state-hover"),I("#"+I.jgrid.jqID(this.id),"#"+I.jgrid.jqID(l.p.id)+"_frozen").addClass("ui-state-hover")},function(){I(this).removeClass("ui-state-hover"),I("#"+I.jgrid.jqID(this.id),"#"+I.jgrid.jqID(l.p.id)+"_frozen").removeClass("ui-state-hover")})),e=null}),l.grid.hDiv.loading||I(l).triggerHandler("jqGridAfterGridComplete"),l.p.frozenColumns=!0)}}})},destroyFrozenColumns:function(){return this.each(function(){var e,t;this.grid&&!0===this.p.frozenColumns&&(I((e=this).grid.fhDiv).remove(),I(e.grid.fbDiv).remove(),e.grid.fhDiv=null,e.grid.fbDiv=null,e.p.footerrow&&(I(e.grid.fsDiv).remove(),e.grid.fsDiv=null),I(this).unbind(".setFrozenColumns"),!0===e.p.hoverrows&&I("#"+I.jgrid.jqID(e.p.id)).bind("mouseover",function(e){t=I(e.target).closest("tr.jqgrow"),"ui-subgrid"!==I(t).attr("class")&&I(t).addClass("ui-state-hover")}).bind("mouseout",function(e){t=I(e.target).closest("tr.jqgrow"),I(t).removeClass("ui-state-hover")}),this.p.frozenColumns=!1)})}})}(jQuery),function($){"use strict";$.fn.jqFilter=function(e){if("string"==typeof e){var t=$.fn.jqFilter[e];if(!t)throw"jqFilter - No such method: "+e;var i=$.makeArray(arguments).slice(1);return t.apply(this,i)}var _=$.extend(!0,{filter:null,columns:[],onChange:null,afterRedraw:null,checkValues:null,error:!1,errmsg:"",errorcheck:!0,showQuery:!0,sopt:null,ops:[],operands:null,numopts:["eq","ne","lt","le","gt","ge","nu","nn","in","ni"],stropts:["eq","ne","bw","bn","ew","en","cn","nc","nu","nn","in","ni"],strarr:["text","string","blob"],groupOps:[{op:"AND",text:"AND"},{op:"OR",text:"OR"}],groupButton:!0,ruleButtons:!0,direction:"ltr"},$.jgrid.filter,e||{});return this.each(function(){if(!this.filter){this.p=_,null!==this.p.filter&&void 0!==this.p.filter||(this.p.filter={groupOp:this.p.groupOps[0].op,rules:[],groups:[]});var e,t,i=this.p.columns.length,D=/msie/i.test(navigator.userAgent)&&!window.opera;if(this.p.initFilter=$.extend(!0,{},this.p.filter),i){for(e=0;e<i;e++)(t=this.p.columns[e]).stype?t.inputtype=t.stype:t.inputtype||(t.inputtype="text"),t.sorttype?t.searchtype=t.sorttype:t.searchtype||(t.searchtype="string"),void 0===t.hidden&&(t.hidden=!1),t.label||(t.label=t.name),t.index&&(t.name=t.index),t.hasOwnProperty("searchoptions")||(t.searchoptions={}),t.hasOwnProperty("searchrules")||(t.searchrules={});this.p.showQuery&&$(this).append("<table class='queryresult ui-widget ui-widget-content' style='display:block;max-width:440px;border:0px none;' dir='"+this.p.direction+"'><tbody><tr><td class='query'></td></tr></tbody></table>");var C=function(){return $("#"+$.jgrid.jqID(_.id))[0]||null},n=function(e,t){var i=[!0,""],r=C();if($.isFunction(t.searchrules))i=t.searchrules.call(r,e,t);else if($.jgrid&&$.jgrid.checkValues)try{i=$.jgrid.checkValues.call(r,e,-1,t.searchrules,t.label)}catch(e){}i&&i.length&&!1===i[0]&&(_.error=!i[0],_.errmsg=i[1])};this.onchange=function(){return this.p.error=!1,this.p.errmsg="",!!$.isFunction(this.p.onChange)&&this.p.onChange.call(this,this.p)},this.reDraw=function(){$("table.group:first",this).remove();var e=this.createTableForGroup(_.filter,null);$(this).append(e),$.isFunction(this.p.afterRedraw)&&this.p.afterRedraw.call(this,this.p)},this.createTableForGroup=function(r,e){var o=this,t=$("<table class='group ui-widget ui-widget-content' style='border:0px none;'><tbody></tbody></table>"),i="left";"rtl"===this.p.direction&&(i="right",t.attr("dir","rtl")),null===e&&t.append("<tr class='error' style='display:none;'><th colspan='5' class='ui-state-error' align='"+i+"'></th></tr>");var a=$("<tr></tr>");t.append(a);var n=$("<th colspan='5' align='"+i+"'></th>");if(a.append(n),!0===this.p.ruleButtons){var s=$("<select class='opsel'></select>");n.append(s);for(var l,d="",p=0;p<_.groupOps.length;p++)l=r.groupOp===o.p.groupOps[p].op?" selected='selected'":"",d+="<option value='"+o.p.groupOps[p].op+"'"+l+">"+o.p.groupOps[p].text+"</option>";s.append(d).bind("change",function(){r.groupOp=$(s).val(),o.onchange()})}var c,u,h,f="<span></span>";if(this.p.groupButton&&(f=$("<input type='button' value='+ {}' title='Add subgroup' class='add-group'/>")).bind("click",function(){return void 0===r.groups&&(r.groups=[]),r.groups.push({groupOp:_.groupOps[0].op,rules:[],groups:[]}),o.reDraw(),o.onchange(),!1}),n.append(f),!0===this.p.ruleButtons&&((c=$("<input type='button' value='+' title='Add rule' class='add-rule ui-add'/>")).bind("click",function(){for(void 0===r.rules&&(r.rules=[]),p=0;p<o.p.columns.length;p++){var e=void 0===o.p.columns[p].search||o.p.columns[p].search,t=!0===o.p.columns[p].hidden;if(!0===o.p.columns[p].searchoptions.searchhidden&&e||e&&!t){u=o.p.columns[p];break}}var i=u.searchoptions.sopt?u.searchoptions.sopt:o.p.sopt?o.p.sopt:-1!==$.inArray(u.searchtype,o.p.strarr)?o.p.stropts:o.p.numopts;return r.rules.push({field:u.name,op:i[0],data:""}),o.reDraw(),!1}),n.append(c)),null!==e&&(h=$("<input type='button' value='-' title='Delete group' class='delete-group'/>"),n.append(h),h.bind("click",function(){for(p=0;p<e.groups.length;p++)if(e.groups[p]===r){e.groups.splice(p,1);break}return o.reDraw(),o.onchange(),!1})),void 0!==r.groups)for(p=0;p<r.groups.length;p++){var g=$("<tr></tr>");t.append(g);var m=$("<td class='first'></td>");g.append(m);var v=$("<td colspan='4'></td>");v.append(this.createTableForGroup(r.groups[p],r)),g.append(v)}if(void 0===r.groupOp&&(r.groupOp=o.p.groupOps[0].op),void 0!==r.rules)for(p=0;p<r.rules.length;p++)t.append(this.createTableRowForRule(r.rules[p],r));return t},this.createTableRowForRule=function(o,e){var a,n,s,t,l=this,d=C(),i=$("<tr></tr>"),r="";i.append("<td class='first'></td>");var p=$("<td class='columns'></td>");i.append(p);var c,u=$("<select></select>"),h=[];p.append(u),u.bind("change",function(){for(o.field=$(u).val(),n=$(this).parents("tr:first"),g=0;g<l.p.columns.length;g++)if(l.p.columns[g].name===o.field){s=l.p.columns[g];break}if(s){s.searchoptions.id=$.jgrid.randId(),D&&"text"===s.inputtype&&(s.searchoptions.size||(s.searchoptions.size=10));var e=$.jgrid.createEl.call(d,s.inputtype,s.searchoptions,"",!0,l.p.ajaxSelectOptions||{},!0);$(e).addClass("input-elm"),a=s.searchoptions.sopt?s.searchoptions.sopt:l.p.sopt?l.p.sopt:-1!==$.inArray(s.searchtype,l.p.strarr)?l.p.stropts:l.p.numopts;var t,i="",r=0;for(h=[],$.each(l.p.ops,function(){h.push(this.oper)}),g=0;g<a.length;g++)-1!==(c=$.inArray(a[g],h))&&(0===r&&(o.op=l.p.ops[c].oper),i+="<option value='"+l.p.ops[c].oper+"'>"+l.p.ops[c].text+"</option>",r++);$(".selectopts",n).empty().append(i),$(".selectopts",n)[0].selectedIndex=0,$.jgrid.msie&&$.jgrid.msiever()<9&&(t=parseInt($("select.selectopts",n)[0].offsetWidth,10)+1,$(".selectopts",n).width(t),$(".selectopts",n).css("width","auto")),$(".data",n).empty().append(e),$.jgrid.bindEv.call(d,e,s.searchoptions),$(".input-elm",n).bind("change",function(e){var t=e.target;o.data="SPAN"===t.nodeName.toUpperCase()&&s.searchoptions&&$.isFunction(s.searchoptions.custom_value)?s.searchoptions.custom_value.call(d,$(t).children(".customelement:first"),"get"):t.value,"select"===s.stype&&void 0!==s.searchoptions&&!0===s.searchoptions.multiple&&(o.data=$(t).val().join(",")),l.onchange()}),setTimeout(function(){o.data=$(e).val(),l.onchange()},0)}});for(var f=0,g=0;g<l.p.columns.length;g++){var m=void 0===l.p.columns[g].search||l.p.columns[g].search,v=!0===l.p.columns[g].hidden;(!0===l.p.columns[g].searchoptions.searchhidden&&m||m&&!v)&&(t="",o.field===l.p.columns[g].name&&(t=" selected='selected'",f=g),r+="<option value='"+l.p.columns[g].name+"'"+t+">"+l.p.columns[g].label+"</option>")}u.append(r);var b=$("<td class='operators'></td>");i.append(b),(s=_.columns[f]).searchoptions.id=$.jgrid.randId(),D&&"text"===s.inputtype&&(s.searchoptions.size||(s.searchoptions.size=10));var w=$.jgrid.createEl.call(d,s.inputtype,s.searchoptions,o.data,!0,l.p.ajaxSelectOptions||{},!0);"nu"!==o.op&&"nn"!==o.op||($(w).attr("readonly","true"),$(w).attr("disabled","true"));var j=$("<select class='selectopts'></select>");for(b.append(j),j.bind("change",function(){o.op=$(j).val(),n=$(this).parents("tr:first");var e=$(".input-elm",n)[0];"nu"===o.op||"nn"===o.op?(o.data="","SELECT"!==e.tagName.toUpperCase()&&(e.value=""),e.setAttribute("readonly","true"),e.setAttribute("disabled","true")):("SELECT"===e.tagName.toUpperCase()&&(o.data=e.value),e.removeAttribute("readonly"),e.removeAttribute("disabled")),l.onchange()}),a=s.searchoptions.sopt?s.searchoptions.sopt:l.p.sopt?l.p.sopt:-1!==$.inArray(s.searchtype,l.p.strarr)?l.p.stropts:l.p.numopts,r="",$.each(l.p.ops,function(){h.push(this.oper)}),g=0;g<a.length;g++)-1!==(c=$.inArray(a[g],h))&&(t=o.op===l.p.ops[c].oper?" selected='selected'":"",r+="<option value='"+l.p.ops[c].oper+"'"+t+">"+l.p.ops[c].text+"</option>");j.append(r);var y=$("<td class='data'></td>");i.append(y),y.append(w),$.jgrid.bindEv.call(d,w,s.searchoptions),$(w).addClass("input-elm").bind("change",function(){o.data="custom"===s.inputtype?s.searchoptions.custom_value.call(d,$(this).children(".customelement:first"),"get"):$(this).val(),l.onchange()});var x,q=$("<td></td>");return i.append(q),!0===this.p.ruleButtons&&(x=$("<input type='button' value='-' title='Delete rule' class='delete-rule ui-del'/>"),q.append(x),x.bind("click",function(){for(g=0;g<e.rules.length;g++)if(e.rules[g]===o){e.rules.splice(g,1);break}return l.reDraw(),l.onchange(),!1})),i},this.getStringForGroup=function(e){var t,i="(";if(void 0!==e.groups)for(t=0;t<e.groups.length;t++){1<i.length&&(i+=" "+e.groupOp+" ");try{i+=this.getStringForGroup(e.groups[t])}catch(e){alert(e)}}if(void 0!==e.rules)try{for(t=0;t<e.rules.length;t++)1<i.length&&(i+=" "+e.groupOp+" "),i+=this.getStringForRule(e.rules[t])}catch(e){alert(e)}return"()"===(i+=")")?"":i},this.getStringForRule=function(e){for(var t,i,r="",o="",a=0;a<this.p.ops.length;a++)if(this.p.ops[a].oper===e.op){r=this.p.operands.hasOwnProperty(e.op)?this.p.operands[e.op]:"",o=this.p.ops[a].oper;break}for(a=0;a<this.p.columns.length;a++)if(this.p.columns[a].name===e.field){t=this.p.columns[a];break}return null==t?"":(i=e.data,"bw"!==o&&"bn"!==o||(i+="%"),"ew"!==o&&"en"!==o||(i="%"+i),"cn"!==o&&"nc"!==o||(i="%"+i+"%"),"in"!==o&&"ni"!==o||(i=" ("+i+")"),_.errorcheck&&n(e.data,t),-1!==$.inArray(t.searchtype,["int","integer","float","number","currency"])||"nn"===o||"nu"===o?e.field+" "+r+" "+i:e.field+" "+r+' "'+i+'"')},this.resetFilter=function(){this.p.filter=$.extend(!0,{},this.p.initFilter),this.reDraw(),this.onchange()},this.hideError=function(){$("th.ui-state-error",this).html(""),$("tr.error",this).hide()},this.showError=function(){$("th.ui-state-error",this).html(this.p.errmsg),$("tr.error",this).show()},this.toUserFriendlyString=function(){return this.getStringForGroup(_.filter)},this.toString=function(){var o=this;return function e(t){var i,r="(";if(void 0!==t.groups)for(i=0;i<t.groups.length;i++)1<r.length&&("OR"===t.groupOp?r+=" || ":r+=" && "),r+=e(t.groups[i]);if(void 0!==t.rules)for(i=0;i<t.rules.length;i++)1<r.length&&("OR"===t.groupOp?r+=" || ":r+=" && "),r+=function(e){if(o.p.errorcheck){for(var t,i=0;i<o.p.columns.length;i++)if(o.p.columns[i].name===e.field){t=o.p.columns[i];break}t&&n(e.data,t)}return e.op+"(item."+e.field+",'"+e.data+"')"}(t.rules[i]);return"()"==(r+=")")?"":r}(this.p.filter)},this.reDraw(),this.p.showQuery&&this.onchange(),this.filter=!0}}})},$.extend($.fn.jqFilter,{toSQLString:function(){var e="";return this.each(function(){e=this.toUserFriendlyString()}),e},filterData:function(){var e;return this.each(function(){e=this.p.filter}),e},getParameter:function(e){return void 0!==e&&this.p.hasOwnProperty(e)?this.p[e]:this.p},resetFilter:function(){return this.each(function(){this.resetFilter()})},addFilter:function(e){"string"==typeof e&&(e=$.jgrid.parse(e)),this.each(function(){this.p.filter=e,this.reDraw(),this.onchange()})}})}(jQuery),function(H){"use strict";var L={};H.jgrid.extend({searchGrid:function(y){return y=H.extend(!0,{recreateFilter:!1,drag:!0,sField:"searchField",sValue:"searchString",sOper:"searchOper",sFilter:"filters",loadDefaults:!0,beforeShowSearch:null,afterShowSearch:null,onInitializeSearch:null,afterRedraw:null,afterChange:null,closeAfterSearch:!1,closeAfterReset:!1,closeOnEscape:!1,searchOnEnter:!1,multipleSearch:!1,multipleGroup:!1,top:0,left:0,jqModal:!0,modal:!1,resize:!0,width:450,height:"auto",dataheight:"auto",showQuery:!1,errorcheck:!0,sopt:null,stringResult:void 0,onClose:null,onSearch:null,onReset:null,toTop:!0,overlay:30,columns:[],tmplNames:null,tmplFilters:null,tmplLabel:" Template: ",showOnLoad:!1,layer:null,operands:{eq:"=",ne:"<>",lt:"<",le:"<=",gt:">",ge:">=",bw:"LIKE",bn:"NOT LIKE",in:"IN",ni:"NOT IN",ew:"LIKE",en:"NOT LIKE",cn:"LIKE",nc:"NOT LIKE",nu:"IS NULL",nn:"ISNOT NULL"}},H.jgrid.search,y||{}),this.each(function(){var r,t,o,a,i,n,s,e,l,d,p,c,u,h,f,g,m,v,b,w=this;function j(e){void 0===(t=H(w).triggerHandler("jqGridFilterBeforeShow",[e]))&&(t=!0),t&&H.isFunction(y.beforeShowSearch)&&(t=y.beforeShowSearch.call(w,e)),t&&(H.jgrid.viewModal("#"+H.jgrid.jqID(a.themodal),{gbox:"#gbox_"+H.jgrid.jqID(r),jqm:y.jqModal,modal:y.modal,overlay:y.overlay,toTop:y.toTop}),H(w).triggerHandler("jqGridFilterAfterShow",[e]),H.isFunction(y.afterShowSearch)&&y.afterShowSearch.call(w,e))}w.grid&&(r="fbox_"+w.p.id,o=t=!0,a={themodal:"searchmod"+r,modalhead:"searchhd"+r,modalcontent:"searchcnt"+r,scrollelm:r},"string"==typeof(i=w.p.postData[y.sFilter])&&(i=H.jgrid.parse(i)),!0===y.recreateFilter&&H("#"+H.jgrid.jqID(a.themodal)).remove(),void 0!==H("#"+H.jgrid.jqID(a.themodal))[0]?j(H("#fbox_"+H.jgrid.jqID(+w.p.id))):(s=H("<div><div id='"+r+"' class='searchFilter' style='overflow:auto'></div></div>").insertBefore("#gview_"+H.jgrid.jqID(w.p.id)),e="left",l="","rtl"===w.p.direction&&(e="right",l=" style='text-align:left'",s.attr("dir","rtl")),d=H.extend([],w.p.colModel),p="<a id='"+r+"_search' class='fm-button ui-state-default ui-corner-all fm-button-icon-right ui-reset'><span class='ui-icon ui-icon-search'></span>"+y.Find+"</a>",c="<a id='"+r+"_reset' class='fm-button ui-state-default ui-corner-all fm-button-icon-left ui-search'><span class='ui-icon ui-icon-arrowreturnthick-1-w'></span>"+y.Reset+"</a>",h=u="",g=!1,v=-1,y.showQuery&&(u="<a id='"+r+"_query' class='fm-button ui-state-default ui-corner-all fm-button-icon-left'><span class='ui-icon ui-icon-comment'></span>Query</a>"),y.columns.length?(d=y.columns,f=d[v=0].index||d[0].name):H.each(d,function(e,t){var i,r;t.label||(t.label=w.p.colNames[e]),g||(i=void 0===t.search||t.search,r=!0===t.hidden,(t.searchoptions&&!0===t.searchoptions.searchhidden&&i||i&&!r)&&(g=!0,f=t.index||t.name,v=e))}),(!i&&f||!1===y.multipleSearch)&&(b="eq",0<=v&&d[v].searchoptions&&d[v].searchoptions.sopt?b=d[v].searchoptions.sopt[0]:y.sopt&&y.sopt.length&&(b=y.sopt[0]),i={groupOp:"AND",rules:[{field:f,op:b,data:""}]}),g=!1,y.tmplNames&&y.tmplNames.length&&(g=!0,h=y.tmplLabel,h+="<select class='ui-template'>",h+="<option value='default'>Default</option>",H.each(y.tmplNames,function(e,t){h+="<option value='"+e+"'>"+t+"</option>"}),h+="</select>"),m="<table class='EditTable' style='border:0px none;margin-top:5px' id='"+r+"_2'><tbody><tr><td colspan='2'><hr class='ui-widget-content' style='margin:1px'/></td></tr><tr><td class='EditButton' style='text-align:"+e+"'>"+c+h+"</td><td class='EditButton' "+l+">"+u+p+"</td></tr></tbody></table>",r=H.jgrid.jqID(r),H("#"+r).jqFilter({columns:d,filter:y.loadDefaults?i:null,showQuery:y.showQuery,errorcheck:y.errorcheck,sopt:y.sopt,groupButton:y.multipleGroup,ruleButtons:y.multipleSearch,afterRedraw:y.afterRedraw,ops:y.odata,operands:y.operands,ajaxSelectOptions:w.p.ajaxSelectOptions,groupOps:y.groupOps,onChange:function(){this.p.showQuery&&H(".query",this).html(this.toUserFriendlyString()),H.isFunction(y.afterChange)&&y.afterChange.call(w,H("#"+r),y)},direction:w.p.direction,id:w.p.id}),s.append(m),g&&y.tmplFilters&&y.tmplFilters.length&&H(".ui-template",s).bind("change",function(){var e=H(this).val();return"default"===e?H("#"+r).jqFilter("addFilter",i):H("#"+r).jqFilter("addFilter",y.tmplFilters[parseInt(e,10)]),!1}),!0===y.multipleGroup&&(y.multipleSearch=!0),H(w).triggerHandler("jqGridFilterInitialize",[H("#"+r)]),H.isFunction(y.onInitializeSearch)&&y.onInitializeSearch.call(w,H("#"+r)),y.gbox="#gbox_"+r,y.layer?H.jgrid.createModal(a,s,y,"#gview_"+H.jgrid.jqID(w.p.id),H("#gbox_"+H.jgrid.jqID(w.p.id))[0],"#"+H.jgrid.jqID(y.layer),{position:"relative"}):H.jgrid.createModal(a,s,y,"#gview_"+H.jgrid.jqID(w.p.id),H("#gbox_"+H.jgrid.jqID(w.p.id))[0]),(y.searchOnEnter||y.closeOnEscape)&&H("#"+H.jgrid.jqID(a.themodal)).keydown(function(e){var t=H(e.target);return!y.searchOnEnter||13!==e.which||t.hasClass("add-group")||t.hasClass("add-rule")||t.hasClass("delete-group")||t.hasClass("delete-rule")||t.hasClass("fm-button")&&t.is("[id$=_query]")?y.closeOnEscape&&27===e.which?(H("#"+H.jgrid.jqID(a.modalhead)).find(".ui-jqdialog-titlebar-close").click(),!1):void 0:(H("#"+r+"_search").click(),!1)}),u&&H("#"+r+"_query").bind("click",function(){return H(".queryresult",s).toggle(),!1}),void 0===y.stringResult&&(y.stringResult=y.multipleSearch),H("#"+r+"_search").bind("click",function(){var t,i,e={};if((n=H("#"+r)).find(".input-elm:focus").change(),i=n.jqFilter("filterData"),y.errorcheck&&(n[0].hideError(),y.showQuery||n.jqFilter("toSQLString"),n[0].p.error))return n[0].showError(),!1;if(y.stringResult){try{t=xmlJsonClass.toJson(i,"","",!1)}catch(e){try{t=JSON.stringify(i)}catch(e){}}"string"==typeof t&&(e[y.sFilter]=t,H.each([y.sField,y.sValue,y.sOper],function(){e[this]=""}))}else y.multipleSearch?(e[y.sFilter]=i,H.each([y.sField,y.sValue,y.sOper],function(){e[this]=""})):(e[y.sField]=i.rules[0].field,e[y.sValue]=i.rules[0].data,e[y.sOper]=i.rules[0].op,e[y.sFilter]="");return w.p.search=!0,H.extend(w.p.postData,e),void 0===(o=H(w).triggerHandler("jqGridFilterSearch"))&&(o=!0),o&&H.isFunction(y.onSearch)&&(o=y.onSearch.call(w,w.p.filters)),!1!==o&&H(w).trigger("reloadGrid",[{page:1}]),y.closeAfterSearch&&H.jgrid.hideModal("#"+H.jgrid.jqID(a.themodal),{gb:"#gbox_"+H.jgrid.jqID(w.p.id),jqm:y.jqModal,onClose:y.onClose}),!1}),H("#"+r+"_reset").bind("click",function(){var e={},t=H("#"+r);return w.p.search=!1,!(w.p.resetsearch=!0)===y.multipleSearch?e[y.sField]=e[y.sValue]=e[y.sOper]="":e[y.sFilter]="",t[0].resetFilter(),g&&H(".ui-template",s).val("default"),H.extend(w.p.postData,e),void 0===(o=H(w).triggerHandler("jqGridFilterReset"))&&(o=!0),o&&H.isFunction(y.onReset)&&(o=y.onReset.call(w)),!1!==o&&H(w).trigger("reloadGrid",[{page:1}]),y.closeAfterReset&&H.jgrid.hideModal("#"+H.jgrid.jqID(a.themodal),{gb:"#gbox_"+H.jgrid.jqID(w.p.id),jqm:y.jqModal,onClose:y.onClose}),!1}),j(H("#"+r)),H(".fm-button:not(.ui-state-disabled)",s).hover(function(){H(this).addClass("ui-state-hover")},function(){H(this).removeClass("ui-state-hover")})))})},editGridRow:function(N,P){return P=H.extend(!0,{top:0,left:0,width:300,datawidth:"auto",height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,url:null,mtype:"POST",clearAfterAdd:!0,closeAfterEdit:!1,reloadAfterSubmit:!0,onInitializeForm:null,beforeInitData:null,beforeShowForm:null,afterShowForm:null,beforeSubmit:null,afterSubmit:null,onclickSubmit:null,afterComplete:null,onclickPgButtons:null,afterclickPgButtons:null,editData:{},recreateForm:!1,jqModal:!0,closeOnEscape:!1,addedrow:"first",topinfo:"",bottominfo:"",saveicon:[],closeicon:[],savekey:[!1,13],navkeys:[!1,38,40],checkOnSubmit:!1,checkOnUpdate:!1,_savedData:{},processing:!1,onClose:null,ajaxEditOptions:{},serializeEditData:null,viewPagerButtons:!0,overlayClass:"ui-widget-overlay",removemodal:!0,form:"edit"},H.jgrid.edit,P||{}),L[H(this)[0].p.id]=P,this.each(function(){var g,e,m,v,t,i,r,o,a,n,s,b,w,j,l,d,p,c,u,h,f,y,x,q,D,C,_,$,I,k,G,F,S=this;function R(){return H(m+" > tbody > tr > td .FormElement").each(function(){var e,t=H(".customelement",this);if(t.length){var i=t[0],r=H(i).attr("name");H.each(S.p.colModel,function(){if(this.name===r&&this.editoptions&&H.isFunction(this.editoptions.custom_value)){try{if(b[r]=this.editoptions.custom_value.call(S,H("#"+H.jgrid.jqID(r),m),"get"),void 0===b[r])throw"e1"}catch(e){"e1"===e?H.jgrid.info_dialog(H.jgrid.errors.errcap,"function 'custom_value' "+H.jgrid.edit.msg.novalue,H.jgrid.edit.bClose):H.jgrid.info_dialog(H.jgrid.errors.errcap,e.message,H.jgrid.edit.bClose)}return!0}})}else{switch(H(this).get(0).type){case"checkbox":H(this).is(":checked")?b[this.name]=H(this).val():(e=H(this).attr("offval"),b[this.name]=e);break;case"select-one":b[this.name]=H("option:selected",this).val();break;case"select-multiple":b[this.name]=H(this).val(),b[this.name]?b[this.name]=b[this.name].join(","):b[this.name]="";var o=[];H("option:selected",this).each(function(e,t){o[e]=H(t).text()});break;case"password":case"text":case"textarea":case"button":b[this.name]=H(this).val()}S.p.autoencode&&(b[this.name]=H.jgrid.htmlEncode(b[this.name]))}}),1}function M(i,r,o){var a,n,e,t,s,l,d=0;(L[S.p.id].checkOnSubmit||L[S.p.id].checkOnUpdate)&&(L[S.p.id]._savedData={},L[S.p.id]._savedData[r.p.id+"_id"]=i);var p=r.p.colModel;if("_empty"===i)return H(p).each(function(){a=this.name,t=H.extend({},this.editoptions||{}),(e=H("#"+H.jgrid.jqID(a),"#"+o))&&e.length&&null!==e[0]&&(s="","custom"===this.edittype&&H.isFunction(t.custom_value)?t.custom_value.call(S,H("#"+a,"#"+o),"set",s):t.defaultValue?(s=H.isFunction(t.defaultValue)?t.defaultValue.call(S):t.defaultValue,"checkbox"===e[0].type?(l=s.toLowerCase()).search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==l?(e[0].checked=!0,e[0].defaultChecked=!0,e[0].value=s):(e[0].checked=!1,e[0].defaultChecked=!1):e.val(s)):"checkbox"===e[0].type?(e[0].checked=!1,e[0].defaultChecked=!1,s=H(e).attr("offval")):e[0].type&&"select"===e[0].type.substr(0,6)?e[0].selectedIndex=0:e.val(s),!0!==L[S.p.id].checkOnSubmit&&!L[S.p.id].checkOnUpdate||(L[S.p.id]._savedData[a]=s))}),void H("#id_g","#"+o).val(i);var c=H(r).jqGrid("getInd",i,!0);c&&(H('td[role="gridcell"]',c).each(function(t){if("cb"!==(a=p[t].name)&&"subgrid"!==a&&"rn"!==a&&!0===p[t].editable){if(a===r.p.ExpandColumn&&!0===r.p.treeGrid)n=H(this).text();else try{n=H.unformat.call(r,H(this),{rowId:i,colModel:p[t]},t)}catch(e){n="textarea"===p[t].edittype?H(this).text():H(this).html()}switch(S.p.autoencode&&(n=H.jgrid.htmlDecode(n)),!0!==L[S.p.id].checkOnSubmit&&!L[S.p.id].checkOnUpdate||(L[S.p.id]._savedData[a]=n),a=H.jgrid.jqID(a),p[t].edittype){case"password":case"text":case"button":case"image":case"textarea":("&nbsp;"===n||"&#160;"===n||1===n.length&&160===n.charCodeAt(0))&&(n=""),H("#"+a,"#"+o).val(n);break;case"select":var e=n.split(","),e=H.map(e,function(e){return H.trim(e)});H("#"+a+" option","#"+o).each(function(){!(p[t].editoptions.multiple||H.trim(n)!==H.trim(H(this).text())&&e[0]!==H.trim(H(this).text())&&e[0]!==H.trim(H(this).val()))||p[t].editoptions.multiple&&(-1<H.inArray(H.trim(H(this).text()),e)||-1<H.inArray(H.trim(H(this).val()),e))?this.selected=!0:this.selected=!1});break;case"checkbox":n=String(n),p[t].editoptions&&p[t].editoptions.value?p[t].editoptions.value.split(":")[0]===n?H("#"+a,"#"+o)[S.p.useProp?"prop":"attr"]({checked:!0,defaultChecked:!0}):H("#"+a,"#"+o)[S.p.useProp?"prop":"attr"]({checked:!1,defaultChecked:!1}):(n=n.toLowerCase()).search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==n?(H("#"+a,"#"+o)[S.p.useProp?"prop":"attr"]("checked",!0),H("#"+a,"#"+o)[S.p.useProp?"prop":"attr"]("defaultChecked",!0)):(H("#"+a,"#"+o)[S.p.useProp?"prop":"attr"]("checked",!1),H("#"+a,"#"+o)[S.p.useProp?"prop":"attr"]("defaultChecked",!1));break;case"custom":try{if(!p[t].editoptions||!H.isFunction(p[t].editoptions.custom_value))throw"e1";p[t].editoptions.custom_value.call(S,H("#"+a,"#"+o),"set",n)}catch(e){"e1"===e?H.jgrid.info_dialog(H.jgrid.errors.errcap,"function 'custom_value' "+H.jgrid.edit.msg.nodefined,H.jgrid.edit.bClose):H.jgrid.info_dialog(H.jgrid.errors.errcap,e.message,H.jgrid.edit.bClose)}}d++}}),0<d&&H("#id_g",m).val(i))}function E(){var r,o,a,e,t,i,n,s,l=[!0,"",""],d={},p=S.p.prmNames,c=H(S).triggerHandler("jqGridAddEditBeforeCheckValues",[H("#"+j),w]);for(e in c&&"object"==typeof c&&(b=c),H.isFunction(L[S.p.id].beforeCheckValues)&&(c=L[S.p.id].beforeCheckValues.call(S,b,H("#"+j),w))&&"object"==typeof c&&(b=c),b)if(b.hasOwnProperty(e)&&!1===(l=H.jgrid.checkValues.call(S,b[e],e))[0])break;if(H.each(S.p.colModel,function(e,t){t.editoptions&&!0===t.editoptions.NullIfEmpty&&b.hasOwnProperty(t.name)&&""===b[t.name]&&(b[t.name]="null")}),l[0]&&(void 0===(d=H(S).triggerHandler("jqGridAddEditClickSubmit",[L[S.p.id],b,w]))&&H.isFunction(L[S.p.id].onclickSubmit)&&(d=L[S.p.id].onclickSubmit.call(S,L[S.p.id],b,w)||{}),void 0===(l=H(S).triggerHandler("jqGridAddEditBeforeSubmit",[b,H("#"+j),w]))&&(l=[!0,"",""]),l[0]&&H.isFunction(L[S.p.id].beforeSubmit)&&(l=L[S.p.id].beforeSubmit.call(S,b,H("#"+j),w))),l[0]&&!L[S.p.id].processing){if(L[S.p.id].processing=!0,H("#sData",m+"_2").addClass("ui-state-active"),i=L[S.p.id].url||H(S).jqGrid("getGridParam","editurl"),a=p.oper,o="clientArray"===i?S.p.keyName:p.id,b[a]="_empty"===H.trim(b[S.p.id+"_id"])?p.addoper:p.editoper,b[a]===p.addoper&&void 0!==b[o]||(b[o]=b[S.p.id+"_id"]),delete b[S.p.id+"_id"],b=H.extend(b,L[S.p.id].editData,d),!0===S.p.treeGrid)for(t in b[a]===p.addoper&&(s=H(S).jqGrid("getGridParam","selrow"))&&!b[n]&&(n="adjacency"===S.p.treeGridModel?S.p.treeReader.parent_id_field:"parent_id",b[n]=s),S.p.treeReader)if(S.p.treeReader.hasOwnProperty(t)){var u=S.p.treeReader[t];if(b.hasOwnProperty(u)){if("parent_id_field"===t)continue;delete b[u]}}b[o]=H.jgrid.stripPref(S.p.idPrefix,b[o]);var h,f=H.extend({url:i,type:L[S.p.id].mtype,data:H.isFunction(L[S.p.id].serializeEditData)?L[S.p.id].serializeEditData.call(S,b):b,complete:function(e,t){var i;if(H("#sData",m+"_2").removeClass("ui-state-active"),b[o]=S.p.idPrefix+b[o],300<=e.status&&304!==e.status?(l[0]=!1,l[1]=H(S).triggerHandler("jqGridAddEditErrorTextFormat",[e,w]),H.isFunction(L[S.p.id].errorTextFormat)?l[1]=L[S.p.id].errorTextFormat.call(S,e,w):l[1]=t+" Status: '"+e.statusText+"'. Error code: "+e.status):(void 0===(l=H(S).triggerHandler("jqGridAddEditAfterSubmit",[e,b,w]))&&(l=[!0,"",""]),l[0]&&H.isFunction(L[S.p.id].afterSubmit)&&(l=L[S.p.id].afterSubmit.call(S,e,b,w))),!1===l[0])H("#FormError>td",m).html(l[1]),H("#FormError",m).show();else if(S.p.autoencode&&H.each(b,function(e,t){b[e]=H.jgrid.htmlDecode(t)}),b[a]===p.addoper?(l[2]||(l[2]=H.jgrid.randId()),null==b[o]?b[o]=l[2]:l[2]=b[o],L[S.p.id].reloadAfterSubmit?H(S).trigger("reloadGrid"):!0===S.p.treeGrid?H(S).jqGrid("addChildNode",l[2],s,b):H(S).jqGrid("addRowData",l[2],b,P.addedrow),L[S.p.id].closeAfterAdd?(!0!==S.p.treeGrid&&H(S).jqGrid("setSelection",l[2]),H.jgrid.hideModal("#"+H.jgrid.jqID(v.themodal),{gb:"#gbox_"+H.jgrid.jqID(g),jqm:P.jqModal,onClose:L[S.p.id].onClose,removemodal:L[S.p.id].removemodal,formprop:!L[S.p.id].recreateForm,form:L[S.p.id].form})):L[S.p.id].clearAfterAdd&&M("_empty",S,j)):(L[S.p.id].reloadAfterSubmit?(H(S).trigger("reloadGrid"),L[S.p.id].closeAfterEdit||setTimeout(function(){H(S).jqGrid("setSelection",b[o])},1e3)):!0===S.p.treeGrid?H(S).jqGrid("setTreeRow",b[o],b):H(S).jqGrid("setRowData",b[o],b),L[S.p.id].closeAfterEdit&&H.jgrid.hideModal("#"+H.jgrid.jqID(v.themodal),{gb:"#gbox_"+H.jgrid.jqID(g),jqm:P.jqModal,onClose:L[S.p.id].onClose,removemodal:L[S.p.id].removemodal,formprop:!L[S.p.id].recreateForm,form:L[S.p.id].form})),H.isFunction(L[S.p.id].afterComplete)&&(r=e,setTimeout(function(){H(S).triggerHandler("jqGridAddEditAfterComplete",[r,b,H("#"+j),w]),L[S.p.id].afterComplete.call(S,r,b,H("#"+j),w),r=null},500)),(L[S.p.id].checkOnSubmit||L[S.p.id].checkOnUpdate)&&(H("#"+j).data("disabled",!1),"_empty"!==L[S.p.id]._savedData[S.p.id+"_id"]))for(i in L[S.p.id]._savedData)L[S.p.id]._savedData.hasOwnProperty(i)&&b[i]&&(L[S.p.id]._savedData[i]=b[i]);L[S.p.id].processing=!1;try{H(":input:visible","#"+j)[0].focus()}catch(e){}}},H.jgrid.ajaxOptions,L[S.p.id].ajaxEditOptions);f.url||L[S.p.id].useDataProxy||(H.isFunction(S.p.dataProxy)?L[S.p.id].useDataProxy=!0:(l[0]=!1,l[1]+=" "+H.jgrid.errors.nourl)),l[0]&&(L[S.p.id].useDataProxy?(void 0===(h=S.p.dataProxy.call(S,f,"set_"+S.p.id))&&(h=[!0,""]),!1===h[0]?(l[0]=!1,l[1]=h[1]||"Error deleting the selected row!"):(f.data.oper===p.addoper&&L[S.p.id].closeAfterAdd&&H.jgrid.hideModal("#"+H.jgrid.jqID(v.themodal),{gb:"#gbox_"+H.jgrid.jqID(g),jqm:P.jqModal,onClose:L[S.p.id].onClose,removemodal:L[S.p.id].removemodal,formprop:!L[S.p.id].recreateForm,form:L[S.p.id].form}),f.data.oper===p.editoper&&L[S.p.id].closeAfterEdit&&H.jgrid.hideModal("#"+H.jgrid.jqID(v.themodal),{gb:"#gbox_"+H.jgrid.jqID(g),jqm:P.jqModal,onClose:L[S.p.id].onClose,removemodal:L[S.p.id].removemodal,formprop:!L[S.p.id].recreateForm,form:L[S.p.id].form}))):"clientArray"===f.url?(L[S.p.id].reloadAfterSubmit=!1,b=f.data,f.complete({status:200,statusText:""},"")):H.ajax(f))}!1===l[0]&&(H("#FormError>td",m).html(l[1]),H("#FormError",m).show())}function O(){var e=!0;return H("#FormError",m).hide(),L[S.p.id].checkOnUpdate&&(b={},R(),function(e,t){var i,r=!1;for(i in e)if(e.hasOwnProperty(i)&&e[i]!=t[i]){r=!0;break}return r}(b,L[S.p.id]._savedData)&&(H("#"+j).data("disabled",!0),H(".confirm","#"+v.themodal).show(),e=!1)),e}function T(e,t){var i=t[1].length-1;0===e||void 0!==t[1][e-1]&&H("#"+H.jgrid.jqID(t[1][e-1])).hasClass("ui-state-disabled")?H("#pData",m+"_2").addClass("ui-state-disabled"):H("#pData",m+"_2").removeClass("ui-state-disabled"),e===i||void 0!==t[1][e+1]&&H("#"+H.jgrid.jqID(t[1][e+1])).hasClass("ui-state-disabled")?H("#nData",m+"_2").addClass("ui-state-disabled"):H("#nData",m+"_2").removeClass("ui-state-disabled")}function A(){var e=H(S).jqGrid("getDataIDs"),t=H("#id_g",m).val();return[H.inArray(t,e),e]}S.grid&&N&&(g=S.p.id,j="FrmGrid_"+g,e="TblGrid_"+g,m="#"+H.jgrid.jqID(e),v={themodal:"editmod"+g,modalhead:"edithd"+g,modalcontent:"editcnt"+g,scrollelm:j},t=!!H.isFunction(L[S.p.id].beforeShowForm)&&L[S.p.id].beforeShowForm,i=!!H.isFunction(L[S.p.id].afterShowForm)&&L[S.p.id].afterShowForm,r=!!H.isFunction(L[S.p.id].beforeInitData)&&L[S.p.id].beforeInitData,o=!!H.isFunction(L[S.p.id].onInitializeForm)&&L[S.p.id].onInitializeForm,a=!0,n=1,s=0,j=H.jgrid.jqID(j),"new"===N?(N="_empty",w="add",P.caption=L[S.p.id].addCaption):(P.caption=L[S.p.id].editCaption,w="edit"),P.recreateForm||H(S).data("formProp")&&H.extend(L[H(this)[0].p.id],H(S).data("formProp")),l=!0,P.checkOnUpdate&&P.jqModal&&!P.modal&&(l=!1),d=isNaN(L[H(this)[0].p.id].dataheight)?L[H(this)[0].p.id].dataheight:L[H(this)[0].p.id].dataheight+"px",p=isNaN(L[H(this)[0].p.id].datawidth)?L[H(this)[0].p.id].datawidth:L[H(this)[0].p.id].datawidth+"px",c=H("<form name='FormPost' id='"+j+"' class='FormGrid' onSubmit='return false;' style='width:"+p+";overflow:auto;position:relative;height:"+d+";'></form>").data("disabled",!1),u=H("<table id='"+e+"' class='EditTable' cellspacing='0' cellpadding='0' border='0'><tbody></tbody></table>"),H(S.p.colModel).each(function(){var e=this.formoptions;n=Math.max(n,e&&e.colpos||0),s=Math.max(s,e&&e.rowpos||0)}),H(c).append(u),(h=H("<tr id='FormError' style='display:none'><td class='ui-state-error' colspan='"+2*n+"'></td></tr>"))[0].rp=0,H(u).append(h),(h=H("<tr style='display:none' class='tinfo'><td class='topinfo' colspan='"+2*n+"'>"+L[S.p.id].topinfo+"</td></tr>"))[0].rp=0,H(u).append(h),void 0===(a=H(S).triggerHandler("jqGridAddEditBeforeInitData",[c,w]))&&(a=!0),a&&r&&(a=r.call(S,c,w)),!1!==a&&(function(){var e;if("_empty"!==N&&void 0!==S.p.savedRow&&0<S.p.savedRow.length&&H.isFunction(H.fn.jqGrid.restoreRow))for(e=0;e<S.p.savedRow.length;e++)if(S.p.savedRow[e].id==N){H(S).jqGrid("restoreRow",N);break}}(),y=(f="rtl"===S.p.direction)?"nData":"pData",x=f?"pData":"nData",function(n,s,l,d){for(var p,c,u,h,f,g,e,m=0,v=[],b=!1,w="",t=1;t<=d;t++)w+="<td class='CaptionTD'>&#160;</td><td class='DataTD'>&#160;</td>";"_empty"!==n&&(b=H(s).jqGrid("getInd",n)),H(s.p.colModel).each(function(t){if(p=this.name,c=(!this.editrules||!0!==this.editrules.edithidden)&&!0===this.hidden,f=c?"style='display:none'":"","cb"!==p&&"subgrid"!==p&&!0===this.editable&&"rn"!==p){if(!1===b)h="";else if(p===s.p.ExpandColumn&&!0===s.p.treeGrid)h=H("td[role='gridcell']:eq("+t+")",s.rows[b]).text();else{try{h=H.unformat.call(s,H("td[role='gridcell']:eq("+t+")",s.rows[b]),{rowId:n,colModel:this},t)}catch(e){h=this.edittype&&"textarea"===this.edittype?H("td[role='gridcell']:eq("+t+")",s.rows[b]).text():H("td[role='gridcell']:eq("+t+")",s.rows[b]).html()}h&&"&nbsp;"!==h&&"&#160;"!==h&&(1!==h.length||160!==h.charCodeAt(0))||(h="")}var e,i=H.extend({},this.editoptions||{},{id:p,name:p,rowId:n}),r=H.extend({},{elmprefix:"",elmsuffix:"",rowabove:!1,rowcontent:""},this.formoptions||{}),o=parseInt(r.rowpos,10)||m+1,a=parseInt(2*(parseInt(r.colpos,10)||1),10);"_empty"===n&&i.defaultValue&&(h=H.isFunction(i.defaultValue)?i.defaultValue.call(S):i.defaultValue),this.edittype||(this.edittype="text"),S.p.autoencode&&(h=H.jgrid.htmlDecode(h)),g=H.jgrid.createEl.call(S,this.edittype,i,h,!1,H.extend({},H.jgrid.ajaxOptions,s.p.ajaxSelectOptions||{})),(L[S.p.id].checkOnSubmit||L[S.p.id].checkOnUpdate)&&(L[S.p.id]._savedData[p]=h),H(g).addClass("FormElement"),-1<H.inArray(this.edittype,["text","textarea","password","select"])&&H(g).addClass("ui-widget-content ui-corner-all"),u=H(l).find("tr[rowpos="+o+"]"),r.rowabove&&(e=H("<tr><td class='contentinfo' colspan='"+2*d+"'>"+r.rowcontent+"</td></tr>"),H(l).append(e),e[0].rp=o),0===u.length&&(u=H("<tr "+f+" rowpos='"+o+"'></tr>").addClass("FormData").attr("id","tr_"+p),H(u).append(w),H(l).append(u),u[0].rp=o),H("td:eq("+(a-2)+")",u[0]).html(void 0===r.label?s.p.colNames[t]:r.label),H("td:eq("+(a-1)+")",u[0]).append(r.elmprefix).append(g).append(r.elmsuffix),"custom"===this.edittype&&H.isFunction(i.custom_value)&&i.custom_value.call(S,H("#"+p,"#"+j),"set",h),H.jgrid.bindEv.call(S,g,i),v[m]=t,m++}}),0<m&&((e=H("<tr class='FormData' style='display:none'><td class='CaptionTD'></td><td colspan='"+(2*d-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='"+s.p.id+"_id' value='"+n+"'/></td></tr>"))[0].rp=m+999,H(l).append(e),(L[S.p.id].checkOnSubmit||L[S.p.id].checkOnUpdate)&&(L[S.p.id]._savedData[s.p.id+"_id"]=n))}(N,S,u,n),q="<a id='"+y+"' class='fm-button ui-state-default ui-corner-left'><span class='ui-icon ui-icon-triangle-1-w'></span></a>",D="<a id='"+x+"' class='fm-button ui-state-default ui-corner-right'><span class='ui-icon ui-icon-triangle-1-e'></span></a>",_="<table border='0' cellspacing='0' cellpadding='0' class='EditTable' id='"+e+"_2'><tbody><tr><td colspan='2'><hr class='ui-widget-content' style='margin:1px'/></td></tr><tr id='Act_Buttons'><td class='navButton'>"+(f?D+q:q+D)+"</td><td class='EditButton'>"+(C="<a id='sData' class='fm-button ui-state-default ui-corner-all'>"+P.bSubmit+"</a>")+("<a id='cData' class='fm-button ui-state-default ui-corner-all'>"+P.bCancel+"</a>")+"</td></tr>",_+="<tr style='display:none' class='binfo'><td class='bottominfo' colspan='2'>"+L[S.p.id].bottominfo+"</td></tr>",_+="</tbody></table>",0<s&&($=[],H.each(H(u)[0].rows,function(e,t){$[e]=t}),$.sort(function(e,t){return e.rp>t.rp?1:e.rp<t.rp?-1:0}),H.each($,function(e,t){H("tbody",u).append(t)})),P.gbox="#gbox_"+H.jgrid.jqID(g),!(I=!1)===P.closeOnEscape&&(P.closeOnEscape=!1,I=!0),k=H("<div></div>").append(c).append(_),H.jgrid.createModal(v,k,L[H(this)[0].p.id],"#gview_"+H.jgrid.jqID(S.p.id),H("#gbox_"+H.jgrid.jqID(S.p.id))[0]),f&&(H("#pData, #nData",m+"_2").css("float","right"),H(".EditButton",m+"_2").css("text-align","left")),L[S.p.id].topinfo&&H(".tinfo",m).show(),L[S.p.id].bottominfo&&H(".binfo",m+"_2").show(),H("#"+H.jgrid.jqID(v.themodal)).keydown(function(e){var t=e.target;if(!0===H("#"+j).data("disabled"))return!1;if(!0===L[S.p.id].savekey[0]&&e.which===L[S.p.id].savekey[1]&&"TEXTAREA"!==t.tagName)return H("#sData",m+"_2").trigger("click"),!1;if(27===e.which)return O()&&I&&H.jgrid.hideModal("#"+H.jgrid.jqID(v.themodal),{gb:P.gbox,jqm:P.jqModal,onClose:L[S.p.id].onClose,removemodal:L[S.p.id].removemodal,formprop:!L[S.p.id].recreateForm,form:L[S.p.id].form}),!1;if(!0===L[S.p.id].navkeys[0]){if("_empty"===H("#id_g",m).val())return!0;if(e.which===L[S.p.id].navkeys[1])return H("#pData",m+"_2").trigger("click"),!1;if(e.which===L[S.p.id].navkeys[2])return H("#nData",m+"_2").trigger("click"),!1}}),P.checkOnUpdate&&(H("a.ui-jqdialog-titlebar-close span","#"+H.jgrid.jqID(v.themodal)).removeClass("jqmClose"),H("a.ui-jqdialog-titlebar-close","#"+H.jgrid.jqID(v.themodal)).unbind("click").click(function(){return O()&&H.jgrid.hideModal("#"+H.jgrid.jqID(v.themodal),{gb:"#gbox_"+H.jgrid.jqID(g),jqm:P.jqModal,onClose:L[S.p.id].onClose,removemodal:L[S.p.id].removemodal,formprop:!L[S.p.id].recreateForm,form:L[S.p.id].form}),!1})),P.saveicon=H.extend([!0,"left","ui-icon-disk"],P.saveicon),P.closeicon=H.extend([!0,"left","ui-icon-close"],P.closeicon),!0===P.saveicon[0]&&H("#sData",m+"_2").addClass("right"===P.saveicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+P.saveicon[2]+"'></span>"),!0===P.closeicon[0]&&H("#cData",m+"_2").addClass("right"===P.closeicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+P.closeicon[2]+"'></span>"),(L[S.p.id].checkOnSubmit||L[S.p.id].checkOnUpdate)&&(C="<a id='sNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+P.bYes+"</a>",D="<a id='nNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+P.bNo+"</a>",G=P.zIndex||999,G++,H("<div class='"+P.overlayClass+" jqgrid-overlay confirm' style='z-index:"+G+";display:none;'>&#160;</div><div class='confirm ui-widget-content ui-jqconfirm' style='right:25%;left:25%;padding-top:20px;z-index:"+(1+G)+"'>"+P.saveData+"<br/><br/>"+C+D+"</div>").insertAfter("#"+j),H("#sNew","#"+H.jgrid.jqID(v.themodal)).click(function(){return E(),H("#"+j).data("disabled",!1),H(".confirm","#"+H.jgrid.jqID(v.themodal)).hide(),!1}),H("#nNew","#"+H.jgrid.jqID(v.themodal)).click(function(){return H(".confirm","#"+H.jgrid.jqID(v.themodal)).hide(),H("#"+j).data("disabled",!1),setTimeout(function(){H(":input:visible","#"+j)[0].focus()},0),!1}),H("#cNew","#"+H.jgrid.jqID(v.themodal)).click(function(){return H(".confirm","#"+H.jgrid.jqID(v.themodal)).hide(),H("#"+j).data("disabled",!1),H.jgrid.hideModal("#"+H.jgrid.jqID(v.themodal),{gb:"#gbox_"+H.jgrid.jqID(g),jqm:P.jqModal,onClose:L[S.p.id].onClose,removemodal:L[S.p.id].removemodal,formprop:!L[S.p.id].recreateForm,form:L[S.p.id].form}),!1})),H(S).triggerHandler("jqGridAddEditInitializeForm",[H("#"+j),w]),o&&o.call(S,H("#"+j),w),"_empty"!==N&&L[S.p.id].viewPagerButtons?H("#pData,#nData",m+"_2").show():H("#pData,#nData",m+"_2").hide(),H(S).triggerHandler("jqGridAddEditBeforeShowForm",[H("#"+j),w]),t&&t.call(S,H("#"+j),w),H("#"+H.jgrid.jqID(v.themodal)).data("onClose",L[S.p.id].onClose),H.jgrid.viewModal("#"+H.jgrid.jqID(v.themodal),{gbox:"#gbox_"+H.jgrid.jqID(g),jqm:P.jqModal,overlay:P.overlay,modal:P.modal,overlayClass:P.overlayClass,onHide:function(e){var t=H("#editmod"+g)[0].style.height;-1<t.indexOf("px")&&(t=parseFloat(t)),H(S).data("formProp",{top:parseFloat(H(e.w).css("top")),left:parseFloat(H(e.w).css("left")),width:H(e.w).width(),height:t,dataheight:H("#"+j).height(),datawidth:H("#"+j).width()}),e.w.remove(),e.o&&e.o.remove()}}),l||H("."+H.jgrid.jqID(P.overlayClass)).click(function(){return O()&&H.jgrid.hideModal("#"+H.jgrid.jqID(v.themodal),{gb:"#gbox_"+H.jgrid.jqID(g),jqm:P.jqModal,onClose:L[S.p.id].onClose,removemodal:L[S.p.id].removemodal,formprop:!L[S.p.id].recreateForm,form:L[S.p.id].form}),!1}),H(".fm-button","#"+H.jgrid.jqID(v.themodal)).hover(function(){H(this).addClass("ui-state-hover")},function(){H(this).removeClass("ui-state-hover")}),H("#sData",m+"_2").click(function(){return b={},H("#FormError",m).hide(),R(),"_empty"!==b[S.p.id+"_id"]&&!0===P.checkOnSubmit&&!0?(H("#"+j).data("disabled",!0),H(".confirm","#"+H.jgrid.jqID(v.themodal)).show()):E(),!1}),H("#cData",m+"_2").click(function(){return O()&&H.jgrid.hideModal("#"+H.jgrid.jqID(v.themodal),{gb:"#gbox_"+H.jgrid.jqID(g),jqm:P.jqModal,onClose:L[S.p.id].onClose,removemodal:L[S.p.id].removemodal,formprop:!L[S.p.id].recreateForm,form:L[S.p.id].form}),!1}),H("#nData",m+"_2").click(function(){if(!O())return!1;H("#FormError",m).hide();var e,t=A();if(t[0]=parseInt(t[0],10),-1!==t[0]&&t[1][t[0]+1]){if(H(S).triggerHandler("jqGridAddEditClickPgButtons",["next",H("#"+j),t[1][t[0]]]),H.isFunction(P.onclickPgButtons)&&void 0!==(e=P.onclickPgButtons.call(S,"next",H("#"+j),t[1][t[0]]))&&!1===e)return!1;if(H("#"+H.jgrid.jqID(t[1][t[0]+1])).hasClass("ui-state-disabled"))return!1;M(t[1][t[0]+1],S,j),H(S).jqGrid("setSelection",t[1][t[0]+1]),H(S).triggerHandler("jqGridAddEditAfterClickPgButtons",["next",H("#"+j),t[1][t[0]]]),H.isFunction(P.afterclickPgButtons)&&P.afterclickPgButtons.call(S,"next",H("#"+j),t[1][t[0]+1]),T(t[0]+1,t)}return!1}),H("#pData",m+"_2").click(function(){if(!O())return!1;H("#FormError",m).hide();var e,t=A();if(-1!==t[0]&&t[1][t[0]-1]){if(H(S).triggerHandler("jqGridAddEditClickPgButtons",["prev",H("#"+j),t[1][t[0]]]),H.isFunction(P.onclickPgButtons)&&void 0!==(e=P.onclickPgButtons.call(S,"prev",H("#"+j),t[1][t[0]]))&&!1===e)return!1;if(H("#"+H.jgrid.jqID(t[1][t[0]-1])).hasClass("ui-state-disabled"))return!1;M(t[1][t[0]-1],S,j),H(S).jqGrid("setSelection",t[1][t[0]-1]),H(S).triggerHandler("jqGridAddEditAfterClickPgButtons",["prev",H("#"+j),t[1][t[0]]]),H.isFunction(P.afterclickPgButtons)&&P.afterclickPgButtons.call(S,"prev",H("#"+j),t[1][t[0]-1]),T(t[0]-1,t)}return!1}),H(S).triggerHandler("jqGridAddEditAfterShowForm",[H("#"+j),w]),i&&i.call(S,H("#"+j),w),T((F=A())[0],F)))})},viewGridRow:function(_,$){return $=H.extend(!0,{top:0,left:0,width:0,datawidth:"auto",height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,jqModal:!0,closeOnEscape:!1,labelswidth:"30%",closeicon:[],navkeys:[!1,38,40],onClose:null,beforeShowForm:null,beforeInitData:null,viewPagerButtons:!0,recreateForm:!1,removemodal:!0,form:"view"},H.jgrid.view,$||{}),L[H(this)[0].p.id]=$,this.each(function(){var e,t,s,i,r,o,a,n,l,d,p,c,u,h,f,g,m,v,b,w,j,y=this;function x(){!0!==L[y.p.id].closeOnEscape&&!0!==L[y.p.id].navkeys[0]||setTimeout(function(){H(".ui-jqdialog-titlebar-close","#"+H.jgrid.jqID(o.modalhead)).attr("tabindex","-1").focus()},0)}function q(e,t){var i,r,o,a=0,n=H(t).jqGrid("getInd",e,!0);n&&(H("td",n).each(function(e){i=t.p.colModel[e].name,r=(!t.p.colModel[e].editrules||!0!==t.p.colModel[e].editrules.edithidden)&&!0===t.p.colModel[e].hidden,"cb"!==i&&"subgrid"!==i&&"rn"!==i&&(o=i===t.p.ExpandColumn&&!0===t.p.treeGrid?H(this).text():H(this).html(),i=H.jgrid.jqID("v_"+i),H("#"+i+" span","#"+s).html(o),r&&H("#"+i,"#"+s).parents("tr:first").hide(),a++)}),0<a&&H("#id_g","#"+s).val(e))}function D(e,t){var i=t[1].length-1;0===e?H("#pData","#"+s+"_2").addClass("ui-state-disabled"):void 0!==t[1][e-1]&&H("#"+H.jgrid.jqID(t[1][e-1])).hasClass("ui-state-disabled")?H("#pData",s+"_2").addClass("ui-state-disabled"):H("#pData","#"+s+"_2").removeClass("ui-state-disabled"),e===i?H("#nData","#"+s+"_2").addClass("ui-state-disabled"):void 0!==t[1][e+1]&&H("#"+H.jgrid.jqID(t[1][e+1])).hasClass("ui-state-disabled")?H("#nData",s+"_2").addClass("ui-state-disabled"):H("#nData","#"+s+"_2").removeClass("ui-state-disabled")}function C(){var e=H(y).jqGrid("getDataIDs"),t=H("#id_g","#"+s).val();return[H.inArray(t,e),e]}y.grid&&_&&(e=y.p.id,t="ViewGrid_"+H.jgrid.jqID(e),s="ViewTbl_"+H.jgrid.jqID(e),i="ViewGrid_"+e,r="ViewTbl_"+e,o={themodal:"viewmod"+e,modalhead:"viewhd"+e,modalcontent:"viewcnt"+e,scrollelm:t},a=!!H.isFunction(L[y.p.id].beforeInitData)&&L[y.p.id].beforeInitData,n=!0,l=1,d=0,$.recreateForm||H(y).data("viewProp")&&H.extend(L[H(this)[0].p.id],H(y).data("viewProp")),p=isNaN(L[H(this)[0].p.id].dataheight)?L[H(this)[0].p.id].dataheight:L[H(this)[0].p.id].dataheight+"px",c=isNaN(L[H(this)[0].p.id].datawidth)?L[H(this)[0].p.id].datawidth:L[H(this)[0].p.id].datawidth+"px",u=H("<form name='FormPost' id='"+i+"' class='FormGrid' style='width:"+c+";overflow:auto;position:relative;height:"+p+";'></form>"),h=H("<table id='"+r+"' class='EditTable' cellspacing='1' cellpadding='2' border='0' style='table-layout:fixed'><tbody></tbody></table>"),H(y.p.colModel).each(function(){var e=this.formoptions;l=Math.max(l,e&&e.colpos||0),d=Math.max(d,e&&e.rowpos||0)}),H(u).append(h),a&&void 0===(n=a.call(y,u))&&(n=!0),!1!==n&&(function(e,a,n,s){for(var l,d,p,c,u,h,f,g,m,t,v=0,b=[],i="<td class='CaptionTD form-view-label ui-widget-content' width='"+$.labelswidth+"'>&#160;</td><td class='DataTD form-view-data ui-helper-reset ui-widget-content'>&#160;</td>",w="",r=["integer","number","currency"],o=0,j=0,y=1;y<=s;y++)w+=1===y?i:"<td class='CaptionTD form-view-label ui-widget-content'>&#160;</td><td class='DataTD form-view-data ui-widget-content'>&#160;</td>";H(a.p.colModel).each(function(){(d=(!this.editrules||!0!==this.editrules.edithidden)&&!0===this.hidden)||"right"!==this.align||(this.formatter&&-1!==H.inArray(this.formatter,r)?o=Math.max(o,parseInt(this.width,10)):j=Math.max(j,parseInt(this.width,10)))}),f=0!==o?o:0!==j?j:0,h=H(a).jqGrid("getInd",e),H(a.p.colModel).each(function(e){var t,i,r,o;l=this.name,d=(!this.editrules||!0!==this.editrules.edithidden)&&!0===this.hidden,u=d?"style='display:none'":"",m="boolean"!=typeof this.viewable||this.viewable,"cb"!==l&&"subgrid"!==l&&"rn"!==l&&m&&(c=!1===h?"":l===a.p.ExpandColumn&&!0===a.p.treeGrid?H("td:eq("+e+")",a.rows[h]).text():H("td:eq("+e+")",a.rows[h]).html(),g="right"===this.align&&0!==f,t=H.extend({},{rowabove:!1,rowcontent:""},this.formoptions||{}),i=parseInt(t.rowpos,10)||v+1,r=parseInt(2*(parseInt(t.colpos,10)||1),10),t.rowabove&&(o=H("<tr><td class='contentinfo' colspan='"+2*s+"'>"+t.rowcontent+"</td></tr>"),H(n).append(o),o[0].rp=i),0===(p=H(n).find("tr[rowpos="+i+"]")).length&&(p=H("<tr "+u+" rowpos='"+i+"'></tr>").addClass("FormData").attr("id","trv_"+l),H(p).append(w),H(n).append(p),p[0].rp=i),H("td:eq("+(r-2)+")",p[0]).html("<b>"+(void 0===t.label?a.p.colNames[e]:t.label)+"</b>"),H("td:eq("+(r-1)+")",p[0]).append("<span>"+c+"</span>").attr("id","v_"+l),g&&H("td:eq("+(r-1)+") span",p[0]).css({"text-align":"right",width:f+"px"}),b[v]=e,v++)}),0<v&&((t=H("<tr class='FormData' style='display:none'><td class='CaptionTD'></td><td colspan='"+(2*s-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='id' value='"+e+"'/></td></tr>"))[0].rp=v+99,H(n).append(t))}(_,y,h,l),g="<a id='"+((f="rtl"===y.p.direction)?"nData":"pData")+"' class='fm-button ui-state-default ui-corner-left'><span class='ui-icon ui-icon-triangle-1-w'></span></a>",m="<a id='"+(f?"pData":"nData")+"' class='fm-button ui-state-default ui-corner-right'><span class='ui-icon ui-icon-triangle-1-e'></span></a>",v="<a id='cData' class='fm-button ui-state-default ui-corner-all'>"+$.bClose+"</a>",0<d&&(b=[],H.each(H(h)[0].rows,function(e,t){b[e]=t}),b.sort(function(e,t){return e.rp>t.rp?1:e.rp<t.rp?-1:0}),H.each(b,function(e,t){H("tbody",h).append(t)})),$.gbox="#gbox_"+H.jgrid.jqID(e),w=H("<div></div>").append(u).append("<table border='0' class='EditTable' id='"+s+"_2'><tbody><tr id='Act_Buttons'><td class='navButton' width='"+$.labelswidth+"'>"+(f?m+g:g+m)+"</td><td class='EditButton'>"+v+"</td></tr></tbody></table>"),H.jgrid.createModal(o,w,$,"#gview_"+H.jgrid.jqID(y.p.id),H("#gview_"+H.jgrid.jqID(y.p.id))[0]),f&&(H("#pData, #nData","#"+s+"_2").css("float","right"),H(".EditButton","#"+s+"_2").css("text-align","left")),$.viewPagerButtons||H("#pData, #nData","#"+s+"_2").hide(),H("#"+o.themodal).keydown(function(e){if(27===e.which)return L[y.p.id].closeOnEscape&&H.jgrid.hideModal("#"+H.jgrid.jqID(o.themodal),{gb:$.gbox,jqm:$.jqModal,onClose:$.onClose,removemodal:L[y.p.id].removemodal,formprop:!L[y.p.id].recreateForm,form:L[y.p.id].form}),!1;if(!0===$.navkeys[0]){if(e.which===$.navkeys[1])return H("#pData","#"+s+"_2").trigger("click"),!1;if(e.which===$.navkeys[2])return H("#nData","#"+s+"_2").trigger("click"),!1}}),$.closeicon=H.extend([!0,"left","ui-icon-close"],$.closeicon),!0===$.closeicon[0]&&H("#cData","#"+s+"_2").addClass("right"===$.closeicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+$.closeicon[2]+"'></span>"),H.isFunction($.beforeShowForm)&&$.beforeShowForm.call(y,H("#"+t)),H.jgrid.viewModal("#"+H.jgrid.jqID(o.themodal),{gbox:"#gbox_"+H.jgrid.jqID(e),jqm:$.jqModal,overlay:$.overlay,modal:$.modal,onHide:function(e){H(y).data("viewProp",{top:parseFloat(H(e.w).css("top")),left:parseFloat(H(e.w).css("left")),width:H(e.w).width(),height:H(e.w).height(),dataheight:H("#"+t).height(),datawidth:H("#"+t).width()}),e.w.remove(),e.o&&e.o.remove()}}),H(".fm-button:not(.ui-state-disabled)","#"+s+"_2").hover(function(){H(this).addClass("ui-state-hover")},function(){H(this).removeClass("ui-state-hover")}),x(),H("#cData","#"+s+"_2").click(function(){return H.jgrid.hideModal("#"+H.jgrid.jqID(o.themodal),{gb:"#gbox_"+H.jgrid.jqID(e),jqm:$.jqModal,onClose:$.onClose,removemodal:L[y.p.id].removemodal,formprop:!L[y.p.id].recreateForm,form:L[y.p.id].form}),!1}),H("#nData","#"+s+"_2").click(function(){H("#FormError","#"+s).hide();var e=C();return e[0]=parseInt(e[0],10),-1!==e[0]&&e[1][e[0]+1]&&(H.isFunction($.onclickPgButtons)&&$.onclickPgButtons.call(y,"next",H("#"+t),e[1][e[0]]),q(e[1][e[0]+1],y),H(y).jqGrid("setSelection",e[1][e[0]+1]),H.isFunction($.afterclickPgButtons)&&$.afterclickPgButtons.call(y,"next",H("#"+t),e[1][e[0]+1]),D(e[0]+1,e)),x(),!1}),H("#pData","#"+s+"_2").click(function(){H("#FormError","#"+s).hide();var e=C();return-1!==e[0]&&e[1][e[0]-1]&&(H.isFunction($.onclickPgButtons)&&$.onclickPgButtons.call(y,"prev",H("#"+t),e[1][e[0]]),q(e[1][e[0]-1],y),H(y).jqGrid("setSelection",e[1][e[0]-1]),H.isFunction($.afterclickPgButtons)&&$.afterclickPgButtons.call(y,"prev",H("#"+t),e[1][e[0]-1]),D(e[0]-1,e)),x(),!1}),D((j=C())[0],j)))})},delGridRow:function(b,w){return w=H.extend(!0,{top:0,left:0,width:240,height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,url:"",mtype:"POST",reloadAfterSubmit:!0,beforeShowForm:null,beforeInitData:null,afterShowForm:null,beforeSubmit:null,onclickSubmit:null,afterSubmit:null,jqModal:!0,closeOnEscape:!1,delData:{},delicon:[],cancelicon:[],onClose:null,ajaxDelOptions:{},processing:!1,serializeDelData:null,useDataProxy:!1},H.jgrid.del,w||{}),L[H(this)[0].p.id]=w,this.each(function(){var a=this;if(a.grid&&b){var n,s,l,d,e=H.isFunction(L[a.p.id].beforeShowForm),t=H.isFunction(L[a.p.id].afterShowForm),i=!!H.isFunction(L[a.p.id].beforeInitData)&&L[a.p.id].beforeInitData,p=a.p.id,c={},r=!0,u="DelTbl_"+H.jgrid.jqID(p),o="DelTbl_"+p,h={themodal:"delmod"+p,modalhead:"delhd"+p,modalcontent:"delcnt"+p,scrollelm:u};if(H.isArray(b)&&(b=b.join()),void 0!==H("#"+H.jgrid.jqID(h.themodal))[0]){if(i&&void 0===(r=i.call(a,H("#"+u)))&&(r=!0),!1===r)return;H("#DelData>td","#"+u).text(b),H("#DelError","#"+u).hide(),!0===L[a.p.id].processing&&(L[a.p.id].processing=!1,H("#dData","#"+u).removeClass("ui-state-active")),e&&L[a.p.id].beforeShowForm.call(a,H("#"+u)),H.jgrid.viewModal("#"+H.jgrid.jqID(h.themodal),{gbox:"#gbox_"+H.jgrid.jqID(p),jqm:L[a.p.id].jqModal,jqM:!1,overlay:L[a.p.id].overlay,modal:L[a.p.id].modal}),t&&L[a.p.id].afterShowForm.call(a,H("#"+u))}else{var f=isNaN(L[a.p.id].dataheight)?L[a.p.id].dataheight:L[a.p.id].dataheight+"px",g="<div id='"+o+"' class='formdata' style='width:"+(isNaN(w.datawidth)?w.datawidth:w.datawidth+"px")+";overflow:auto;position:relative;height:"+f+";'>";g+="<table class='DelTable'><tbody>",g+="<tr id='DelError' style='display:none'><td class='ui-state-error'></td></tr>",g+="<tr id='DelData' style='display:none'><td >"+b+"</td></tr>",g+='<tr><td class="delmsg" style="white-space:pre;">'+L[a.p.id].msg+"</td></tr><tr><td >&#160;</td></tr>",g+="</tbody></table></div>";var m="<a id='dData' class='fm-button ui-state-default ui-corner-all'>"+w.bSubmit+"</a>",v="<a id='eData' class='fm-button ui-state-default ui-corner-all'>"+w.bCancel+"</a>";if(g+="<table cellspacing='0' cellpadding='0' border='0' class='EditTable' id='"+u+"_2'><tbody><tr><td><hr class='ui-widget-content' style='margin:1px'/></td></tr><tr><td class='DelButton EditButton'>"+m+"&#160;"+v+"</td></tr></tbody></table>",w.gbox="#gbox_"+H.jgrid.jqID(p),H.jgrid.createModal(h,g,w,"#gview_"+H.jgrid.jqID(a.p.id),H("#gview_"+H.jgrid.jqID(a.p.id))[0]),i&&void 0===(r=i.call(a,H(g)))&&(r=!0),!1===r)return;H(".fm-button","#"+u+"_2").hover(function(){H(this).addClass("ui-state-hover")},function(){H(this).removeClass("ui-state-hover")}),w.delicon=H.extend([!0,"left","ui-icon-scissors"],L[a.p.id].delicon),w.cancelicon=H.extend([!0,"left","ui-icon-cancel"],L[a.p.id].cancelicon),!0===w.delicon[0]&&H("#dData","#"+u+"_2").addClass("right"===w.delicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+w.delicon[2]+"'></span>"),!0===w.cancelicon[0]&&H("#eData","#"+u+"_2").addClass("right"===w.cancelicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+w.cancelicon[2]+"'></span>"),H("#dData","#"+u+"_2").click(function(){var e,r=[!0,""],o=H("#DelData>td","#"+u).text();if(c={},H.isFunction(L[a.p.id].onclickSubmit)&&(c=L[a.p.id].onclickSubmit.call(a,L[a.p.id],o)||{}),H.isFunction(L[a.p.id].beforeSubmit)&&(r=L[a.p.id].beforeSubmit.call(a,o)),r[0]&&!L[a.p.id].processing){if(L[a.p.id].processing=!0,l=a.p.prmNames,n=H.extend({},L[a.p.id].delData,c),d=l.oper,n[d]=l.deloper,s=l.id,!(o=String(o).split(",")).length)return!1;for(e in o)o.hasOwnProperty(e)&&(o[e]=H.jgrid.stripPref(a.p.idPrefix,o[e]));n[s]=o.join(),H(this).addClass("ui-state-active");var t,i=H.extend({url:L[a.p.id].url||H(a).jqGrid("getGridParam","editurl"),type:L[a.p.id].mtype,data:H.isFunction(L[a.p.id].serializeDelData)?L[a.p.id].serializeDelData.call(a,n):n,complete:function(e,t){var i;if(H("#dData","#"+u+"_2").removeClass("ui-state-active"),300<=e.status&&304!==e.status?(r[0]=!1,H.isFunction(L[a.p.id].errorTextFormat)?r[1]=L[a.p.id].errorTextFormat.call(a,e):r[1]=t+" Status: '"+e.statusText+"'. Error code: "+e.status):H.isFunction(L[a.p.id].afterSubmit)&&(r=L[a.p.id].afterSubmit.call(a,e,n)),!1===r[0])H("#DelError>td","#"+u).html(r[1]),H("#DelError","#"+u).show();else{if(L[a.p.id].reloadAfterSubmit&&"local"!==a.p.datatype)H(a).trigger("reloadGrid");else{if(!0===a.p.treeGrid)try{H(a).jqGrid("delTreeNode",a.p.idPrefix+o[0])}catch(e){}else for(i=0;i<o.length;i++)H(a).jqGrid("delRowData",a.p.idPrefix+o[i]);a.p.selrow=null,a.p.selarrrow=[]}H.isFunction(L[a.p.id].afterComplete)&&setTimeout(function(){L[a.p.id].afterComplete.call(a,e,o)},500)}L[a.p.id].processing=!1,r[0]&&H.jgrid.hideModal("#"+H.jgrid.jqID(h.themodal),{gb:"#gbox_"+H.jgrid.jqID(p),jqm:w.jqModal,onClose:L[a.p.id].onClose})}},H.jgrid.ajaxOptions,L[a.p.id].ajaxDelOptions);i.url||L[a.p.id].useDataProxy||(H.isFunction(a.p.dataProxy)?L[a.p.id].useDataProxy=!0:(r[0]=!1,r[1]+=" "+H.jgrid.errors.nourl)),r[0]&&(L[a.p.id].useDataProxy?(void 0===(t=a.p.dataProxy.call(a,i,"del_"+a.p.id))&&(t=[!0,""]),!1===t[0]?(r[0]=!1,r[1]=t[1]||"Error deleting the selected row!"):H.jgrid.hideModal("#"+H.jgrid.jqID(h.themodal),{gb:"#gbox_"+H.jgrid.jqID(p),jqm:w.jqModal,onClose:L[a.p.id].onClose})):"clientArray"===i.url?(n=i.data,i.complete({status:200,statusText:""},"")):H.ajax(i))}return!1===r[0]&&(H("#DelError>td","#"+u).html(r[1]),H("#DelError","#"+u).show()),!1}),H("#eData","#"+u+"_2").click(function(){return H.jgrid.hideModal("#"+H.jgrid.jqID(h.themodal),{gb:"#gbox_"+H.jgrid.jqID(p),jqm:L[a.p.id].jqModal,onClose:L[a.p.id].onClose}),!1}),e&&L[a.p.id].beforeShowForm.call(a,H("#"+u)),H.jgrid.viewModal("#"+H.jgrid.jqID(h.themodal),{gbox:"#gbox_"+H.jgrid.jqID(p),jqm:L[a.p.id].jqModal,overlay:L[a.p.id].overlay,modal:L[a.p.id].modal}),t&&L[a.p.id].afterShowForm.call(a,H("#"+u))}!0===L[a.p.id].closeOnEscape&&setTimeout(function(){H(".ui-jqdialog-titlebar-close","#"+H.jgrid.jqID(h.modalhead)).attr("tabindex","-1").focus()},0)}})},navGrid:function(u,h,f,g,m,v,b){return h=H.extend({edit:!0,editicon:"ui-icon-pencil",add:!0,addicon:"ui-icon-plus",del:!0,delicon:"ui-icon-trash",search:!0,searchicon:"ui-icon-search",refresh:!0,refreshicon:"ui-icon-refresh",refreshstate:"firstpage",view:!1,viewicon:"ui-icon-document",position:"left",closeOnEscape:!0,beforeRefresh:null,afterRefresh:null,cloneToTop:!1,alertwidth:200,alertheight:"auto",alerttop:null,alertleft:null,alertzIndex:null},H.jgrid.nav,h||{}),this.each(function(){if(!this.nav){var e,t,i={themodal:"alertmod_"+this.p.id,modalhead:"alerthd_"+this.p.id,modalcontent:"alertcnt_"+this.p.id},r=this;if(r.grid&&"string"==typeof u){void 0===H("#"+i.themodal)[0]&&(h.alerttop||h.alertleft||(void 0!==window.innerWidth?(h.alertleft=window.innerWidth,h.alerttop=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!==document.documentElement.clientWidth?(h.alertleft=document.documentElement.clientWidth,h.alerttop=document.documentElement.clientHeight):(h.alertleft=1024,h.alerttop=768),h.alertleft=h.alertleft/2-parseInt(h.alertwidth,10)/2,h.alerttop=h.alerttop/2-25),H.jgrid.createModal(i,"<div>"+h.alerttext+"</div><span tabindex='0'><span tabindex='-1' id='jqg_alrt'></span></span>",{gbox:"#gbox_"+H.jgrid.jqID(r.p.id),jqModal:!0,drag:!0,resize:!0,caption:h.alertcap,top:h.alerttop,left:h.alertleft,width:h.alertwidth,height:h.alertheight,closeOnEscape:h.closeOnEscape,zIndex:h.alertzIndex},"#gview_"+H.jgrid.jqID(r.p.id),H("#gbox_"+H.jgrid.jqID(r.p.id))[0],!0));var o,a=1,n=function(){H(this).hasClass("ui-state-disabled")||H(this).addClass("ui-state-hover")},s=function(){H(this).removeClass("ui-state-hover")};for(h.cloneToTop&&r.p.toppager&&(a=2),o=0;o<a;o++){var l,d,p,c=H("<table cellspacing='0' cellpadding='0' border='0' class='ui-pg-table navtable' style='float:left;table-layout:auto;'><tbody><tr></tr></tbody></table>");0===o?(d=u,p=r.p.id,d===r.p.toppager&&(p+="_top",a=1)):(d=r.p.toppager,p=r.p.id+"_top"),"rtl"===r.p.direction&&H(c).attr("dir","rtl").css("float","right"),h.add&&(g=g||{},l=H("<td class='ui-pg-button ui-corner-all'></td>"),H(l).append("<div class='ui-pg-div'><span class='ui-icon "+h.addicon+"'></span>"+h.addtext+"</div>"),H("tr",c).append(l),H(l,c).attr({title:h.addtitle||"",id:g.id||"add_"+p}).click(function(){return H(this).hasClass("ui-state-disabled")||(H.isFunction(h.addfunc)?h.addfunc.call(r):H(r).jqGrid("editGridRow","new",g)),!1}).hover(n,s),l=null),h.edit&&(l=H("<td class='ui-pg-button ui-corner-all'></td>"),f=f||{},H(l).append("<div class='ui-pg-div'><span class='ui-icon "+h.editicon+"'></span>"+h.edittext+"</div>"),H("tr",c).append(l),H(l,c).attr({title:h.edittitle||"",id:f.id||"edit_"+p}).click(function(){var e;return H(this).hasClass("ui-state-disabled")||((e=r.p.selrow)?H.isFunction(h.editfunc)?h.editfunc.call(r,e):H(r).jqGrid("editGridRow",e,f):(H.jgrid.viewModal("#"+i.themodal,{gbox:"#gbox_"+H.jgrid.jqID(r.p.id),jqm:!0}),H("#jqg_alrt").focus())),!1}).hover(n,s),l=null),h.view&&(l=H("<td class='ui-pg-button ui-corner-all'></td>"),b=b||{},H(l).append("<div class='ui-pg-div'><span class='ui-icon "+h.viewicon+"'></span>"+h.viewtext+"</div>"),H("tr",c).append(l),H(l,c).attr({title:h.viewtitle||"",id:b.id||"view_"+p}).click(function(){var e;return H(this).hasClass("ui-state-disabled")||((e=r.p.selrow)?H.isFunction(h.viewfunc)?h.viewfunc.call(r,e):H(r).jqGrid("viewGridRow",e,b):(H.jgrid.viewModal("#"+i.themodal,{gbox:"#gbox_"+H.jgrid.jqID(r.p.id),jqm:!0}),H("#jqg_alrt").focus())),!1}).hover(n,s),l=null),h.del&&(l=H("<td class='ui-pg-button ui-corner-all'></td>"),m=m||{},H(l).append("<div class='ui-pg-div'><span class='ui-icon "+h.delicon+"'></span>"+h.deltext+"</div>"),H("tr",c).append(l),H(l,c).attr({title:h.deltitle||"",id:m.id||"del_"+p}).click(function(){var e;return H(this).hasClass("ui-state-disabled")||(r.p.multiselect?0===(e=r.p.selarrrow).length&&(e=null):e=r.p.selrow,e?H.isFunction(h.delfunc)?h.delfunc.call(r,e):H(r).jqGrid("delGridRow",e,m):(H.jgrid.viewModal("#"+i.themodal,{gbox:"#gbox_"+H.jgrid.jqID(r.p.id),jqm:!0}),H("#jqg_alrt").focus())),!1}).hover(n,s),l=null),(h.add||h.edit||h.del||h.view)&&H("tr",c).append("<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'></span></td>"),h.search&&(l=H("<td class='ui-pg-button ui-corner-all'></td>"),v=v||{},H(l).append("<div class='ui-pg-div'><span class='ui-icon "+h.searchicon+"'></span>"+h.searchtext+"</div>"),H("tr",c).append(l),H(l,c).attr({title:h.searchtitle||"",id:v.id||"search_"+p}).click(function(){return H(this).hasClass("ui-state-disabled")||(H.isFunction(h.searchfunc)?h.searchfunc.call(r,v):H(r).jqGrid("searchGrid",v)),!1}).hover(n,s),v.showOnLoad&&!0===v.showOnLoad&&H(l,c).click(),l=null),h.refresh&&(l=H("<td class='ui-pg-button ui-corner-all'></td>"),H(l).append("<div class='ui-pg-div'><span class='ui-icon "+h.refreshicon+"'></span>"+h.refreshtext+"</div>"),H("tr",c).append(l),H(l,c).attr({title:h.refreshtitle||"",id:"refresh_"+p}).click(function(){if(!H(this).hasClass("ui-state-disabled")){H.isFunction(h.beforeRefresh)&&h.beforeRefresh.call(r),r.p.search=!1,r.p.resetsearch=!0;try{if("currentfilter"!==h.refreshstate){var e=r.p.id;r.p.postData.filters="";try{H("#fbox_"+H.jgrid.jqID(e)).jqFilter("resetFilter")}catch(e){}H.isFunction(r.clearToolbar)&&r.clearToolbar.call(r,!1)}}catch(e){}switch(h.refreshstate){case"firstpage":H(r).trigger("reloadGrid",[{page:1}]);break;case"current":case"currentfilter":H(r).trigger("reloadGrid",[{current:!0}])}H.isFunction(h.afterRefresh)&&h.afterRefresh.call(r)}return!1}).hover(n,s),l=null),t=H(".ui-jqgrid").css("font-size")||"11px",H("body").append("<div id='testpg2' class='ui-jqgrid ui-widget ui-widget-content' style='font-size:"+t+";visibility:hidden;' ></div>"),e=H(c).clone().appendTo("#testpg2").width(),H("#testpg2").remove(),H(d+"_"+h.position,d).append(c),r.p._nvtd&&(e>r.p._nvtd[0]&&(H(d+"_"+h.position,d).width(e),r.p._nvtd[0]=e),r.p._nvtd[1]=e),c=e=null,this.nav=!0}}}})},navButtonAdd:function(r,o){return o=H.extend({caption:"newButton",title:"",buttonicon:"ui-icon-newwin",onClickButton:null,position:"last",cursor:"pointer"},o||{}),this.each(function(){if(this.grid){"string"==typeof r&&0!==r.indexOf("#")&&(r="#"+H.jgrid.jqID(r));var e=H(".navtable",r)[0],t=this;if(e){if(o.id&&void 0!==H("#"+H.jgrid.jqID(o.id),e)[0])return;var i=H("<td></td>");"NONE"===o.buttonicon.toString().toUpperCase()?H(i).addClass("ui-pg-button ui-corner-all").append("<div class='ui-pg-div'>"+o.caption+"</div>"):H(i).addClass("ui-pg-button ui-corner-all").append("<div class='ui-pg-div'><span class='ui-icon "+o.buttonicon+"'></span>"+o.caption+"</div>"),o.id&&H(i).attr("id",o.id),"first"!==o.position||0===e.rows[0].cells.length?H("tr",e).append(i):H("tr td:eq(0)",e).before(i),H(i,e).attr("title",o.title||"").click(function(e){return H(this).hasClass("ui-state-disabled")||H.isFunction(o.onClickButton)&&o.onClickButton.call(t,e),!1}).hover(function(){H(this).hasClass("ui-state-disabled")||H(this).addClass("ui-state-hover")},function(){H(this).removeClass("ui-state-hover")})}}})},navSeparatorAdd:function(i,r){return r=H.extend({sepclass:"ui-separator",sepcontent:"",position:"last"},r||{}),this.each(function(){var e,t;this.grid&&("string"==typeof i&&0!==i.indexOf("#")&&(i="#"+H.jgrid.jqID(i)),(e=H(".navtable",i)[0])&&(t="<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='"+r.sepclass+"'></span>"+r.sepcontent+"</td>","first"!==r.position||0===e.rows[0].cells.length?H("tr",e).append(t):H("tr td:eq(0)",e).before(t)))})},GridToForm:function(r,o){return this.each(function(){var e,t=this;if(t.grid){var i=H(t).jqGrid("getRowData",r);if(i)for(e in i)i.hasOwnProperty(e)&&(H("[name="+H.jgrid.jqID(e)+"]",o).is("input:radio")||H("[name="+H.jgrid.jqID(e)+"]",o).is("input:checkbox")?H("[name="+H.jgrid.jqID(e)+"]",o).each(function(){H(this).val()==i[e]?H(this)[t.p.useProp?"prop":"attr"]("checked",!0):H(this)[t.p.useProp?"prop":"attr"]("checked",!1)}):H("[name="+H.jgrid.jqID(e)+"]",o).val(i[e]))}})},FormToGrid:function(t,r,o,a){return this.each(function(){var e,i;this.grid&&(o=o||"set",a=a||"first",e=H(r).serializeArray(),i={},H.each(e,function(e,t){i[t.name]=t.value}),"add"===o?H(this).jqGrid("addRowData",t,i,a):"set"===o&&H(this).jqGrid("setRowData",t,i))})}})}(jQuery),function(I){"use strict";I.extend(I.jgrid,{template:function(e){var o,a=I.makeArray(arguments).slice(1),n=a.length;return null==e&&(e=""),e.replace(/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,function(e,t){if(!isNaN(parseInt(t,10)))return a[parseInt(t,10)];for(o=0;o<n;o++)if(I.isArray(a[o]))for(var i=a[o],r=i.length;r--;)if(t===i[r].nm)return i[r].v})}}),I.jgrid.extend({groupingSetup:function(){return this.each(function(){var e,t,i,r=this,o=r.p.colModel,a=r.p.groupingView;if(null===a||"object"!=typeof a&&!I.isFunction(a))r.p.grouping=!1;else if(a.groupField.length){for(void 0===a.visibiltyOnNextGrouping&&(a.visibiltyOnNextGrouping=[]),a.lastvalues=[],a._locgr||(a.groups=[]),a.counters=[],e=0;e<a.groupField.length;e++)a.groupOrder[e]||(a.groupOrder[e]="asc"),a.groupText[e]||(a.groupText[e]="{0}"),"boolean"!=typeof a.groupColumnShow[e]&&(a.groupColumnShow[e]=!0),"boolean"!=typeof a.groupSummary[e]&&(a.groupSummary[e]=!1),a.groupSummaryPos[e]||(a.groupSummaryPos[e]="footer"),!0===a.groupColumnShow[e]?(a.visibiltyOnNextGrouping[e]=!0,I(r).jqGrid("showCol",a.groupField[e])):(a.visibiltyOnNextGrouping[e]=I("#"+I.jgrid.jqID(r.p.id+"_"+a.groupField[e])).is(":visible"),I(r).jqGrid("hideCol",a.groupField[e]));for(a.summary=[],a.hideFirstGroupCol&&(a.formatDisplayField[0]=function(e){return e}),t=0,i=o.length;t<i;t++)a.hideFirstGroupCol&&(o[t].hidden||a.groupField[0]!==o[t].name||(o[t].formatter=function(){return""})),o[t].summaryType&&(o[t].summaryDivider?a.summary.push({nm:o[t].name,st:o[t].summaryType,v:"",sd:o[t].summaryDivider,vd:"",sr:o[t].summaryRound,srt:o[t].summaryRoundType||"round"}):a.summary.push({nm:o[t].name,st:o[t].summaryType,v:"",sr:o[t].summaryRound,srt:o[t].summaryRoundType||"round"}))}else r.p.grouping=!1})},groupingPrepare:function(d,p){return this.each(function(){for(var e,t,i,r,o=this.p.groupingView,a=this,n=o.groupField.length,s=0,l=0;l<n;l++)e=o.groupField[l],i=o.displayField[l],t=d[e],null==(r=null==i?null:d[i])&&(r=t),void 0!==t&&(0===p?(o.groups.push({idx:l,dataIndex:e,value:t,displayValue:r,startRow:p,cnt:1,summary:[]}),o.lastvalues[l]=t,o.counters[l]={cnt:1,pos:o.groups.length-1,summary:I.extend(!0,[],o.summary)}):"object"==typeof t||(I.isArray(o.isInTheSameGroup)&&I.isFunction(o.isInTheSameGroup[l])?o.isInTheSameGroup[l].call(a,o.lastvalues[l],t,l,o):o.lastvalues[l]===t)?1===s?(o.groups.push({idx:l,dataIndex:e,value:t,displayValue:r,startRow:p,cnt:1,summary:[]}),o.lastvalues[l]=t,o.counters[l]={cnt:1,pos:o.groups.length-1,summary:I.extend(!0,[],o.summary)}):(o.counters[l].cnt+=1,o.groups[o.counters[l].pos].cnt=o.counters[l].cnt):(o.groups.push({idx:l,dataIndex:e,value:t,displayValue:r,startRow:p,cnt:1,summary:[]}),o.lastvalues[l]=t,s=1,o.counters[l]={cnt:1,pos:o.groups.length-1,summary:I.extend(!0,[],o.summary)}),I.each(o.counters[l].summary,function(){I.isFunction(this.st)?this.v=this.st.call(a,this.v,this.nm,d):(this.v=I(a).jqGrid("groupingCalculations.handler",this.st,this.v,this.nm,this.sr,this.srt,d),"avg"===this.st.toLowerCase()&&this.sd&&(this.vd=I(a).jqGrid("groupingCalculations.handler",this.st,this.vd,this.sd,this.sr,this.srt,d)))}),o.groups[o.counters[l].pos].summary=o.counters[l].summary)}),this},groupingToggle:function(v){return this.each(function(){var e=this,t=e.p.groupingView,i=v.split("_"),r=parseInt(i[i.length-2],10);i.splice(i.length-2,2);function o(e){var t=I.map(e.split(" "),function(e){if(e.substring(0,s.length+1)===s+"_")return parseInt(e.substring(s.length+1),10)});return 0<t.length?t[0]:void 0}var a,n,s=i.join("_"),l=t.minusicon,d=t.plusicon,p=I("#"+I.jgrid.jqID(v)),c=p.length?p[0].nextSibling:null,u=I("#"+I.jgrid.jqID(v)+" span.tree-wrap-"+e.p.direction),h=!1,f=!!e.p.frozenColumns&&e.p.id+"_frozen",g=!!f&&I("#"+I.jgrid.jqID(v),"#"+I.jgrid.jqID(f)),m=g&&g.length?g[0].nextSibling:null;if(u.hasClass(l)){if(t.showSummaryOnHide){if(c)for(;c&&!(void 0!==(a=o(c.className))&&a<=r);){if(I(c).hasClass("jqfoot")&&parseInt(I(c).attr("jqfootlevel"),10)<=r)break;I(c).hide(),c=c.nextSibling,f&&(I(m).hide(),m=m.nextSibling)}}else if(c)for(;c&&!(void 0!==(a=o(c.className))&&a<=r);)I(c).hide(),c=c.nextSibling,f&&(I(m).hide(),m=m.nextSibling);u.removeClass(l).addClass(d),h=!0}else{if(c)for(n=void 0;c;){if(a=o(c.className),void 0===n&&(n=void 0===a),void 0!==a){if(a<=r)break;a===r+1&&(I(c).show().find(">td>span.tree-wrap-"+e.p.direction).removeClass(l).addClass(d),f&&I(m).show().find(">td>span.tree-wrap-"+e.p.direction).removeClass(l).addClass(d))}else n&&(I(c).show(),f&&I(m).show());c=c.nextSibling,f&&(m=m.nextSibling)}u.removeClass(d).addClass(l)}I(e).triggerHandler("jqGridGroupingClickGroup",[v,h]),I.isFunction(e.p.onClickGroup)&&e.p.onClickGroup.call(e,v,h)}),!1},groupingRender:function(D,C,_,$){return this.each(function(){var p,c,u,h,f=this,g=f.p.groupingView,m="",v=g.groupCollapse?g.plusicon:g.minusicon,b=[],w=g.groupField.length;v+=" tree-wrap-"+f.p.direction,I.each(f.p.colModel,function(e,t){for(var i=0;i<w;i++)if(g.groupField[i]===t.name){b[i]=e;break}});var j=0;function y(e,t,i,r){for(var o,a=function(e,t,i){var r,o=!1;if(0===t)o=i[e];else{var a=i[e].idx;if(0===a)o=i[e];else for(r=e;0<=r;r--)if(i[r].idx===a-t){o=i[r];break}}return o}(e,t,i),n=f.p.colModel,s=a.cnt,l="",d=r;d<C;d++){var p="<td "+f.formatCol(d,1,"")+">&#160;</td>",c="{0}";I.each(a.summary,function(){if(this.nm===n[d].name){n[d].summaryTpl&&(c=n[d].summaryTpl),"string"==typeof this.st&&"avg"===this.st.toLowerCase()&&(this.sd&&this.vd?this.v=this.v/this.vd:this.v&&0<s&&(this.v=this.v/s));try{this.groupCount=a.cnt,this.groupIndex=a.dataIndex,this.groupValue=a.value,o=f.formatter("",this.v,d,this)}catch(e){o=this.v}return p="<td "+f.formatCol(d,1,"")+">"+I.jgrid.format(c,o)+"</td>",!1}}),l+=p}return l}var x,q=I.makeArray(g.groupSummary);q.reverse(),x=f.p.multiselect?' colspan="2"':"",I.each(g.groups,function(e,t){if(g._locgr&&!(t.startRow+t.cnt>(_-1)*$&&t.startRow<_*$))return!0;j++,u=f.p.id+"ghead_"+t.idx,c=u+"_"+e,p="<span style='cursor:pointer;' class='ui-icon "+v+"' onclick=\"jQuery('#"+I.jgrid.jqID(f.p.id)+"').jqGrid('groupingToggle','"+c+"');return false;\"></span>";try{h=I.isArray(g.formatDisplayField)&&I.isFunction(g.formatDisplayField[t.idx])?(t.displayValue=g.formatDisplayField[t.idx].call(f,t.displayValue,t.value,f.p.colModel[b[t.idx]],t.idx,g),t.displayValue):f.formatter(c,t.displayValue,b[t.idx],t.value)}catch(e){h=t.displayValue}if("header"===g.groupSummaryPos[t.idx]?(m+='<tr id="'+c+'"'+(g.groupCollapse&&0<t.idx?' style="display:none;" ':" ")+'role="row" class= "ui-widget-content jqgroup ui-row-'+f.p.direction+" "+u+'"><td style="padding-left:'+12*t.idx+'px;"'+x+">"+p+I.jgrid.template(g.groupText[t.idx],h,t.cnt,t.summary)+"</td>",m+=y(e,0,g.groups,!1===g.groupColumnShow[t.idx]?x?3:2:x?2:1),m+="</tr>"):m+='<tr id="'+c+'"'+(g.groupCollapse&&0<t.idx?' style="display:none;" ':" ")+'role="row" class= "ui-widget-content jqgroup ui-row-'+f.p.direction+" "+u+'"><td style="padding-left:'+12*t.idx+'px;" colspan="'+(!1===g.groupColumnShow[t.idx]?C-1:C)+'">'+p+I.jgrid.template(g.groupText[t.idx],h,t.cnt,t.summary)+"</td></tr>",w-1===t.idx){var i,r,o,a,n=g.groups[e+1],s=0,l=t.startRow,d=void 0!==n?n.startRow:g.groups[e].startRow+g.groups[e].cnt;for(g._locgr&&(s=(_-1)*$)>t.startRow&&(l=s),i=l;i<d&&D[i-s];i++)m+=D[i-s].join("");if("header"!==g.groupSummaryPos[t.idx]){if(void 0!==n){for(o=0;o<g.groupField.length&&n.dataIndex!==g.groupField[o];o++);j=g.groupField.length-o}for(r=0;r<j;r++){q[r]&&(a="",g.groupCollapse&&!g.showSummaryOnHide&&(a=' style="display:none;"'),m+="<tr"+a+' jqfootlevel="'+(t.idx-r)+'" role="row" class="ui-widget-content jqfoot ui-row-'+f.p.direction+'">',m+=y(e,r,g.groups,0),m+="</tr>")}j=o}}}),I("#"+I.jgrid.jqID(f.p.id)+" tbody:first").append(m),m=null})},groupingGroupBy:function(r,o){return this.each(function(){var e=this;"string"==typeof r&&(r=[r]);var t,i=e.p.groupingView;for(e.p.grouping=!0,i._locgr=!1,void 0===i.visibiltyOnNextGrouping&&(i.visibiltyOnNextGrouping=[]),t=0;t<i.groupField.length;t++)!i.groupColumnShow[t]&&i.visibiltyOnNextGrouping[t]&&I(e).jqGrid("showCol",i.groupField[t]);for(t=0;t<r.length;t++)i.visibiltyOnNextGrouping[t]=I("#"+I.jgrid.jqID(e.p.id)+"_"+I.jgrid.jqID(r[t])).is(":visible");e.p.groupingView=I.extend(e.p.groupingView,o||{}),i.groupField=r,I(e).trigger("reloadGrid")})},groupingRemove:function(r){return this.each(function(){var e=this;if(void 0===r&&(r=!0),!(e.p.grouping=!1)===r){for(var t=e.p.groupingView,i=0;i<t.groupField.length;i++)!t.groupColumnShow[i]&&t.visibiltyOnNextGrouping[i]&&I(e).jqGrid("showCol",t.groupField);I("tr.jqgroup, tr.jqfoot","#"+I.jgrid.jqID(e.p.id)+" tbody:first").remove(),I("tr.jqgrow:hidden","#"+I.jgrid.jqID(e.p.id)+" tbody:first").show()}else I(e).trigger("reloadGrid")})},groupingCalculations:{handler:function(e,t,i,r,o,a){var n={sum:function(){return parseFloat(t||0)+parseFloat(a[i]||0)},min:function(){return""===t?parseFloat(a[i]||0):Math.min(parseFloat(t),parseFloat(a[i]||0))},max:function(){return""===t?parseFloat(a[i]||0):Math.max(parseFloat(t),parseFloat(a[i]||0))},count:function(){return""===t&&(t=0),a.hasOwnProperty(i)?t+1:0},avg:function(){return n.sum()}};if(!n[e])throw"jqGrid Grouping No such method: "+e;var s,l=n[e]();return null!=r&&(l="fixed"===o?l.toFixed(r):(s=Math.pow(10,r),Math.round(l*s)/s)),l}}})}(jQuery),function(d){"use strict";d.jgrid.extend({jqGridImport:function(r){return r=d.extend({imptype:"xml",impstring:"",impurl:"",mtype:"GET",impData:{},xmlGrid:{config:"roots>grid",data:"roots>rows"},jsonGrid:{config:"grid",data:"data"},ajaxOptions:{}},r||{}),this.each(function(){function i(e,t){var i,r,o,a,n=d(t.xmlGrid.config,e)[0],s=d(t.xmlGrid.data,e)[0];if(xmlJsonClass.xml2json&&d.jgrid.parse){for(o in i=xmlJsonClass.xml2json(n," "),i=d.jgrid.parse(i))i.hasOwnProperty(o)&&(r=i[o]);s?(a=i.grid.datatype,i.grid.datatype="xmlstring",i.grid.datastr=e,d(l).jqGrid(r).jqGrid("setGridParam",{datatype:a})):d(l).jqGrid(r),r=i=null}else alert("xml2json or parse are not present")}function t(e,t){var i,r,o,a,n;e&&"string"==typeof e&&(i=!1,d.jgrid.useJSON&&(i=!(d.jgrid.useJSON=!1)),r=d.jgrid.parse(e),i&&(d.jgrid.useJSON=!0),o=r[t.jsonGrid.config],(a=r[t.jsonGrid.data])?(n=o.datatype,o.datatype="jsonstring",o.datastr=a,d(l).jqGrid(o).jqGrid("setGridParam",{datatype:n})):d(l).jqGrid(o))}var e,l=this;switch(r.imptype){case"xml":d.ajax(d.extend({url:r.impurl,type:r.mtype,data:r.impData,dataType:"xml",complete:function(e,t){"success"===t&&(i(e.responseXML,r),d(l).triggerHandler("jqGridImportComplete",[e,r]),d.isFunction(r.importComplete)&&r.importComplete(e)),e=null}},r.ajaxOptions));break;case"xmlstring":r.impstring&&"string"==typeof r.impstring&&((e=d.parseXML(r.impstring))&&(i(e,r),d(l).triggerHandler("jqGridImportComplete",[e,r]),d.isFunction(r.importComplete)&&r.importComplete(e),r.impstring=null),e=null);break;case"json":d.ajax(d.extend({url:r.impurl,type:r.mtype,data:r.impData,dataType:"json",complete:function(e){try{t(e.responseText,r),d(l).triggerHandler("jqGridImportComplete",[e,r]),d.isFunction(r.importComplete)&&r.importComplete(e)}catch(e){}e=null}},r.ajaxOptions));break;case"jsonstring":r.impstring&&"string"==typeof r.impstring&&(t(r.impstring,r),d(l).triggerHandler("jqGridImportComplete",[r.impstring,r]),d.isFunction(r.importComplete)&&r.importComplete(r.impstring),r.impstring=null)}})},jqGridExport:function(i){i=d.extend({exptype:"xmlstring",root:"grid",ident:"\t"},i||{});var r=null;return this.each(function(){if(this.grid){var e,t=d.extend(!0,{},d(this).jqGrid("getGridParam"));if(t.rownumbers&&(t.colNames.splice(0,1),t.colModel.splice(0,1)),t.multiselect&&(t.colNames.splice(0,1),t.colModel.splice(0,1)),t.subGrid&&(t.colNames.splice(0,1),t.colModel.splice(0,1)),t.knv=null,t.treeGrid)for(e in t.treeReader)t.treeReader.hasOwnProperty(e)&&(t.colNames.splice(t.colNames.length-1),t.colModel.splice(t.colModel.length-1));switch(i.exptype){case"xmlstring":r="<"+i.root+">"+xmlJsonClass.json2xml(t,i.ident)+"</"+i.root+">";break;case"jsonstring":r="{"+xmlJsonClass.toJson(t,i.root,i.ident,!1)+"}",void 0!==t.postData.filters&&(r=(r=r.replace(/filters":"/,'filters":')).replace(/}]}"/,"}]}"))}}}),r},excelExport:function(r){return r=d.extend({exptype:"remote",url:null,oper:"oper",tag:"excel",exportOptions:{}},r||{}),this.each(function(){var e,t,i;this.grid&&"remote"===r.exptype&&((e=d.extend({},this.p.postData))[r.oper]=r.tag,t=jQuery.param(e),i=-1!==r.url.indexOf("?")?r.url+"&"+t:r.url+"?"+t,window.location=i)})}})}(jQuery),function(F){"use strict";F.jgrid.inlineEdit=F.jgrid.inlineEdit||{},F.jgrid.extend({editRow:function(c,e,t,i,r,o,a,n,s){var u={},l=F.makeArray(arguments).slice(1);return"object"===F.type(l[0])?u=l[0]:(void 0!==e&&(u.keys=e),F.isFunction(t)&&(u.oneditfunc=t),F.isFunction(i)&&(u.successfunc=i),void 0!==r&&(u.url=r),void 0!==o&&(u.extraparam=o),F.isFunction(a)&&(u.aftersavefunc=a),F.isFunction(n)&&(u.errorfunc=n),F.isFunction(s)&&(u.afterrestorefunc=s)),u=F.extend(!0,{keys:!1,oneditfunc:null,successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,mtype:"POST",focusField:!0},F.jgrid.inlineEdit,u),this.each(function(){var o,a,t,n,e,s=this,l=0,d=null,p={};s.grid&&!1!==(t=F(s).jqGrid("getInd",c,!0))&&(void 0===(e=F.isFunction(u.beforeEditRow)?u.beforeEditRow.call(s,u,c):void 0)&&(e=!0),e&&("0"!==(F(t).attr("editable")||"0")||F(t).hasClass("not-editable-row")||(n=s.p.colModel,F('td[role="gridcell"]',t).each(function(t){o=n[t].name;var e,i,r=!0===s.p.treeGrid&&o===s.p.ExpandColumn;if(r)a=F("span:first",this).html();else try{a=F.unformat.call(s,this,{rowId:c,colModel:n[t]},t)}catch(e){a=n[t].edittype&&"textarea"===n[t].edittype?F(this).text():F(this).html()}"cb"!==o&&"subgrid"!==o&&"rn"!==o&&(s.p.autoencode&&(a=F.jgrid.htmlDecode(a)),p[o]=a,!0===n[t].editable&&(null===d&&(d=t),r?F("span:first",this).html(""):F(this).html(""),e=F.extend({},n[t].editoptions||{},{id:c+"_"+o,name:o,rowId:c}),n[t].edittype||(n[t].edittype="text"),("&nbsp;"===a||"&#160;"===a||1===a.length&&160===a.charCodeAt(0))&&(a=""),i=F.jgrid.createEl.call(s,n[t].edittype,e,a,!0,F.extend({},F.jgrid.ajaxOptions,s.p.ajaxSelectOptions||{})),F(i).addClass("editable"),r?F("span:first",this).append(i):F(this).append(i),F.jgrid.bindEv.call(s,i,e),"select"===n[t].edittype&&void 0!==n[t].editoptions&&!0===n[t].editoptions.multiple&&void 0===n[t].editoptions.dataUrl&&F.jgrid.msie&&F(i).width(F(i).width()),l++))}),0<l&&(p.id=c,s.p.savedRow.push(p),F(t).attr("editable","1"),u.focusField&&("number"==typeof u.focusField&&parseInt(u.focusField,10)<=n.length&&(d=u.focusField),setTimeout(function(){var e=F("td:eq("+d+") :input:visible",t).not(":disabled");0<e.length&&e.focus()},0)),!0===u.keys&&F(t).bind("keydown",function(e){if(27===e.keyCode){if(F(s).jqGrid("restoreRow",c,u.afterrestorefunc),s.p._inlinenav)try{F(s).jqGrid("showAddEditButtons")}catch(e){}return!1}if(13===e.keyCode){if("TEXTAREA"===e.target.tagName)return!0;if(F(s).jqGrid("saveRow",c,u)&&s.p._inlinenav)try{F(s).jqGrid("showAddEditButtons")}catch(e){}return!1}}),F(s).triggerHandler("jqGridInlineEditRow",[c,u]),F.isFunction(u.oneditfunc)&&u.oneditfunc.call(s,c)))))})},saveRow:function(a,e,t,i,r,o,n){var s=F.makeArray(arguments).slice(1),l={};"object"===F.type(s[0])?l=s[0]:(F.isFunction(e)&&(l.successfunc=e),void 0!==t&&(l.url=t),void 0!==i&&(l.extraparam=i),F.isFunction(r)&&(l.aftersavefunc=r),F.isFunction(o)&&(l.errorfunc=o),F.isFunction(n)&&(l.afterrestorefunc=n)),l=F.extend(!0,{successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,mtype:"POST",saveui:"enable",savetext:F.jgrid.defaults.savetext||"Saving..."},F.jgrid.inlineEdit,l);var d,p,c,u,h,f=!1,g=this[0],m={},v={},b={};if(!g.grid)return f;if(!1===(h=F(g).jqGrid("getInd",a,!0)))return f;var w,j=F.isFunction(l.beforeSaveRow)?l.beforeSaveRow.call(g,l,a):void 0;if(void 0===j&&(j=!0),j){if(p=F(h).attr("editable"),l.url=l.url||g.p.editurl,"1"===p){if(F('td[role="gridcell"]',h).each(function(e){if(w=g.p.colModel[e],"cb"!==(d=w.name)&&"subgrid"!==d&&!0===w.editable&&"rn"!==d&&!F(this).hasClass("not-editable-cell")){switch(w.edittype){case"checkbox":var t=["Yes","No"];w.editoptions&&(t=w.editoptions.value.split(":")),m[d]=F("input",this).is(":checked")?t[0]:t[1];break;case"text":case"password":case"button":m[d]=F("input",this).val();break;case"textarea":m[d]=F("textarea.editable, textarea.FormElement",this).val();break;case"select":var i,r;w.editoptions.multiple?(i=F("select",this),r=[],m[d]=F(i).val(),m[d]?m[d]=m[d].join(","):m[d]="",F("select option:selected",this).each(function(e,t){r[e]=F(t).text()}),v[d]=r.join(",")):(m[d]=F("select option:selected",this).val(),v[d]=F("select option:selected",this).text()),w.formatter&&"select"===w.formatter&&(v={});break;case"custom":try{if(!w.editoptions||!F.isFunction(w.editoptions.custom_value))throw"e1";if(m[d]=w.editoptions.custom_value.call(g,F(".customelement",this),"get"),void 0===m[d])throw"e2"}catch(e){"e1"===e&&F.jgrid.info_dialog(F.jgrid.errors.errcap,"function 'custom_value' "+F.jgrid.edit.msg.nodefined,F.jgrid.edit.bClose),"e2"===e?F.jgrid.info_dialog(F.jgrid.errors.errcap,"function 'custom_value' "+F.jgrid.edit.msg.novalue,F.jgrid.edit.bClose):F.jgrid.info_dialog(F.jgrid.errors.errcap,e.message,F.jgrid.edit.bClose)}}if(!1===(u=F.jgrid.checkValues.call(g,m[d],e))[0])return!1;g.p.autoencode&&(m[d]=F.jgrid.htmlEncode(m[d])),"clientArray"!==l.url&&w.editoptions&&!0===w.editoptions.NullIfEmpty&&""===m[d]&&(b[d]="null")}}),!1===u[0]){try{var y=F(g).jqGrid("getGridRowById",a),x=F.jgrid.findPos(y);F.jgrid.info_dialog(F.jgrid.errors.errcap,u[1],F.jgrid.edit.bClose,{left:x[0],top:x[1]+F(y).outerHeight()})}catch(e){alert(u[1])}return f}var q,D,C,_=g.p.prmNames,$=a,I=!1===g.p.keyName?_.id:g.p.keyName;if(m&&(m[_.oper]=_.editoper,void 0===m[I]||""===m[I]?m[I]=a:h.id!==g.p.idPrefix+m[I]&&(q=F.jgrid.stripPref(g.p.idPrefix,a),void 0!==g.p._index[q]&&(g.p._index[m[I]]=g.p._index[q],delete g.p._index[q]),a=g.p.idPrefix+m[I],F(h).attr("id",a),g.p.selrow===$&&(g.p.selrow=a),!F.isArray(g.p.selarrrow)||0<=(D=F.inArray($,g.p.selarrrow))&&(g.p.selarrrow[D]=a),g.p.multiselect&&(C="jqg_"+g.p.id+"_"+a,F("input.cbox",h).attr("id",C).attr("name",C))),void 0===g.p.inlineData&&(g.p.inlineData={}),m=F.extend({},m,g.p.inlineData,l.extraparam)),"clientArray"===l.url){m=F.extend({},m,v),g.p.autoencode&&F.each(m,function(e,t){m[e]=F.jgrid.htmlDecode(t)});var k,G=F(g).jqGrid("setRowData",a,m);for(F(h).attr("editable","0"),k=0;k<g.p.savedRow.length;k++)if(String(g.p.savedRow[k].id)===String($)){c=k;break}0<=c&&g.p.savedRow.splice(c,1),F(g).triggerHandler("jqGridInlineAfterSaveRow",[a,G,m,l]),F.isFunction(l.aftersavefunc)&&l.aftersavefunc.call(g,a,G,m,l),f=!0,F(h).removeClass("jqgrid-new-row").unbind("keydown")}else F(g).jqGrid("progressBar",{method:"show",loadtype:l.saveui,htmlcontent:l.savetext}),(b=F.extend({},m,b))[I]=F.jgrid.stripPref(g.p.idPrefix,b[I]),F.ajax(F.extend({url:l.url,data:F.isFunction(g.p.serializeRowData)?g.p.serializeRowData.call(g,b):b,type:l.mtype,async:!1,complete:function(e,t){if(F(g).jqGrid("progressBar",{method:"hide",loadtype:l.saveui,htmlcontent:l.savetext}),"success"===t){var i,r=!0,o=F(g).triggerHandler("jqGridInlineSuccessSaveRow",[e,a,l]);if(F.isArray(o)||(o=[!0,m]),o[0]&&F.isFunction(l.successfunc)&&(o=l.successfunc.call(g,e)),F.isArray(o)?(r=o[0],m=o[1]||m):r=o,!0===r){for(g.p.autoencode&&F.each(m,function(e,t){m[e]=F.jgrid.htmlDecode(t)}),m=F.extend({},m,v),F(g).jqGrid("setRowData",a,m),F(h).attr("editable","0"),i=0;i<g.p.savedRow.length;i++)if(String(g.p.savedRow[i].id)===String(a)){c=i;break}0<=c&&g.p.savedRow.splice(c,1),F(g).triggerHandler("jqGridInlineAfterSaveRow",[a,e,m,l]),F.isFunction(l.aftersavefunc)&&l.aftersavefunc.call(g,a,e,m,l),f=!0,F(h).removeClass("jqgrid-new-row").unbind("keydown")}else F(g).triggerHandler("jqGridInlineErrorSaveRow",[a,e,t,null,l]),F.isFunction(l.errorfunc)&&l.errorfunc.call(g,a,e,t,null),!0===l.restoreAfterError&&F(g).jqGrid("restoreRow",a,l.afterrestorefunc)}},error:function(e,t,i){if(F("#lui_"+F.jgrid.jqID(g.p.id)).hide(),F(g).triggerHandler("jqGridInlineErrorSaveRow",[a,e,t,i,l]),F.isFunction(l.errorfunc))l.errorfunc.call(g,a,e,t,i);else{var r=e.responseText||e.statusText;try{F.jgrid.info_dialog(F.jgrid.errors.errcap,'<div class="ui-state-error">'+r+"</div>",F.jgrid.edit.bClose,{buttonalign:"right"})}catch(e){alert(r)}}!0===l.restoreAfterError&&F(g).jqGrid("restoreRow",a,l.afterrestorefunc)}},F.jgrid.ajaxOptions,g.p.ajaxRowOptions||{}))}return f}},restoreRow:function(n,e){var t=F.makeArray(arguments).slice(1),s={};return"object"===F.type(t[0])?s=t[0]:F.isFunction(e)&&(s.afterrestorefunc=e),s=F.extend(!0,{},F.jgrid.inlineEdit,s),this.each(function(){var e,t,i=this,r=-1,o={};if(i.grid&&!1!==(e=F(i).jqGrid("getInd",n,!0))){var a=F.isFunction(s.beforeCancelRow)?s.beforeCancelRow.call(i,s,n):void 0;if(void 0===a&&(a=!0),a){for(t=0;t<i.p.savedRow.length;t++)if(String(i.p.savedRow[t].id)===String(n)){r=t;break}if(0<=r){if(F.isFunction(F.fn.datepicker))try{F("input.hasDatepicker","#"+F.jgrid.jqID(e.id)).datepicker("hide")}catch(e){}F.each(i.p.colModel,function(){!0===this.editable&&i.p.savedRow[r].hasOwnProperty(this.name)&&(o[this.name]=i.p.savedRow[r][this.name])}),F(i).jqGrid("setRowData",n,o),F(e).attr("editable","0").unbind("keydown"),i.p.savedRow.splice(r,1),F("#"+F.jgrid.jqID(n),"#"+F.jgrid.jqID(i.p.id)).hasClass("jqgrid-new-row")&&setTimeout(function(){F(i).jqGrid("delRowData",n),F(i).jqGrid("showAddEditButtons")},0)}F(i).triggerHandler("jqGridInlineAfterRestoreRow",[n]),F.isFunction(s.afterrestorefunc)&&s.afterrestorefunc.call(i,n)}}})},addRow:function(o){return o=F.extend(!0,{rowID:null,initdata:{},position:"first",useDefValues:!0,useFormatter:!1,addRowParams:{extraparam:{}}},o||{}),this.each(function(){var i,e,t,r;this.grid&&(i=this,void 0===(e=F.isFunction(o.beforeAddRow)?o.beforeAddRow.call(i,o.addRowParams):void 0)&&(e=!0),e&&(o.rowID=F.isFunction(o.rowID)?o.rowID.call(i,o):null!=o.rowID?o.rowID:F.jgrid.randId(),!0===o.useDefValues&&F(i.p.colModel).each(function(){var e,t;this.editoptions&&this.editoptions.defaultValue&&(e=this.editoptions.defaultValue,t=F.isFunction(e)?e.call(i):e,o.initdata[this.name]=t)}),F(i).jqGrid("addRowData",o.rowID,o.initdata,o.position),o.rowID=i.p.idPrefix+o.rowID,F("#"+F.jgrid.jqID(o.rowID),"#"+F.jgrid.jqID(i.p.id)).addClass("jqgrid-new-row"),o.useFormatter?F("#"+F.jgrid.jqID(o.rowID)+" .ui-inline-edit","#"+F.jgrid.jqID(i.p.id)).click():(r=(t=i.p.prmNames).oper,o.addRowParams.extraparam[r]=t.addoper,F(i).jqGrid("editRow",o.rowID,o.addRowParams),F(i).jqGrid("setSelection",o.rowID))))})},inlineNav:function(n,s){return s=F.extend(!0,{edit:!0,editicon:"ui-icon-pencil",add:!0,addicon:"ui-icon-plus",save:!0,saveicon:"ui-icon-disk",cancel:!0,cancelicon:"ui-icon-cancel",addParams:{addRowParams:{extraparam:{}}},editParams:{},restoreAfterSelect:!0},F.jgrid.nav,s||{}),this.each(function(){if(this.grid){var r,o=this,a=F.jgrid.jqID(o.p.id);if((o.p._inlinenav=!0)===s.addParams.useFormatter)for(var e,t=o.p.colModel,i=0;i<t.length;i++)if(t[i].formatter&&"actions"===t[i].formatter){t[i].formatoptions&&(e=F.extend({keys:!1,onEdit:null,onSuccess:null,afterSave:null,onError:null,afterRestore:null,extraparam:{},url:null},t[i].formatoptions),s.addParams.addRowParams={keys:e.keys,oneditfunc:e.onEdit,successfunc:e.onSuccess,url:e.url,extraparam:e.extraparam,aftersavefunc:e.afterSave,errorfunc:e.onError,afterrestorefunc:e.afterRestore});break}s.add&&F(o).jqGrid("navButtonAdd",n,{caption:s.addtext,title:s.addtitle,buttonicon:s.addicon,id:o.p.id+"_iladd",onClickButton:function(){F(o).jqGrid("addRow",s.addParams),s.addParams.useFormatter||(F("#"+a+"_ilsave").removeClass("ui-state-disabled"),F("#"+a+"_ilcancel").removeClass("ui-state-disabled"),F("#"+a+"_iladd").addClass("ui-state-disabled"),F("#"+a+"_iledit").addClass("ui-state-disabled"))}}),s.edit&&F(o).jqGrid("navButtonAdd",n,{caption:s.edittext,title:s.edittitle,buttonicon:s.editicon,id:o.p.id+"_iledit",onClickButton:function(){var e=F(o).jqGrid("getGridParam","selrow");e?(F(o).jqGrid("editRow",e,s.editParams),F("#"+a+"_ilsave").removeClass("ui-state-disabled"),F("#"+a+"_ilcancel").removeClass("ui-state-disabled"),F("#"+a+"_iladd").addClass("ui-state-disabled"),F("#"+a+"_iledit").addClass("ui-state-disabled")):(F.jgrid.viewModal("#alertmod",{gbox:"#gbox_"+a,jqm:!0}),F("#jqg_alrt").focus())}}),s.save&&(F(o).jqGrid("navButtonAdd",n,{caption:s.savetext||"",title:s.savetitle||"Save row",buttonicon:s.saveicon,id:o.p.id+"_ilsave",onClickButton:function(){var e,t,i,r=o.p.savedRow[0].id;r?(t=(e=o.p.prmNames).oper,i=s.editParams,F("#"+F.jgrid.jqID(r),"#"+a).hasClass("jqgrid-new-row")?(s.addParams.addRowParams.extraparam[t]=e.addoper,i=s.addParams.addRowParams):(s.editParams.extraparam||(s.editParams.extraparam={}),s.editParams.extraparam[t]=e.editoper),F(o).jqGrid("saveRow",r,i)&&F(o).jqGrid("showAddEditButtons")):(F.jgrid.viewModal("#alertmod",{gbox:"#gbox_"+a,jqm:!0}),F("#jqg_alrt").focus())}}),F("#"+a+"_ilsave").addClass("ui-state-disabled")),s.cancel&&(F(o).jqGrid("navButtonAdd",n,{caption:s.canceltext||"",title:s.canceltitle||"Cancel row editing",buttonicon:s.cancelicon,id:o.p.id+"_ilcancel",onClickButton:function(){var e=o.p.savedRow[0].id,t=s.editParams;e?(F("#"+F.jgrid.jqID(e),"#"+a).hasClass("jqgrid-new-row")&&(t=s.addParams.addRowParams),F(o).jqGrid("restoreRow",e,t),F(o).jqGrid("showAddEditButtons")):(F.jgrid.viewModal("#alertmod",{gbox:"#gbox_"+a,jqm:!0}),F("#jqg_alrt").focus())}}),F("#"+a+"_ilcancel").addClass("ui-state-disabled")),!0===s.restoreAfterSelect&&(r=!!F.isFunction(o.p.beforeSelectRow)&&o.p.beforeSelectRow,o.p.beforeSelectRow=function(e,t){var i=!0;return 0<o.p.savedRow.length&&!0===o.p._inlinenav&&e!==o.p.selrow&&null!==o.p.selrow&&(o.p.selrow===s.addParams.rowID?F(o).jqGrid("delRowData",o.p.selrow):F(o).jqGrid("restoreRow",o.p.selrow,s.editParams),F(o).jqGrid("showAddEditButtons")),r&&(i=r.call(o,e,t)),i})}})},showAddEditButtons:function(){return this.each(function(){var e;this.grid&&(e=F.jgrid.jqID(this.p.id),F("#"+e+"_ilsave").addClass("ui-state-disabled"),F("#"+e+"_ilcancel").addClass("ui-state-disabled"),F("#"+e+"_iladd").removeClass("ui-state-disabled"),F("#"+e+"_iledit").removeClass("ui-state-disabled"))})}})}(jQuery),function($){"use strict";var setSelected;$.jgrid.msie&&8===$.jgrid.msiever()&&($.expr[":"].hidden=function(e){return 0===e.offsetWidth||0===e.offsetHeight||"none"===e.style.display}),$.jgrid._multiselect=!1,$.ui&&$.ui.multiselect&&($.ui.multiselect.prototype._setSelected&&(setSelected=$.ui.multiselect.prototype._setSelected,$.ui.multiselect.prototype._setSelected=function(e,t){var i,r=setSelected.call(this,e,t);return t&&this.selectedList&&(i=this.element,this.selectedList.find("li").each(function(){$(this).data("optionLink")&&$(this).data("optionLink").remove().appendTo(i)})),r}),$.ui.multiselect.prototype.destroy&&($.ui.multiselect.prototype.destroy=function(){this.element.show(),this.container.remove(),void 0===$.Widget?$.widget.prototype.destroy.apply(this,arguments):$.Widget.prototype.destroy.apply(this,arguments)}),$.jgrid._multiselect=!0),$.jgrid.extend({sortableColumns:function(n){return this.each(function(){var l=this,e=$.jgrid.jqID(l.p.id);function i(){l.p.disableClick=!0}var r,t={tolerance:"pointer",axis:"x",scrollSensitivity:"1",items:">th:not(:has(#jqgh_"+e+"_cb,#jqgh_"+e+"_rn,#jqgh_"+e+"_subgrid),:hidden)",placeholder:{element:function(e){return $(document.createElement(e[0].nodeName)).addClass(e[0].className+" ui-sortable-placeholder ui-state-highlight").removeClass("ui-sortable-helper")[0]},update:function(e,t){t.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),t.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10))}},update:function(e,t){var i=$(t.item).parent(),r=$(">th",i),o=l.p.colModel,a={},n=l.p.id+"_";$.each(o,function(e){a[this.name]=e});var s=[];r.each(function(){var e=$(">div",this).get(0).id.replace(/^jqgh_/,"").replace(n,"");a.hasOwnProperty(e)&&s.push(a[e])}),$(l).jqGrid("remapColumns",s,!0,!0),$.isFunction(l.p.sortable.update)&&l.p.sortable.update(s),setTimeout(function(){l.p.disableClick=!1},50)}};l.p.sortable.options?$.extend(t,l.p.sortable.options):$.isFunction(l.p.sortable)&&(l.p.sortable={update:l.p.sortable}),t.start?(r=t.start,t.start=function(e,t){i(),r.call(this,e,t)}):t.start=i,l.p.sortable.exclude&&(t.items+=":not("+l.p.sortable.exclude+")");var o=n.sortable(t),a=o.data("sortable")||o.data("uiSortable");null!=a&&(a.data("sortable").floating=!0)})},columnChooser:function(i){var r=this;if(!$("#colchooser_"+$.jgrid.jqID(r[0].p.id)).length){var t=$('<div id="colchooser_'+r[0].p.id+'" style="position:relative;overflow:hidden"><div><select multiple="multiple"></select></div></div>'),o=$("select",t);if(i=$.extend({width:420,height:240,classname:null,done:function(e){e&&r.jqGrid("remapColumns",e,!0)},msel:"multiselect",dlog:"dialog",dialog_opts:{minWidth:470},dlog_opts:function(e){var t={};return t[e.bSubmit]=function(){e.apply_perm(),e.cleanup(!1)},t[e.bCancel]=function(){e.cleanup(!0)},$.extend(!0,{buttons:t,close:function(){e.cleanup(!0)},modal:e.modal||!1,resizable:e.resizable||!0,width:e.width+20},e.dialog_opts||{})},apply_perm:function(){var e=r[0].p.groupHeader;r[0].p.groupHeader=null,$("option",o).each(function(){this.selected?r.jqGrid("showCol",a[this.value].name):r.jqGrid("hideCol",a[this.value].name)}),jQuery("tr.ui-jqgrid-labels",r[0].grid.hDiv).not("tr.ui-jqgrid-labels:last").remove(),e&&r.jqGrid("setGroupHeaders",e);var t=[];$("option:selected",o).each(function(){t.push(parseInt(this.value,10))}),$.each(t,function(){delete s[a[parseInt(this,10)].name]}),$.each(s,function(){var e=parseInt(this,10);t=function(e,t,i){if(0<=t){var r=e.slice(),o=r.splice(t,Math.max(e.length-t,t));return t>e.length&&(t=e.length),r[t]=i,r.concat(o)}}(t,e,e)}),i.done&&i.done.call(r,t)},cleanup:function(e){p(i.dlog,t,"destroy"),p(i.msel,o,"destroy"),t.remove(),e&&i.done&&i.done.call(r)},msel_opts:{}},$.jgrid.col,i||{}),$.ui&&$.ui.multiselect&&"multiselect"===i.msel){if(!$.jgrid._multiselect)return void alert("Multiselect plugin loaded after jqGrid. Please load the plugin before the jqGrid!");i.msel_opts=$.extend($.ui.multiselect.defaults,i.msel_opts)}i.caption&&t.attr("title",i.caption),i.classname&&(t.addClass(i.classname),o.addClass(i.classname)),i.width&&($(">div",t).css({width:i.width,margin:"0 auto"}),o.css("width",i.width)),i.height&&($(">div",t).css("height",i.height),o.css("height",i.height-10));var a=r.jqGrid("getGridParam","colModel"),n=r.jqGrid("getGridParam","colNames"),s={},l=[];o.empty(),$.each(a,function(e){s[this.name]=e,this.hidedlg?this.hidden||l.push(e):o.append("<option value='"+e+"' "+(this.hidden?"":"selected='selected'")+">"+$.jgrid.stripHtml(n[e])+"</option>")});var e=$.isFunction(i.dlog_opts)?i.dlog_opts.call(r,i):i.dlog_opts;p(i.dlog,t,e);var d=$.isFunction(i.msel_opts)?i.msel_opts.call(r,i):i.msel_opts;p(i.msel,o,d)}function p(e,t){e&&("string"==typeof e?$.fn[e]&&$.fn[e].apply(t,$.makeArray(arguments).slice(2)):$.isFunction(e)&&e.apply(t,$.makeArray(arguments).slice(2)))}},sortableRows:function(o){return this.each(function(){var r=this;r.grid&&(r.p.treeGrid||$.fn.sortable&&((o=$.extend({cursor:"move",axis:"y",items:".jqgrow"},o||{})).start&&$.isFunction(o.start)?(o._start_=o.start,delete o.start):o._start_=!1,o.update&&$.isFunction(o.update)?(o._update_=o.update,delete o.update):o._update_=!1,o.start=function(e,t){if($(t.item).css("border-width","0"),$("td",t.item).each(function(e){this.style.width=r.grid.cols[e].style.width}),r.p.subGrid){var i=$(t.item).attr("id");try{$(r).jqGrid("collapseSubGridRow",i)}catch(e){}}o._start_&&o._start_.apply(this,[e,t])},o.update=function(e,t){$(t.item).css("border-width",""),!0===r.p.rownumbers&&$("td.jqgrid-rownum",r.rows).each(function(e){$(this).html(e+1+(parseInt(r.p.page,10)-1)*parseInt(r.p.rowNum,10))}),o._update_&&o._update_.apply(this,[e,t])},$("tbody:first",r).sortable(o),$("tbody:first",r).disableSelection()))})},gridDnD:function(r){return this.each(function(){var e,t,u=this;if(u.grid&&!u.p.treeGrid&&$.fn.draggable&&$.fn.droppable){if(void 0===$("#jqgrid_dnd")[0]&&$("body").append("<table id='jqgrid_dnd' class='ui-jqgrid-dnd'></table>"),"string"!=typeof r||"updateDnD"!==r||!0!==u.p.jqgdnd){if((r=$.extend({drag:function(o){return $.extend({start:function(e,t){var i,r;if(u.p.subGrid){r=$(t.helper).attr("id");try{$(u).jqGrid("collapseSubGridRow",r)}catch(e){}}for(i=0;i<$.data(u,"dnd").connectWith.length;i++)0===$($.data(u,"dnd").connectWith[i]).jqGrid("getGridParam","reccount")&&$($.data(u,"dnd").connectWith[i]).jqGrid("addRowData","jqg_empty_row",{});t.helper.addClass("ui-state-highlight"),$("td",t.helper).each(function(e){this.style.width=u.grid.headers[e].width+"px"}),o.onstart&&$.isFunction(o.onstart)&&o.onstart.call($(u),e,t)},stop:function(e,t){var i,r;for(t.helper.dropped&&!o.dragcopy&&(void 0===(r=$(t.helper).attr("id"))&&(r=$(this).attr("id")),$(u).jqGrid("delRowData",r)),i=0;i<$.data(u,"dnd").connectWith.length;i++)$($.data(u,"dnd").connectWith[i]).jqGrid("delRowData","jqg_empty_row");o.onstop&&$.isFunction(o.onstop)&&o.onstop.call($(u),e,t)}},o.drag_opts||{})},drop:function(c){return $.extend({accept:function(e){if(!$(e).hasClass("jqgrow"))return e;var t=$(e).closest("table.ui-jqgrid-btable");if(0<t.length&&void 0!==$.data(t[0],"dnd")){var i=$.data(t[0],"dnd").connectWith;return-1!==$.inArray("#"+$.jgrid.jqID(this.id),i)}return!1},drop:function(e,t){if($(t.draggable).hasClass("jqgrow")){var i,r,o=$(t.draggable).attr("id"),a=t.draggable.parent().parent().jqGrid("getRowData",o);if(!c.dropbyname){var n,s,l=0,d={},p=$("#"+$.jgrid.jqID(this.id)).jqGrid("getGridParam","colModel");try{for(s in a)a.hasOwnProperty(s)&&("cb"!==(n=p[l].name)&&"rn"!==n&&"subgrid"!==n&&a.hasOwnProperty(s)&&p[l]&&(d[n]=a[s]),l++);a=d}catch(e){}}t.helper.dropped=!0,c.beforedrop&&$.isFunction(c.beforedrop)&&(null!=(i=c.beforedrop.call(this,e,t,a,$("#"+$.jgrid.jqID(u.p.id)),$(this)))&&"object"==typeof i&&(a=i)),t.helper.dropped&&(c.autoid&&(r=$.isFunction(c.autoid)?c.autoid.call(this,a):(r=Math.ceil(1e3*Math.random()),c.autoidprefix+r)),$("#"+$.jgrid.jqID(this.id)).jqGrid("addRowData",r,a,c.droppos)),c.ondrop&&$.isFunction(c.ondrop)&&c.ondrop.call(this,e,t,a)}}},c.drop_opts||{})},onstart:null,onstop:null,beforedrop:null,ondrop:null,drop_opts:{activeClass:"ui-state-active",hoverClass:"ui-state-hover"},drag_opts:{revert:"invalid",helper:"clone",cursor:"move",appendTo:"#jqgrid_dnd",zIndex:5e3},dragcopy:!1,dropbyname:!1,droppos:"first",autoid:!0,autoidprefix:"dnd_"},r||{})).connectWith)for(r.connectWith=r.connectWith.split(","),r.connectWith=$.map(r.connectWith,function(e){return $.trim(e)}),$.data(u,"dnd",r),0===u.p.reccount||u.p.jqgdnd||i(),u.p.jqgdnd=!0,e=0;e<r.connectWith.length;e++)t=r.connectWith[e],$(t).droppable($.isFunction(r.drop)?r.drop.call($(u),r):r.drop)}else i()}function i(){var e=$.data(u,"dnd");$("tr.jqgrow:not(.ui-draggable)",u).draggable($.isFunction(e.drag)?e.drag.call($(u),e):e.drag)}})},gridResize:function(opts){return this.each(function(){var $t=this,gID=$.jgrid.jqID($t.p.id),optstest;$t.grid&&$.fn.resizable&&(opts=$.extend({},opts||{}),opts.alsoResize?(opts._alsoResize_=opts.alsoResize,delete opts.alsoResize):opts._alsoResize_=!1,opts.stop&&$.isFunction(opts.stop)?(opts._stop_=opts.stop,delete opts.stop):opts._stop_=!1,opts.stop=function(e,t){$($t).jqGrid("setGridParam",{height:$("#gview_"+gID+" .ui-jqgrid-bdiv").height()}),$($t).jqGrid("setGridWidth",t.size.width,opts.shrinkToFit),opts._stop_&&opts._stop_.call($t,e,t)},opts._alsoResize_?(optstest="{'#gview_"+gID+" .ui-jqgrid-bdiv':true,'"+opts._alsoResize_+"':true}",opts.alsoResize=eval("("+optstest+")")):opts.alsoResize=$(".ui-jqgrid-bdiv","#gview_"+gID),delete opts._alsoResize_,$("#gbox_"+gID).resizable(opts))})}})}(jQuery),function(oe){"use strict";function ae(e,t,i){if(!(this instanceof ae))return new ae(e);this.aggregator=e,this.finilized=!1,this.context=t,this.pivotOptions=i}function ne(e,t,i,r,o){function a(e,t){var i=e,r=t;if(null==i&&(i=""),null==r&&(r=""),i=String(i),r=String(r),this.caseSensitive||(i=i.toUpperCase(),r=r.toUpperCase()),i===r){if(e===t)return 0;if(void 0===e)return-1;if(void 0===t)return 1;if(null===e)return-1;if(null===t)return 1}return i<r?-1:1}function n(e,t){return(e=Number(e))===(t=Number(t))?0:e<t?-1:1}function s(e,t){return(e=Math.floor(Number(e)))===(t=Math.floor(Number(t)))?0:e<t?-1:1}var l,d,p=r.length,c=this;for(c.items=[],c.indexesOfSourceData=[],c.trimByCollect=e,c.caseSensitive=t,c.skipSort=i,c.fieldLength=p,c.fieldNames=new Array(p),c.fieldSortDirection=new Array(p),c.fieldCompare=new Array(p),l=0;l<p;l++){switch(d=r[l],c.fieldNames[l]=d[o||"dataName"],d.sorttype){case"integer":case"int":c.fieldCompare[l]=s;break;case"number":case"currency":case"float":c.fieldCompare[l]=n;break;default:c.fieldCompare[l]=oe.isFunction(d.compare)?d.compare:a}c.fieldSortDirection[l]="desc"===d.sortorder?-1:1}}ae.prototype.calc=function(e,t,i,r,o){var a=this;if(void 0!==e)switch(a.result=a.result||0,e=parseFloat(e),a.aggregator){case"sum":a.result+=e;break;case"count":a.result++;break;case"avg":a.finilized?(a.count=a.count||0,a.result=(a.result*a.count+e)/(a.count+1)):(a.result+=e,a.count=a.count||0),a.count++;break;case"min":a.result=Math.min(a.result,e);break;case"max":a.result=Math.max(a.result,e);break;default:oe.isFunction(a.aggregator)&&(a.result=a.aggregator.call(a.context,{previousResult:a.result,value:e,fieldName:t,item:i,iItem:r,items:o}))}},ae.prototype.getResult=function(e,t,i){var r=this;void 0===r.result&&!i||(i&&void 0!==r.result&&(r.result=0,r.count=0),void 0===r.result||r.finilized||"avg"!==r.aggregator||(r.result=r.result/r.count,r.finilized=!0),e[t]=r.result)},ne.prototype.compareVectorsEx=function(e,t){for(var i,r=this.fieldLength,o=0;o<r;o++)if(0!==(i=this.fieldCompare[o](e[o],t[o])))return{index:o,result:i};return{index:-1,result:0}},ne.prototype.getIndexOfDifferences=function(e,t){return null===t||null===e?0:this.compareVectorsEx(e,t).index},ne.prototype.compareVectors=function(e,t){var i=this.compareVectorsEx(e,t);return 0<(0<=i.index?this.fieldSortDirection[i.index]:1)?i.result:-i.result},ne.prototype.getItem=function(e){return this.items[e]},ne.prototype.getIndexLength=function(){return this.items.length},ne.prototype.getIndexesOfSourceData=function(e){return this.indexesOfSourceData[e]},ne.prototype.createDataIndex=function(e){for(var t,i,r,o,a,n,s,l,d=this,p=e.length,c=d.fieldLength,u=d.fieldNames,h=d.indexesOfSourceData,f=d.items,g=0;g<p;g++){for(n=e[g],t=new Array(c),r=0;r<c;r++)void 0!==(i=n[u[r]])&&("string"==typeof i&&d.trimByCollect&&(i=oe.trim(i)),t[r]=i);if(s=0,(l=f.length-1)<0)f.push(t),h.push([g]);else if(0!==(o=d.compareVectors(t,f[l])))if(1===o||d.skipSort)f.push(t),h.push([g]);else if(1!==(o=d.compareVectors(f[0],t)))if(0!==o)for(;;){if(l-s<2){f.splice(l,0,t),h.splice(l,0,[g]);break}if(a=Math.floor((s+l)/2),0===(o=d.compareVectors(f[a],t))){h[a].push(g);break}1===o?l=a:s=a}else h[0].push(g);else f.unshift(t),h.unshift([g]);else h[l].push(g)}};var se=oe.jgrid;se.extend({pivotSetup:function(p,i){function e(e,t,i){var r=new ne(H.trimByCollect,H.caseSensitive,t,e);return oe.isFunction(i)&&(r.compareVectorsEx=i),r.createDataIndex(p),r}function t(e,t,i){for(var r,o=0;o<W;o++)void 0===(r=Q[o]).template&&void 0===r.formatter&&H.defaultFormatting&&(r.template="count"===r.aggregator?"integer":"number"),Z.push(function(e,t,i,r,o){var a,n,s;switch(e){case 1:a=B[r].totalText||"{0} {1} {2}",n="y"+o+"t"+r;break;case 2:a=H.totalText||"{0}",n="t";break;default:a=1<W?t.label||"{0}":oe.isFunction(B[r].label)?B[r].label:M.getItem(o)[r],n="y"+o}return delete(s=oe.extend({},t,{name:n+(1<W?"a"+i:""),label:oe.isFunction(a)?a.call(O,2===e?{aggregate:t,iAggregate:i,pivotOptions:H}:1===e?{yIndex:M.getItem(o),aggregate:t,iAggregate:i,yLevel:r,pivotOptions:H}:{yData:M.getItem(o)[r],yIndex:M.getItem(o),yLevel:r,pivotOptions:H}):se.template.apply(O,2===e?[String(a),t.label,t.aggregator,t.member,i]:[String(a),t.label,t.aggregator,t.member,M.getItem(o)[r],r])})).member,delete s.aggregator,s}(e,r,o,t,i))}function r(e,t,i){for(var r,o,a,n=U-1;t<=n;n--)if(J[n]){for(r=0;r<=n;r++)(F=K[r].groupHeaders)[F.length-1].numberOfColumns+=W;for(o=(c=B[n]).totalHeader,a=c.headerOnTop,r=n+1;r<=U-1;r++)K[r].groupHeaders.push({titleText:a&&r===n+1||!a&&r===U-1?oe.isFunction(o)?o.call(O,i,n):se.template.call(O,String(o||""),i[n],n):"",startColumnName:"y"+(e-1)+"t"+n+(1===W?"":"a0"),numberOfColumns:W})}}function l(e){var t=new ae("count"===Q[e].aggregator?"sum":Q[e].aggregator,O,i);return t.groupInfo={iRows:[],rows:[],ys:[],iYs:[]},t}function o(e,t,i,r){var o,a,n,s=M.getIndexOfDifferences(t,i);if(null!==i)for(s=Math.max(s,0),o=U-1;s<=o;o--)a="y"+e+"t"+o+(1<W?"a"+r:""),J[o]&&void 0===k[a]&&((n=re[o][r]).getResult(k,a),k.pivotInfos[a]={colType:1,iA:r,a:Q[r],level:o,iRows:n.groupInfo.iRows,rows:n.groupInfo.rows,ys:n.groupInfo.ys,iYs:n.groupInfo.iYs},t!==i&&(re[o][r]=l(r)))}var a,n,s,d,c,u,h,f,g,m,v,b,w,j,y,x,q,D,C,_,$,I,k,G,F,S,R,M,E,O=this[0],T=oe.isArray,A={},N={groupField:[],groupSummary:[],groupSummaryPos:[]},P={grouping:!0,groupingView:N},H=oe.extend({totals:!1,useColSpanStyle:!1,trimByCollect:!0,skipSortByX:!1,skipSortByY:!1,caseSensitive:!1,footerTotals:!1,groupSummary:!0,groupSummaryPos:"header",frozenStaticCols:!1,defaultFormatting:!0,data:p},i||{}),L=p.length,z=H.xDimension,B=H.yDimension,Q=H.aggregates,V=H.totalText||H.totals||H.rowTotals||H.totalHeader,X=T(z)?z.length:0,Y=T(B)?B.length:0,W=T(Q)?Q.length:0,U=Y-(1===W?1:0),K=[],J=[],Z=[],ee=[],te=["pivotInfos"],ie=new Array(W),re=new Array(Y);if(0===X||0===W)throw"xDimension or aggregates options are not set!";for(R=e(z,H.skipSortByX,H.compareVectorsByX),M=e(B,H.skipSortByY,H.compareVectorsByY),i.xIndex=R,i.yIndex=M,n=0;n<X;n++)u={name:"x"+n,label:null!=(d=z[n]).label?oe.isFunction(d.label)?d.label.call(O,d,n,H):d.label:d.dataName,frozen:H.frozenStaticCols},n<X-1&&!d.skipGrouping&&!d.additionalProperty&&(N.groupField.push(u.name),N.groupSummary.push(H.groupSummary),N.groupSummaryPos.push(H.groupSummaryPos)),delete(u=oe.extend(u,d)).dataName,delete u.footerText,d.additionalProperty?te.push(u.name):(Z.push(u),P.sortname=u.name);for(X<2&&(P.grouping=!1),N.hideFirstGroupCol=!0,n=0;n<Y;n++)c=B[n],J.push(!!(c.totals||c.rowTotals||c.totalText||c.totalHeader));for(G=M.getItem(0),t(0,Y-1,0),E=M.getIndexLength(),D=1;D<E;D++){for(C=M.getItem(D),n=M.getIndexOfDifferences(C,G),s=U-1;n<=s;s--)J[s]&&t(1,s,D-1);G=C,t(0,Y-1,D)}for(n=U-1;0<=n;n--)J[n]&&t(1,n,E-1);for(V&&t(2),G=M.getItem(0),s=0;s<U;s++)K.push({useColSpanStyle:H.useColSpanStyle,groupHeaders:[{titleText:oe.isFunction(B[s].label)?B[s].label.call(O,{yData:G[s],yIndex:G,yLevel:s,pivotOptions:H}):G[s],startColumnName:1===W?"y0":"y0a0",numberOfColumns:W}]});for(D=1;D<E;D++){for(C=M.getItem(D),r(D,n=M.getIndexOfDifferences(C,G),G),s=U-1;n<=s;s--)K[s].groupHeaders.push({titleText:oe.isFunction(B[s].label)?B[s].label.call(O,{yData:C[s],yIndex:C,yLevel:s,pivotOptions:H}):C[s],startColumnName:"y"+D+(1===W?"":"a0"),numberOfColumns:W});for(s=0;s<n;s++)(F=K[s].groupHeaders)[F.length-1].numberOfColumns+=W;G=C}if(r(E,0,G),V)for(n=0;n<U;n++)K[n].groupHeaders.push({titleText:!(n<U-1)&&H.totalHeader||"",startColumnName:"t"+(1===W?"":"a0"),numberOfColumns:W});for(x=R.getIndexLength(),g=0;g<x;g++){for(m=R.getItem(g),k={pivotInfos:v={iX:g,x:m}},n=0;n<X;n++)k["x"+n]=m[n];if(q=R.getIndexesOfSourceData(g),V)for(s=0;s<W;s++)ie[s]=l(s);for(G=null,function(){for(var e,t=U-1;0<=t;t--)if(J[t])for(null==re[t]&&(re[t]=new Array(W)),e=0;e<W;e++)re[t][e]=l(e)}(),D=0;D<E;D++){for(C=M.getItem(D),_=M.getIndexesOfSourceData(D),s=0;s<W;s++){for(null!==G&&o(D-1,C,G,s),$=[],n=0;n<_.length;n++)S=_[n],0<=oe.inArray(S,q)&&$.push(S);if(0<$.length){for(b=new Array($.length),w=new ae((I=Q[s]).aggregator,O,i),h=0;h<$.length;h++)n=$[h],a=p[n],b[h]=a,w.calc(a[I.member],I.member,a,n,p),V&&((j=ie[s]).calc(a[I.member],I.member,a,n,p),y=j.groupInfo,oe.inArray(n,y.iYs)<0&&(y.iYs.push(D),y.ys.push(C)),oe.inArray(n,y.iRows)<0&&(y.iRows.push(n),y.rows.push(a))),function(e,t,i,r,o,a,n){var s,l,d;if(e!==t)for(s=U-1;0<=s;s--)J[s]&&((l=re[s][r]).calc(o[i.member],i.member,o,a,p),d=l.groupInfo,oe.inArray(n,d.iYs)<0&&(d.iYs.push(n),d.ys.push(e)),oe.inArray(a,d.iRows)<0&&(d.iRows.push(a),d.rows.push(o)))}(C,G,I,s,a,n,D);f="y"+D+(1===W?"":"a"+s),w.getResult(k,f),v[f]={colType:0,iY:D,y:C,iA:s,a:I,iRows:$,rows:b}}}G=C}if(null!==G)for(s=0;s<W;s++)o(E-1,G,G,s);if(V)for(s=0;s<W;s++)f="t"+(1===W?"":"a"+s),(j=ie[s]).getResult(k,f),y=j.groupInfo,v[f]={colType:2,iA:s,a:Q[s],iRows:y.iRows,rows:y.rows,iYs:y.iYs,ys:y.ys};ee.push(k)}if(H.footerTotals||H.colTotals){for(L=ee.length,n=0;n<X;n++)A["x"+n]=z[n].footerText||"";for(n=X;n<Z.length;n++){for(f=Z[n].name,w=new ae(H.footerAggregator||"sum",O,i),h=0;h<L;h++)k=ee[h],w.calc(k[f],f,k,h,ee);w.getResult(A,f)}}return i.colHeaders=K,{colModel:Z,additionalProperties:te,options:i,rows:ee,groupOptions:P,groupHeaders:K,summary:A}},jqPivot:function(d,p,c,i){return this.each(function(){var n=this,s=oe(n),l=oe.fn.jqGrid;function t(){var e,t=l.pivotSetup.call(s,d,p),i=t.groupHeaders,r=0<function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i}(t.summary),o=t.groupOptions.groupingView,a=se.from.call(n,t.rows);if(!p.skipSortByX)for(e=0;e<o.groupField.length;e++)a.orderBy(o.groupField[e],null!=c&&c.groupingView&&null!=c.groupingView.groupOrder&&"desc"===c.groupingView.groupOrder[e]?"d":"a","text","");if(p.data=d,l.call(s,oe.extend(!0,{datastr:oe.extend(a.select(),r?{userdata:t.summary}:{}),datatype:"jsonstring",footerrow:r,userDataOnFooter:r,colModel:t.colModel,additionalProperties:t.additionalProperties,pivotOptions:t.options,viewrecords:!0,sortname:p.xDimension[0].dataName},t.groupOptions,c||{})),i.length)for(e=0;e<i.length;e++)i[e]&&i[e].groupHeaders.length&&l.setGroupHeaders.call(s,i[e]);p.frozenStaticCols&&l.setFrozenColumns.call(s)}"string"==typeof d?oe.ajax(oe.extend({url:d,dataType:"json",success:function(e){d=se.getAccessor(e,i&&i.reader?i.reader:"rows"),t()}},i||{})):t()})}})}(jQuery),function(f){"use strict";f.jgrid.extend({setSubGrid:function(){return this.each(function(){var e,t,i=this;if(i.p.subGridOptions=f.extend({plusicon:"ui-icon-plus",minusicon:"ui-icon-minus",openicon:"ui-icon-carat-1-sw",expandOnLoad:!1,delayOnLoad:50,selectOnExpand:!1,selectOnCollapse:!1,reloadOnExpand:!0},i.p.subGridOptions||{}),i.p.colNames.unshift(""),i.p.colModel.unshift({name:"subgrid",width:f.jgrid.cell_width?i.p.subGridWidth+i.p.cellLayout:i.p.subGridWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,fixed:!0}),(e=i.p.subGridModel)[0])for(e[0].align=f.extend([],e[0].align||[]),t=0;t<e[0].name.length;t++)e[0].align[t]=e[0].align[t]||"left"})},addSubGridCell:function(e,t){var i,r,o="";return this.each(function(){o=this.formatCol(e,t),r=this.p.id,i=this.p.subGridOptions.plusicon}),'<td role="gridcell" aria-describedby="'+r+'_subgrid" class="ui-sgcollapsed sgcollapsed" '+o+"><a style='cursor:pointer;'><span class='ui-icon "+i+"'></span></a></td>"},addSubGrid:function(p,c){return this.each(function(){var u=this;if(u.grid){var t,i,r,o,a,h=function(e,t,i){var r=f("<td align='"+u.p.subGridModel[0].align[i]+"'></td>").html(t);f(e).append(r)},n=function(e,t){for(var i,r,o=f("<table cellspacing='0' cellpadding='0' border='0'><tbody></tbody></table>"),a=f("<tr></tr>"),n=0;n<u.p.subGridModel[0].name.length;n++)i=f("<th class='ui-state-default ui-th-subgrid ui-th-column ui-th-"+u.p.direction+"'></th>"),f(i).html(u.p.subGridModel[0].name[n]),f(i).width(u.p.subGridModel[0].width[n]),f(a).append(i);f(o).append(a),e&&(r=u.p.xmlReader.subgrid,f(r.root+" "+r.row,e).each(function(){if(a=f("<tr class='ui-widget-content ui-subtblcell'></tr>"),!0===r.repeatitems)f(r.cell,this).each(function(e){h(a,f(this).text()||"&#160;",e)});else{var e=u.p.subGridModel[0].mapping||u.p.subGridModel[0].name;if(e)for(n=0;n<e.length;n++)h(a,f(e[n],this).text()||"&#160;",n)}f(o).append(a)}));var s=f("table:first",u.grid.bDiv).attr("id")+"_";return f("#"+f.jgrid.jqID(s+t)).append(o),u.grid.hDiv.loading=!1,f("#load_"+f.jgrid.jqID(u.p.id)).hide(),!1},s=function(e,t){for(var i,r,o,a,n,s=f("<table cellspacing='0' cellpadding='0' border='0'><tbody></tbody></table>"),l=f("<tr></tr>"),d=0;d<u.p.subGridModel[0].name.length;d++)i=f("<th class='ui-state-default ui-th-subgrid ui-th-column ui-th-"+u.p.direction+"'></th>"),f(i).html(u.p.subGridModel[0].name[d]),f(i).width(u.p.subGridModel[0].width[d]),f(l).append(i);if(f(s).append(l),e&&(a=u.p.jsonReader.subgrid,void 0!==(r=f.jgrid.getAccessor(e,a.root))))for(d=0;d<r.length;d++){if(o=r[d],l=f("<tr class='ui-widget-content ui-subtblcell'></tr>"),!0===a.repeatitems)for(a.cell&&(o=o[a.cell]),n=0;n<o.length;n++)h(l,o[n]||"&#160;",n);else{var p=u.p.subGridModel[0].mapping||u.p.subGridModel[0].name;if(p.length)for(n=0;n<p.length;n++)h(l,o[p[n]]||"&#160;",n)}f(s).append(l)}var c=f("table:first",u.grid.bDiv).attr("id")+"_";return f("#"+f.jgrid.jqID(c+t)).append(s),u.grid.hDiv.loading=!1,f("#load_"+f.jgrid.jqID(u.p.id)).hide(),!1},l=0;f.each(u.p.colModel,function(){!0!==this.hidden&&"rn"!==this.name&&"cb"!==this.name||l++});var e=u.rows.length,d=1;for(void 0!==c&&0<c&&(e=(d=c)+1);d<e;)f(u.rows[d]).hasClass("jqgrow")&&(u.p.scroll&&f(u.rows[d].cells[p]).unbind("click"),f(u.rows[d].cells[p]).bind("click",function(){var e=f(this).parent("tr")[0];if(a=e.nextSibling,f(this).hasClass("sgcollapsed")){if(i=u.p.id,t=e.id,!0===u.p.subGridOptions.reloadOnExpand||!1===u.p.subGridOptions.reloadOnExpand&&!f(a).hasClass("ui-subgrid")){if(r=1<=p?"<td colspan='"+p+"'>&#160;</td>":"",(o=!1!==(o=f(u).triggerHandler("jqGridSubGridBeforeExpand",[i+"_"+t,t]))&&"stop"!==o)&&f.isFunction(u.p.subGridBeforeExpand)&&(o=u.p.subGridBeforeExpand.call(u,i+"_"+t,t)),!1===o)return!1;f(e).after("<tr role='row' class='ui-subgrid'>"+r+"<td class='ui-widget-content subgrid-cell'><span class='ui-icon "+u.p.subGridOptions.openicon+"'></span></td><td colspan='"+parseInt(u.p.colNames.length-1-l,10)+"' class='ui-widget-content subgrid-data'><div id="+i+"_"+t+" class='tablediv'></div></td></tr>"),f(u).triggerHandler("jqGridSubGridRowExpanded",[i+"_"+t,t]),f.isFunction(u.p.subGridRowExpanded)?u.p.subGridRowExpanded.call(u,i+"_"+t,t):function(e){var t,i,r=f(e).attr("id"),o={nd_:(new Date).getTime()};if(o[u.p.prmNames.subgridid]=r,!u.p.subGridModel[0])return;if(u.p.subGridModel[0].params)for(i=0;i<u.p.subGridModel[0].params.length;i++)for(t=0;t<u.p.colModel.length;t++)u.p.colModel[t].name===u.p.subGridModel[0].params[i]&&(o[u.p.colModel[t].name]=f("td:eq("+t+")",e).text().replace(/\&#160\;/gi,""));if(!u.grid.hDiv.loading)switch(u.grid.hDiv.loading=!0,f("#load_"+f.jgrid.jqID(u.p.id)).show(),u.p.subgridtype||(u.p.subgridtype=u.p.datatype),f.isFunction(u.p.subgridtype)?u.p.subgridtype.call(u,o):u.p.subgridtype=u.p.subgridtype.toLowerCase(),u.p.subgridtype){case"xml":case"json":f.ajax(f.extend({type:u.p.mtype,url:f.isFunction(u.p.subGridUrl)?u.p.subGridUrl.call(u,o):u.p.subGridUrl,dataType:u.p.subgridtype,data:f.isFunction(u.p.serializeSubGridData)?u.p.serializeSubGridData.call(u,o):o,complete:function(e){"xml"===u.p.subgridtype?n(e.responseXML,r):s(f.jgrid.parse(e.responseText),r),e=null}},f.jgrid.ajaxOptions,u.p.ajaxSubgridOptions||{}))}}(e)}else f(a).show();f(this).html("<a style='cursor:pointer;'><span class='ui-icon "+u.p.subGridOptions.minusicon+"'></span></a>").removeClass("sgcollapsed").addClass("sgexpanded"),u.p.subGridOptions.selectOnExpand&&f(u).jqGrid("setSelection",t)}else if(f(this).hasClass("sgexpanded")){if(o=!1!==(o=f(u).triggerHandler("jqGridSubGridRowColapsed",[i+"_"+t,t]))&&"stop"!==o,t=e.id,o&&f.isFunction(u.p.subGridRowColapsed)&&(o=u.p.subGridRowColapsed.call(u,i+"_"+t,t)),!1===o)return!1;!0===u.p.subGridOptions.reloadOnExpand?f(a).remove(".ui-subgrid"):f(a).hasClass("ui-subgrid")&&f(a).hide(),f(this).html("<a style='cursor:pointer;'><span class='ui-icon "+u.p.subGridOptions.plusicon+"'></span></a>").removeClass("sgexpanded").addClass("sgcollapsed"),u.p.subGridOptions.selectOnCollapse&&f(u).jqGrid("setSelection",t)}return!1})),d++;!0===u.p.subGridOptions.expandOnLoad&&f(u.rows).filter(".jqgrow").each(function(e,t){f(t.cells[0]).click()}),u.subGridXml=function(e,t){n(e,t)},u.subGridJson=function(e,t){s(e,t)}}})},expandSubGridRow:function(i){return this.each(function(){var e,t;(this.grid||i)&&!0===this.p.subGrid&&(!(e=f(this).jqGrid("getInd",i,!0))||(t=f("td.sgcollapsed",e)[0])&&f(t).trigger("click"))})},collapseSubGridRow:function(i){return this.each(function(){var e,t;(this.grid||i)&&!0===this.p.subGrid&&(!(e=f(this).jqGrid("getInd",i,!0))||(t=f("td.sgexpanded",e)[0])&&f(t).trigger("click"))})},toggleSubGridRow:function(i){return this.each(function(){var e,t;(this.grid||i)&&!0===this.p.subGrid&&(!(e=f(this).jqGrid("getInd",i,!0))||(t=(t=f("td.sgcollapsed",e)[0])||f("td.sgexpanded",e)[0])&&f(t).trigger("click"))})}})}(jQuery),function(_){"use strict";_.jgrid.extend({setTreeNode:function(b,w){return this.each(function(){var o=this;if(o.grid&&o.p.treeGrid)for(var e,t,i,r,a,n,s,l=o.p.expColInd,d=o.p.treeReader.expanded_field,p=o.p.treeReader.leaf_field,c=o.p.treeReader.level_field,u=o.p.treeReader.icon_field,h=o.p.treeReader.loaded;b<w;){var f,g=_.jgrid.stripPref(o.p.idPrefix,o.rows[b].id),m=o.p._index[g],v=o.p.data[m];"nested"===o.p.treeGridModel&&(v[p]||(e=parseInt(v[o.p.treeReader.left_field],10),t=parseInt(v[o.p.treeReader.right_field],10),v[p]=t===e+1?"true":"false",o.rows[b].cells[o.p._treeleafpos].innerHTML=v[p])),i=parseInt(v[c],10),a=0===o.p.tree_root_level?(r=i+1,i):(r=i)-1,n="<div class='tree-wrap tree-wrap-"+o.p.direction+"' style='width:"+18*r+"px;'>",n+="<div style='"+("rtl"===o.p.direction?"right:":"left:")+18*a+"px;' class='ui-icon ",void 0!==v[h]&&("true"===v[h]||!0===v[h]?v[h]=!0:v[h]=!1),s="true"===v[p]||!0===v[p]?(n+=(void 0!==v[u]&&""!==v[u]?v[u]:o.p.treeIcons.leaf)+" tree-leaf treeclick",v[p]=!0,"leaf"):(v[p]=!1,""),v[d]=("true"===v[d]||!0===v[d])&&(v[h]||void 0===v[h]),!1===v[d]?n+=!0===v[p]?"'":o.p.treeIcons.plus+" tree-plus treeclick'":n+=!0===v[p]?"'":o.p.treeIcons.minus+" tree-minus treeclick'",n+="></div></div>",_(o.rows[b].cells[l]).wrapInner("<span class='cell-wrapper"+s+"'></span>").prepend(n),i!==parseInt(o.p.tree_root_level,10)&&(f=_(o).jqGrid("getNodeParent",v))&&f.hasOwnProperty(d)&&!f[d]&&_(o.rows[b]).css("display","none"),_(o.rows[b].cells[l]).find("div.treeclick").bind("click",function(e){var t=e.target||e.srcElement,i=_.jgrid.stripPref(o.p.idPrefix,_(t,o.rows).closest("tr.jqgrow")[0].id),r=o.p._index[i];return o.p.data[r][p]||(o.p.data[r][d]?(_(o).jqGrid("collapseRow",o.p.data[r]),_(o).jqGrid("collapseNode",o.p.data[r])):(_(o).jqGrid("expandRow",o.p.data[r]),_(o).jqGrid("expandNode",o.p.data[r]))),!1}),!0===o.p.ExpandColClick&&_(o.rows[b].cells[l]).find("span.cell-wrapper").css("cursor","pointer").bind("click",function(e){var t=e.target||e.srcElement,i=_.jgrid.stripPref(o.p.idPrefix,_(t,o.rows).closest("tr.jqgrow")[0].id),r=o.p._index[i];return o.p.data[r][p]||(o.p.data[r][d]?(_(o).jqGrid("collapseRow",o.p.data[r]),_(o).jqGrid("collapseNode",o.p.data[r])):(_(o).jqGrid("expandRow",o.p.data[r]),_(o).jqGrid("expandNode",o.p.data[r]))),_(o).jqGrid("setSelection",i),!1}),b++}})},setTreeGrid:function(){return this.each(function(){var e,t,i,r,o=this,a=0,n=!1,s=[];if(o.p.treeGrid){for(i in o.p.treedatatype||_.extend(o.p,{treedatatype:o.p.datatype}),o.p.subGrid=!1,o.p.altRows=!1,o.p.pgbuttons=!1,o.p.pginput=!1,o.p.gridview=!0,null===o.p.rowTotal&&(o.p.rowNum=1e4),o.p.multiselect=!1,o.p.rowList=[],o.p.expColInd=0,e="ui-icon-triangle-1-"+("rtl"===o.p.direction?"w":"e"),o.p.treeIcons=_.extend({plus:e,minus:"ui-icon-triangle-1-s",leaf:"ui-icon-radio-off"},o.p.treeIcons||{}),"nested"===o.p.treeGridModel?o.p.treeReader=_.extend({level_field:"level",left_field:"lft",right_field:"rgt",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},o.p.treeReader):"adjacency"===o.p.treeGridModel&&(o.p.treeReader=_.extend({level_field:"level",parent_id_field:"parent",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},o.p.treeReader)),o.p.colModel)if(o.p.colModel.hasOwnProperty(i))for(r in(t=o.p.colModel[i].name)!==o.p.ExpandColumn||n||(n=!0,o.p.expColInd=a),a++,o.p.treeReader)o.p.treeReader.hasOwnProperty(r)&&o.p.treeReader[r]===t&&s.push(t);_.each(o.p.treeReader,function(e,t){t&&-1===_.inArray(t,s)&&("leaf_field"===e&&(o.p._treeleafpos=a),a++,o.p.colNames.push(t),o.p.colModel.push({name:t,width:1,hidden:!0,sortable:!1,resizable:!1,hidedlg:!0,editable:!0,search:!1}))})}})},expandRow:function(r){this.each(function(){var e,t,i=this;i.grid&&i.p.treeGrid&&(e=_(i).jqGrid("getNodeChildren",r),t=i.p.treeReader.expanded_field,_(e).each(function(){var e=i.p.idPrefix+_.jgrid.getAccessor(this,i.p.localReader.id);_(_(i).jqGrid("getGridRowById",e)).css("display",""),this[t]&&_(i).jqGrid("expandRow",this)}))})},collapseRow:function(r){this.each(function(){var e,t,i=this;i.grid&&i.p.treeGrid&&(e=_(i).jqGrid("getNodeChildren",r),t=i.p.treeReader.expanded_field,_(e).each(function(){var e=i.p.idPrefix+_.jgrid.getAccessor(this,i.p.localReader.id);_(_(i).jqGrid("getGridRowById",e)).css("display","none"),this[t]&&_(i).jqGrid("collapseRow",this)}))})},getRootNodes:function(){var r=[];return this.each(function(){var e=this;if(e.grid&&e.p.treeGrid)switch(e.p.treeGridModel){case"nested":var t=e.p.treeReader.level_field;_(e.p.data).each(function(){parseInt(this[t],10)===parseInt(e.p.tree_root_level,10)&&r.push(this)});break;case"adjacency":var i=e.p.treeReader.parent_id_field;_(e.p.data).each(function(){null!==this[i]&&"null"!==String(this[i]).toLowerCase()||r.push(this)})}}),r},getNodeDepth:function(t){var i=null;return this.each(function(){if(this.grid&&this.p.treeGrid){switch(this.p.treeGridModel){case"nested":var e=this.p.treeReader.level_field;i=parseInt(t[e],10)-parseInt(this.p.tree_root_level,10);break;case"adjacency":i=_(this).jqGrid("getNodeAncestors",t).length}}}),i},getNodeParent:function(c){var u=null;return this.each(function(){var e=this;if(e.grid&&e.p.treeGrid)switch(e.p.treeGridModel){case"nested":var t=e.p.treeReader.left_field,i=e.p.treeReader.right_field,r=e.p.treeReader.level_field,o=parseInt(c[t],10),a=parseInt(c[i],10),n=parseInt(c[r],10);_(this.p.data).each(function(){if(parseInt(this[r],10)===n-1&&parseInt(this[t],10)<o&&parseInt(this[i],10)>a)return u=this,!1});break;case"adjacency":for(var s=e.p.treeReader.parent_id_field,l=e.p.localReader.id,d=c[l],p=e.p._index[d];p--;)if(e.p.data[p][l]===_.jgrid.stripPref(e.p.idPrefix,c[s])){u=e.p.data[p];break}}}),u},getNodeChildren:function(d){var p=[];return this.each(function(){var e=this;if(e.grid&&e.p.treeGrid)switch(e.p.treeGridModel){case"nested":var t=e.p.treeReader.left_field,i=e.p.treeReader.right_field,r=e.p.treeReader.level_field,o=parseInt(d[t],10),a=parseInt(d[i],10),n=parseInt(d[r],10);_(this.p.data).each(function(){parseInt(this[r],10)===n+1&&parseInt(this[t],10)>o&&parseInt(this[i],10)<a&&p.push(this)});break;case"adjacency":var s=e.p.treeReader.parent_id_field,l=e.p.localReader.id;_(this.p.data).each(function(){this[s]==_.jgrid.stripPref(e.p.idPrefix,d[l])&&p.push(this)})}}),p},getFullTreeNode:function(p){var c=[];return this.each(function(){var t,i,r,o=this;if(o.grid&&o.p.treeGrid)switch(o.p.treeGridModel){case"nested":var e=o.p.treeReader.left_field,a=o.p.treeReader.right_field,n=o.p.treeReader.level_field,s=parseInt(p[e],10),l=parseInt(p[a],10),d=parseInt(p[n],10);_(this.p.data).each(function(){parseInt(this[n],10)>=d&&parseInt(this[e],10)>=s&&parseInt(this[e],10)<=l&&c.push(this)});break;case"adjacency":p&&(c.push(p),i=o.p.treeReader.parent_id_field,r=o.p.localReader.id,_(this.p.data).each(function(e){for(t=c.length,e=0;e<t;e++)if(_.jgrid.stripPref(o.p.idPrefix,c[e][r])===this[i]){c.push(this);break}}))}}),c},getNodeAncestors:function(t){var i=[];return this.each(function(){if(this.grid&&this.p.treeGrid)for(var e=_(this).jqGrid("getNodeParent",t);e;)i.push(e),e=_(this).jqGrid("getNodeParent",e)}),i},isVisibleNode:function(i){var r=!0;return this.each(function(){var e,t;this.grid&&this.p.treeGrid&&(e=_(this).jqGrid("getNodeAncestors",i),t=this.p.treeReader.expanded_field,_(e).each(function(){if(!(r=r&&this[t]))return!1}))}),r},isNodeLoaded:function(r){var o;return this.each(function(){var e,t,i=this;i.grid&&i.p.treeGrid&&(e=i.p.treeReader.leaf_field,t=i.p.treeReader.loaded,o=void 0!==r&&(void 0!==r[t]?r[t]:!!(r[e]||0<_(i).jqGrid("getNodeChildren",r).length)))}),o},expandNode:function(d){return this.each(function(){var e,t,i,r,o,a,n,s,l;this.grid&&this.p.treeGrid&&(e=this.p.treeReader.expanded_field,t=this.p.treeReader.parent_id_field,i=this.p.treeReader.loaded,r=this.p.treeReader.level_field,o=this.p.treeReader.left_field,a=this.p.treeReader.right_field,d[e]||(n=_.jgrid.getAccessor(d,this.p.localReader.id),s=_("#"+this.p.idPrefix+_.jgrid.jqID(n),this.grid.bDiv)[0],l=this.p._index[n],_(this).jqGrid("isNodeLoaded",this.p.data[l])?(d[e]=!0,_("div.treeclick",s).removeClass(this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.minus+" tree-minus")):this.grid.hDiv.loading||(d[e]=!0,_("div.treeclick",s).removeClass(this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.minus+" tree-minus"),this.p.treeANode=s.rowIndex,this.p.datatype=this.p.treedatatype,"nested"===this.p.treeGridModel?_(this).jqGrid("setGridParam",{postData:{nodeid:n,n_left:d[o],n_right:d[a],n_level:d[r]}}):_(this).jqGrid("setGridParam",{postData:{nodeid:n,parentid:d[t],n_level:d[r]}}),_(this).trigger("reloadGrid"),d[i]=!0,"nested"===this.p.treeGridModel?_(this).jqGrid("setGridParam",{postData:{nodeid:"",n_left:"",n_right:"",n_level:""}}):_(this).jqGrid("setGridParam",{postData:{nodeid:"",parentid:"",n_level:""}}))))})},collapseNode:function(r){return this.each(function(){var e,t,i;this.grid&&this.p.treeGrid&&(e=this.p.treeReader.expanded_field,r[e]&&(r[e]=!1,t=_.jgrid.getAccessor(r,this.p.localReader.id),i=_("#"+this.p.idPrefix+_.jgrid.jqID(t),this.grid.bDiv)[0],_("div.treeclick",i).removeClass(this.p.treeIcons.minus+" tree-minus").addClass(this.p.treeIcons.plus+" tree-plus")))})},SortTree:function(l,d,p,c){return this.each(function(){if(this.grid&&this.p.treeGrid){var e,t,i,r,o=[],a=this,n=_(this).jqGrid("getRootNodes"),s=_.jgrid.from(n);for(s.orderBy(l,d,p,c),e=0,t=(r=s.select()).length;e<t;e++)i=r[e],o.push(i),_(this).jqGrid("collectChildrenSortTree",o,i,l,d,p,c);_.each(o,function(e){var t=_.jgrid.getAccessor(this,a.p.localReader.id);_("#"+_.jgrid.jqID(a.p.id)+" tbody tr:eq("+e+")").after(_("tr#"+_.jgrid.jqID(t),a.grid.bDiv))}),o=r=s=null}})},collectChildrenSortTree:function(n,s,l,d,p,c){return this.each(function(){if(this.grid&&this.p.treeGrid){var e,t,i,r,o=_(this).jqGrid("getNodeChildren",s),a=_.jgrid.from(o);for(a.orderBy(l,d,p,c),e=0,t=(r=a.select()).length;e<t;e++)i=r[e],n.push(i),_(this).jqGrid("collectChildrenSortTree",n,i,l,d,p,c)}})},setTreeRow:function(e,t){var i=!1;return this.each(function(){this.grid&&this.p.treeGrid&&(i=_(this).jqGrid("setRowData",e,t))}),i},delTreeNode:function(c){return this.each(function(){var e,t,i,r,o,a=this,n=a.p.localReader.id,s=a.p.treeReader.left_field,l=a.p.treeReader.right_field;if(a.grid&&a.p.treeGrid){var d=a.p._index[c];if(void 0!==d){i=(t=parseInt(a.p.data[d][l],10))-parseInt(a.p.data[d][s],10)+1;var p=_(a).jqGrid("getFullTreeNode",a.p.data[d]);if(0<p.length)for(e=0;e<p.length;e++)_(a).jqGrid("delRowData",p[e][n]);if("nested"===a.p.treeGridModel){if((r=_.jgrid.from(a.p.data).greater(s,t,{stype:"integer"}).select()).length)for(o in r)r.hasOwnProperty(o)&&(r[o][s]=parseInt(r[o][s],10)-i);if((r=_.jgrid.from(a.p.data).greater(l,t,{stype:"integer"}).select()).length)for(o in r)r.hasOwnProperty(o)&&(r[o][l]=parseInt(r[o][l],10)-i)}}}})},addChildNode:function(e,t,i,r){var o=this[0];if(i){var a,n,s,l,d,p,c=o.p.treeReader.expanded_field,u=o.p.treeReader.leaf_field,h=o.p.treeReader.level_field,f=o.p.treeReader.parent_id_field,g=o.p.treeReader.left_field,m=o.p.treeReader.right_field,v=o.p.treeReader.loaded,b=0,w=t;if(void 0===r&&(r=!1),null==e){if(0<=(y=o.p.data.length-1))for(;0<=y;)b=Math.max(b,parseInt(o.p.data[y][o.p.localReader.id],10)),y--;e=b+1}var j,y,x,q,D=_(o).jqGrid("getInd",t),C=!1;if(null==t||""===t?(w=t=null,a="last",l=o.p.tree_root_level,y=o.p.data.length+1):(a="after",n=o.p._index[t],t=(s=o.p.data[n])[o.p.localReader.id],l=parseInt(s[h],10)+1,y=(j=_(o).jqGrid("getFullTreeNode",s)).length?(w=y=j[j.length-1][o.p.localReader.id],_(o).jqGrid("getInd",w)+1):_(o).jqGrid("getInd",t)+1,s[u]&&(C=!0,s[c]=!0,_(o.rows[D]).find("span.cell-wrapperleaf").removeClass("cell-wrapperleaf").addClass("cell-wrapper").end().find("div.tree-leaf").removeClass(o.p.treeIcons.leaf+" tree-leaf").addClass(o.p.treeIcons.minus+" tree-minus"),o.p.data[n][u]=!1,s[v]=!0)),d=y+1,void 0===i[c]&&(i[c]=!1),void 0===i[v]&&(i[v]=!1),i[h]=l,void 0===i[u]&&(i[u]=!0),"adjacency"===o.p.treeGridModel&&(i[f]=t),"nested"===o.p.treeGridModel)if(null!==t){if(p=parseInt(s[m],10),(x=_.jgrid.from(o.p.data).greaterOrEquals(m,p,{stype:"integer"}).select()).length)for(q in x)x.hasOwnProperty(q)&&(x[q][g]=x[q][g]>p?parseInt(x[q][g],10)+2:x[q][g],x[q][m]=x[q][m]>=p?parseInt(x[q][m],10)+2:x[q][m]);i[g]=p,i[m]=p+1}else{if(p=parseInt(_(o).jqGrid("getCol",m,!1,"max"),10),(x=_.jgrid.from(o.p.data).greater(g,p,{stype:"integer"}).select()).length)for(q in x)x.hasOwnProperty(q)&&(x[q][g]=parseInt(x[q][g],10)+2);if((x=_.jgrid.from(o.p.data).greater(m,p,{stype:"integer"}).select()).length)for(q in x)x.hasOwnProperty(q)&&(x[q][m]=parseInt(x[q][m],10)+2);i[g]=p+1,i[m]=p+2}(null===t||_(o).jqGrid("isNodeLoaded",s)||C)&&(_(o).jqGrid("addRowData",e,i,a,w),_(o).jqGrid("setTreeNode",y,d)),s&&!s[c]&&r&&_(o.rows[D]).find("div.treeclick").click()}}})}(jQuery),function(o){o.fn.jqDrag=function(e){return i(this,e,"d")},o.fn.jqResize=function(e,t){return i(this,e,"r",t)},o.jqDnR={dnr:{},e:0,drag:function(e){return"d"==s.k?l.css({left:s.X+e.pageX-s.pX,top:s.Y+e.pageY-s.pY}):(l.css({width:Math.max(e.pageX-s.pX+s.W,0),height:Math.max(e.pageY-s.pY+s.H,0)}),n&&a.css({width:Math.max(e.pageX-n.pX+n.W,0),height:Math.max(e.pageY-n.pY+n.H,0)})),!1},stop:function(){o(document).unbind("mousemove",e.drag).unbind("mouseup",e.stop)}};var a,n,e=o.jqDnR,s=e.dnr,l=e.e,i=function(e,t,i,r){return e.each(function(){(t=t?o(t,e):e).bind("mousedown",{e:e,k:i},function(e){var t=e.data,i={};if(l=t.e,a=!!r&&o(r),"relative"!=l.css("position"))try{l.position(i)}catch(e){}if(s={X:i.left||d("left")||0,Y:i.top||d("top")||0,W:d("width")||l[0].scrollWidth||0,H:d("height")||l[0].scrollHeight||0,pX:e.pageX,pY:e.pageY,k:t.k},n=!(!a||"d"==t.k)&&{X:i.left||p("left")||0,Y:i.top||p("top")||0,W:a[0].offsetWidth||p("width")||0,H:a[0].offsetHeight||p("height")||0,pX:e.pageX,pY:e.pageY,k:t.k},o("input.hasDatepicker",l[0])[0])try{o("input.hasDatepicker",l[0]).datepicker("hide")}catch(e){}return o(document).mousemove(o.jqDnR.drag).mouseup(o.jqDnR.stop),!1})})},d=function(e){return parseInt(l.css(e),10)||!1},p=function(e){return parseInt(a.css(e),10)||!1}}(jQuery),function(d){d.fn.jqm=function(e){var t={overlay:50,closeoverlay:!0,overlayClass:"jqmOverlay",closeClass:"jqmClose",trigger:".jqModal",ajax:u,ajaxText:"",target:u,modal:u,toTop:u,onShow:u,onHide:u,onLoad:u};return this.each(function(){return this._jqm?p[this._jqm].c=d.extend({},p[this._jqm].c,e):(i++,this._jqm=i,p[i]={c:d.extend(t,d.jqm.params,e),a:u,w:d(this).addClass("jqmID"+i),s:i},void(t.trigger&&d(this).jqmAddTrigger(t.trigger)))})},d.fn.jqmAddClose=function(e){return o(this,e,"jqmHide")},d.fn.jqmAddTrigger=function(e){return o(this,e,"jqmShow")},d.fn.jqmShow=function(e){return this.each(function(){d.jqm.open(this._jqm,e)})},d.fn.jqmHide=function(e){return this.each(function(){d.jqm.close(this._jqm,e)})},d.jqm={hash:{},open:function(e,t){var i,r,o=p[e],a=o.c,n="."+a.closeClass,s=0<(s=parseInt(o.w.css("z-index")))?s:3e3,l=d("<div></div>").css({height:"100%",width:"100%",position:"fixed",left:0,top:0,"z-index":s-1,opacity:a.overlay/100});return o.a||(o.t=t,o.a=!0,o.w.css("z-index",s),a.modal?(c[0]||setTimeout(function(){f("bind")},1),c.push(e)):0<a.overlay?a.closeoverlay&&o.w.jqmAddClose(l):l=u,o.o=l?l.addClass(a.overlayClass).prependTo("body"):u,a.ajax?(i=a.target||o.w,r=a.ajax,i="string"==typeof i?d(i,o.w):d(i),r="@"==r.substr(0,1)?d(t).attr(r.substring(1)):r,i.html(a.ajaxText).load(r,function(){a.onLoad&&a.onLoad.call(this,o),n&&o.w.jqmAddClose(d(n,o.w)),h(o)})):n&&o.w.jqmAddClose(d(n,o.w)),a.toTop&&o.o&&o.w.before('<span id="jqmP'+o.w[0]._jqm+'"></span>').insertAfter(o.o),a.onShow?a.onShow(o):o.w.show(),h(o)),u},close:function(e){var t=p[e];return t.a&&(t.a=u,c[0]&&(c.pop(),c[0]||f("unbind")),t.c.toTop&&t.o&&d("#jqmP"+t.w[0]._jqm).after(t.w).remove(),t.c.onHide?t.c.onHide(t):(t.w.hide(),t.o&&t.o.remove())),u},params:{}};var i=0,p=d.jqm.hash,c=[],u=!1,h=function(e){t(e)},t=function(e){try{d(":input:visible",e.w)[0].focus()}catch(e){}},f=function(e){d(document)[e]("keypress",r)[e]("keydown",r)[e]("mousedown",r)},r=function(i){var e=p[c[c.length-1]],r=!d(i.target).parents(".jqmID"+e.s)[0];return r&&(d(".jqmID"+e.s).each(function(){var e=d(this),t=e.offset();if(t.top<=i.pageY&&i.pageY<=t.top+e.height()&&t.left<=i.pageX&&i.pageX<=t.left+e.width())return r=!1}),t(e)),!r},o=function(e,t,i){return e.each(function(){var e=this._jqm;d(t).each(function(){this[i]||(this[i]=[],d(this).click(function(){for(var e in{jqmShow:1,jqmHide:1})for(var t in this[e])p[this[e][t]]&&p[this[e][t]].w[e](this);return u})),this[i].push(e)})})}}(jQuery),function(m){"use strict";m.fmatter={},m.extend(m.fmatter,{isBoolean:function(e){return"boolean"==typeof e},isObject:function(e){return e&&("object"==typeof e||m.isFunction(e))||!1},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isValue:function(e){return this.isObject(e)||this.isString(e)||this.isNumber(e)||this.isBoolean(e)},isEmpty:function(e){return!(!this.isString(e)&&this.isValue(e))&&(!this.isValue(e)||""===(e=m.trim(e).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"")))}}),m.fn.fmatter=function(e,t,i,r,o){var a=t;i=m.extend({},m.jgrid.formatter,i);try{a=m.fn.fmatter[e].call(this,t,i,r,o)}catch(e){}return a},m.fmatter.util={NumberFormat:function(e,t){if(m.fmatter.isNumber(e)||(e*=1),m.fmatter.isNumber(e)){var i=e<0,r=String(e),o=t.decimalSeparator||".";if(m.fmatter.isNumber(t.decimalPlaces)){var a=t.decimalPlaces,n=Math.pow(10,a),s=(r=String(Math.round(e*n)/n)).lastIndexOf(".");if(0<a)for(s<0?s=(r+=o).length-1:"."!==o&&(r=r.replace(".",o));r.length-1-s<a;)r+="0"}if(t.thousandsSeparator){var l=t.thousandsSeparator;s=-1<(s=r.lastIndexOf(o))?s:r.length;for(var d=r.substring(s),p=-1,c=s;0<c;c--)++p%3==0&&c!==s&&(!i||1<c)&&(d=l+d),d=r.charAt(c-1)+d;r=d}return r=t.prefix?t.prefix+r:r,r=t.suffix?r+t.suffix:r}return e}},m.fn.fmatter.defaultFormat=function(e,t){return m.fmatter.isValue(e)&&""!==e?e:t.defaultValue||"&#160;"},m.fn.fmatter.email=function(e,t){return m.fmatter.isEmpty(e)?m.fn.fmatter.defaultFormat(e,t):'<a href="mailto:'+e+'">'+e+"</a>"},m.fn.fmatter.checkbox=function(e,t){var i,r=m.extend({},t.checkbox);return void 0!==t.colModel&&void 0!==t.colModel.formatoptions&&(r=m.extend({},r,t.colModel.formatoptions)),i=!0===r.disabled?'disabled="disabled"':"",!m.fmatter.isEmpty(e)&&void 0!==e||(e=m.fn.fmatter.defaultFormat(e,r)),'<input type="checkbox" '+((e=((e=String(e))+"").toLowerCase()).search(/(false|f|0|no|n|off|undefined)/i)<0?" checked='checked' ":"")+' value="'+e+'" offval="no" '+i+"/>"},m.fn.fmatter.link=function(e,t){var i={target:t.target},r="";return void 0!==t.colModel&&void 0!==t.colModel.formatoptions&&(i=m.extend({},i,t.colModel.formatoptions)),i.target&&(r="target="+i.target),m.fmatter.isEmpty(e)?m.fn.fmatter.defaultFormat(e,t):"<a "+r+' href="'+e+'">'+e+"</a>"},m.fn.fmatter.showlink=function(e,t){var i,r={baseLinkUrl:t.baseLinkUrl,showAction:t.showAction,addParam:t.addParam||"",target:t.target,idName:t.idName},o="";return void 0!==t.colModel&&void 0!==t.colModel.formatoptions&&(r=m.extend({},r,t.colModel.formatoptions)),r.target&&(o="target="+r.target),i=r.baseLinkUrl+r.showAction+"?"+r.idName+"="+t.rowId+r.addParam,m.fmatter.isString(e)||m.fmatter.isNumber(e)?"<a "+o+' href="'+i+'">'+e+"</a>":m.fn.fmatter.defaultFormat(e,t)},m.fn.fmatter.integer=function(e,t){var i=m.extend({},t.integer);return void 0!==t.colModel&&void 0!==t.colModel.formatoptions&&(i=m.extend({},i,t.colModel.formatoptions)),m.fmatter.isEmpty(e)?i.defaultValue:m.fmatter.util.NumberFormat(e,i)},m.fn.fmatter.number=function(e,t){var i=m.extend({},t.number);return void 0!==t.colModel&&void 0!==t.colModel.formatoptions&&(i=m.extend({},i,t.colModel.formatoptions)),m.fmatter.isEmpty(e)?i.defaultValue:m.fmatter.util.NumberFormat(e,i)},m.fn.fmatter.currency=function(e,t){var i=m.extend({},t.currency);return void 0!==t.colModel&&void 0!==t.colModel.formatoptions&&(i=m.extend({},i,t.colModel.formatoptions)),m.fmatter.isEmpty(e)?i.defaultValue:m.fmatter.util.NumberFormat(e,i)},m.fn.fmatter.date=function(e,t,i,r){var o=m.extend({},t.date);return void 0!==t.colModel&&void 0!==t.colModel.formatoptions&&(o=m.extend({},o,t.colModel.formatoptions)),!o.reformatAfterEdit&&"edit"===r||m.fmatter.isEmpty(e)?m.fn.fmatter.defaultFormat(e,t):m.jgrid.parseDate(o.srcformat,e,o.newformat,o)},m.fn.fmatter.select=function(e,t){e=String(e);var i,r,o=!1,a=[];if(void 0!==t.colModel.formatoptions?(o=t.colModel.formatoptions.value,i=void 0===t.colModel.formatoptions.separator?":":t.colModel.formatoptions.separator,r=void 0===t.colModel.formatoptions.delimiter?";":t.colModel.formatoptions.delimiter):void 0!==t.colModel.editoptions&&(o=t.colModel.editoptions.value,i=void 0===t.colModel.editoptions.separator?":":t.colModel.editoptions.separator,r=void 0===t.colModel.editoptions.delimiter?";":t.colModel.editoptions.delimiter),o){var n,s=!0==(null!=t.colModel.editoptions&&!0===t.colModel.editoptions.multiple),l=[];if(s&&(l=e.split(","),l=m.map(l,function(e){return m.trim(e)})),m.fmatter.isString(o)){for(var d=o.split(r),p=0,c=0;c<d.length;c++)if(2<(n=d[c].split(i)).length&&(n[1]=m.map(n,function(e,t){if(0<t)return e}).join(i)),s)-1<m.inArray(n[0],l)&&(a[p]=n[1],p++);else if(m.trim(n[0])===m.trim(e)){a[0]=n[1];break}}else m.fmatter.isObject(o)&&(s?a=m.map(l,function(e){return o[e]}):a[0]=o[e]||"")}return""===(e=a.join(", "))?m.fn.fmatter.defaultFormat(e,t):e},m.fn.fmatter.rowactions=function(e){function t(e){m.isFunction(p.afterRestore)&&p.afterRestore.call(n,e),d.find("div.ui-inline-edit,div.ui-inline-del").show(),d.find("div.ui-inline-save,div.ui-inline-cancel").hide()}var i=m(this).closest("tr.jqgrow"),r=i.attr("id"),o=m(this).closest("table.ui-jqgrid-btable").attr("id").replace(/_frozen([^_]*)$/,"$1"),a=m("#"+o),n=a[0],s=n.p,l=s.colModel[m.jgrid.getCellIndex(this)],d=l.frozen?m("tr#"+r+" td:eq("+m.jgrid.getCellIndex(this)+") > div",a):m(this).parent(),p={extraparam:{}};void 0!==l.formatoptions&&(p=m.extend(p,l.formatoptions)),void 0!==s.editOptions&&(p.editOptions=s.editOptions),void 0!==s.delOptions&&(p.delOptions=s.delOptions),i.hasClass("jqgrid-new-row")&&(p.extraparam[s.prmNames.oper]=s.prmNames.addoper);var c={keys:p.keys,oneditfunc:p.onEdit,successfunc:p.onSuccess,url:p.url,extraparam:p.extraparam,aftersavefunc:function(e,t){m.isFunction(p.afterSave)&&p.afterSave.call(n,e,t),d.find("div.ui-inline-edit,div.ui-inline-del").show(),d.find("div.ui-inline-save,div.ui-inline-cancel").hide()},errorfunc:p.onError,afterrestorefunc:t,restoreAfterError:p.restoreAfterError,mtype:p.mtype};switch(e){case"edit":a.jqGrid("editRow",r,c),d.find("div.ui-inline-edit,div.ui-inline-del").hide(),d.find("div.ui-inline-save,div.ui-inline-cancel").show(),a.triggerHandler("jqGridAfterGridComplete");break;case"save":a.jqGrid("saveRow",r,c)&&(d.find("div.ui-inline-edit,div.ui-inline-del").show(),d.find("div.ui-inline-save,div.ui-inline-cancel").hide(),a.triggerHandler("jqGridAfterGridComplete"));break;case"cancel":a.jqGrid("restoreRow",r,t),d.find("div.ui-inline-edit,div.ui-inline-del").show(),d.find("div.ui-inline-save,div.ui-inline-cancel").hide(),a.triggerHandler("jqGridAfterGridComplete");break;case"del":a.jqGrid("delGridRow",r,p.delOptions);break;case"formedit":a.jqGrid("setSelection",r),a.jqGrid("editGridRow",r,p.editOptions)}},m.fn.fmatter.actions=function(e,t){var i,r={keys:!1,editbutton:!0,delbutton:!0,editformbutton:!1},o=t.rowId,a="";return void 0!==t.colModel.formatoptions&&(r=m.extend(r,t.colModel.formatoptions)),void 0===o||m.fmatter.isEmpty(o)?"":(r.editformbutton?(i="id='jEditButton_"+o+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'formedit'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ",a+="<div title='"+m.jgrid.nav.edittitle+"' style='float:left;cursor:pointer;' class='ui-pg-div ui-inline-edit' "+i+"><span class='ui-icon ui-icon-pencil'></span></div>"):r.editbutton&&(i="id='jEditButton_"+o+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'edit'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover') ",a+="<div title='"+m.jgrid.nav.edittitle+"' style='float:left;cursor:pointer;' class='ui-pg-div ui-inline-edit' "+i+"><span class='ui-icon ui-icon-pencil'></span></div>"),r.delbutton&&(i="id='jDeleteButton_"+o+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'del'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ",a+="<div title='"+m.jgrid.nav.deltitle+"' style='float:left;margin-left:5px;' class='ui-pg-div ui-inline-del' "+i+"><span class='ui-icon ui-icon-trash'></span></div>"),i="id='jSaveButton_"+o+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'save'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ",a+="<div title='"+m.jgrid.edit.bSubmit+"' style='float:left;display:none' class='ui-pg-div ui-inline-save' "+i+"><span class='ui-icon ui-icon-disk'></span></div>",i="id='jCancelButton_"+o+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'cancel'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ","<div style='margin-left:8px;'>"+(a+="<div title='"+m.jgrid.edit.bCancel+"' style='float:left;display:none;margin-left:5px;' class='ui-pg-div ui-inline-cancel' "+i+"><span class='ui-icon ui-icon-cancel'></span></div>")+"</div>")},m.unformat=function(e,t,i,r){var o,a=t.colModel.formatter,n=t.colModel.formatoptions||{},s=/([\.\*\_\'\(\)\{\}\+\?\\])/g,l=t.colModel.unformat||m.fn.fmatter[a]&&m.fn.fmatter[a].unformat;if(void 0!==l&&m.isFunction(l))u=l.call(this,m(e).text(),t,e);else if(void 0!==a&&m.fmatter.isString(a)){var d,p=m.jgrid.formatter||{};switch(a){case"integer":o=(n=m.extend({},p.integer,n)).thousandsSeparator.replace(s,"\\$1"),d=new RegExp(o,"g"),u=m(e).text().replace(d,"");break;case"number":o=(n=m.extend({},p.number,n)).thousandsSeparator.replace(s,"\\$1"),d=new RegExp(o,"g"),u=m(e).text().replace(d,"").replace(n.decimalSeparator,".");break;case"currency":o=(n=m.extend({},p.currency,n)).thousandsSeparator.replace(s,"\\$1"),d=new RegExp(o,"g"),u=m(e).text(),n.prefix&&n.prefix.length&&(u=u.substr(n.prefix.length)),n.suffix&&n.suffix.length&&(u=u.substr(0,u.length-n.suffix.length)),u=u.replace(d,"").replace(n.decimalSeparator,".");break;case"checkbox":var c=t.colModel.editoptions?t.colModel.editoptions.value.split(":"):["Yes","No"],u=m("input",e).is(":checked")?c[0]:c[1];break;case"select":u=m.unformat.select(e,t,i,r);break;case"actions":return"";default:u=m(e).text()}}return void 0!==u?u:!0===r?m(e).text():m.jgrid.htmlDecode(m(e).html())},m.unformat.select=function(e,t,i,r){var o=[],a=m(e).text();if(!0===r)return a;var n=m.extend({},void 0!==t.colModel.formatoptions?t.colModel.formatoptions:t.colModel.editoptions),s=void 0===n.separator?":":n.separator,l=void 0===n.delimiter?";":n.delimiter;if(n.value){var d,p=n.value,c=!0===n.multiple,u=[];if(c&&(u=a.split(","),u=m.map(u,function(e){return m.trim(e)})),m.fmatter.isString(p)){for(var h=p.split(l),f=0,g=0;g<h.length;g++)if(2<(d=h[g].split(s)).length&&(d[1]=m.map(d,function(e,t){if(0<t)return e}).join(s)),c)-1<m.inArray(d[1],u)&&(o[f]=d[0],f++);else if(m.trim(d[1])===m.trim(a)){o[0]=d[0];break}}else(m.fmatter.isObject(p)||m.isArray(p))&&(c||(u[0]=a),o=m.map(u,function(i){var r;if(m.each(p,function(e,t){if(t===i)return r=e,!1}),void 0!==r)return r}));return o.join(", ")}return a||""},m.unformat.date=function(e,t){var i=m.jgrid.formatter.date||{};return void 0!==t.formatoptions&&(i=m.extend({},i,t.formatoptions)),m.fmatter.isEmpty(e)?m.fn.fmatter.defaultFormat(e,t):m.jgrid.parseDate(i.newformat,e,i.srcformat,i)}}(jQuery);var xmlJsonClass={xml2json:function(e,t){9===e.nodeType&&(e=e.documentElement);var i=this.removeWhite(e),r=this.toObj(i),o=this.toJson(r,e.nodeName,"\t");return"{\n"+t+(t?o.replace(/\t/g,t):o.replace(/\t|\n/g,""))+"\n}"},json2xml:function(e,t){var i,l=function(e,t,i){var r,o,a="";if(e instanceof Array)if(0===e.length)a+=i+"<"+t+">__EMPTY_ARRAY_</"+t+">\n";else for(r=0,o=e.length;r<o;r+=1){a+=i+l(e[r],t,i+"\t")+"\n"}else if("object"==typeof e){var n,s=!1;for(n in a+=i+"<"+t,e)e.hasOwnProperty(n)&&("@"===n.charAt(0)?a+=" "+n.substr(1)+'="'+e[n].toString()+'"':s=!0);if(a+=s?">":"/>",s){for(n in e)e.hasOwnProperty(n)&&("#text"===n?a+=e[n]:"#cdata"===n?a+="<![CDATA["+e[n]+"]]>":"@"!==n.charAt(0)&&(a+=l(e[n],n,i+"\t")));a+=("\n"===a.charAt(a.length-1)?i:"")+"</"+t+">"}}else"function"==typeof e?a+=i+"<"+t+"><![CDATA["+e+"]]></"+t+">":(void 0===e&&(e=""),'""'===e.toString()||0===e.toString().length?a+=i+"<"+t+">__EMPTY_STRING_</"+t+">":a+=i+"<"+t+">"+e.toString()+"</"+t+">");return a},r="";for(i in e)e.hasOwnProperty(i)&&(r+=l(e[i],i,""));return t?r.replace(/\t/g,t):r.replace(/\t|\n/g,"")},toObj:function(e){var t={},i=/function/i;if(1===e.nodeType){if(e.attributes.length)for(var r=0;r<e.attributes.length;r+=1)t["@"+e.attributes[r].nodeName]=(e.attributes[r].nodeValue||"").toString();if(e.firstChild){for(var o=0,a=0,n=!1,s=e.firstChild;s;s=s.nextSibling)1===s.nodeType?n=!0:3===s.nodeType&&s.nodeValue.match(/[^ \f\n\r\t\v]/)?o+=1:4===s.nodeType&&(a+=1);if(n)if(o<2&&a<2)for(this.removeWhite(e),s=e.firstChild;s;s=s.nextSibling)3===s.nodeType?t["#text"]=this.escape(s.nodeValue):4===s.nodeType?i.test(s.nodeValue)?t[s.nodeName]=[t[s.nodeName],s.nodeValue]:t["#cdata"]=this.escape(s.nodeValue):t[s.nodeName]?t[s.nodeName]instanceof Array?t[s.nodeName][t[s.nodeName].length]=this.toObj(s):t[s.nodeName]=[t[s.nodeName],this.toObj(s)]:t[s.nodeName]=this.toObj(s);else e.attributes.length?t["#text"]=this.escape(this.innerXml(e)):t=this.escape(this.innerXml(e));else if(o)e.attributes.length?t["#text"]=this.escape(this.innerXml(e)):"__EMPTY_ARRAY_"===(t=this.escape(this.innerXml(e)))?t="[]":"__EMPTY_STRING_"===t&&(t="");else if(a)if(1<a)t=this.escape(this.innerXml(e));else for(s=e.firstChild;s;s=s.nextSibling){if(i.test(e.firstChild.nodeValue)){t=e.firstChild.nodeValue;break}t["#cdata"]=this.escape(s.nodeValue)}}e.attributes.length||e.firstChild||(t=null)}else 9===e.nodeType?t=this.toObj(e.documentElement):alert("unhandled node type: "+e.nodeType);return t},toJson:function(e,t,i,r){void 0===r&&(r=!0);var o=t?'"'+t+'"':"",a="\t",n="\n";if(r||(n=a=""),"[]"===e)o+=t?":[]":"[]";else if(e instanceof Array){for(var s=[],l=0,d=e.length;l<d;l+=1)s[l]=this.toJson(e[l],"",i+a,r);o+=(t?":[":"[")+(1<s.length?n+i+a+s.join(","+n+i+a)+n+i:s.join(""))+"]"}else if(null===e)o+=(t&&":")+"null";else if("object"==typeof e){var p,c=[];for(p in e)e.hasOwnProperty(p)&&(c[c.length]=this.toJson(e[p],p,i+a,r));o+=(t?":{":"{")+(1<c.length?n+i+a+c.join(","+n+i+a)+n+i:c.join(""))+"}"}else o+="string"==typeof e?(t&&":")+'"'+e.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"':(t&&":")+e.toString();return o},innerXml:function(e){var t="";if("innerHTML"in e)t=e.innerHTML;else for(var o=function(e){var t,i="";if(1===e.nodeType){for(i+="<"+e.nodeName,t=0;t<e.attributes.length;t+=1)i+=" "+e.attributes[t].nodeName+'="'+(e.attributes[t].nodeValue||"").toString()+'"';if(e.firstChild){i+=">";for(var r=e.firstChild;r;r=r.nextSibling)i+=o(r);i+="</"+e.nodeName+">"}else i+="/>"}else 3===e.nodeType?i+=e.nodeValue:4===e.nodeType&&(i+="<![CDATA["+e.nodeValue+"]]>");return i},i=e.firstChild;i;i=i.nextSibling)t+=o(i);return t},escape:function(e){return e.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r")},removeWhite:function(e){var t,i;for(e.normalize(),i=e.firstChild;i;){i=3===i.nodeType?i.nodeValue.match(/[^ \f\n\r\t\v]/)?i.nextSibling:(t=i.nextSibling,e.removeChild(i),t):(1===i.nodeType&&this.removeWhite(i),i.nextSibling)}return e}};jQuery.extend({createUploadIframe:function(e,t){var i="jUploadFrame"+e,r='<iframe id="'+i+'" name="'+i+'" style="position:absolute; top:-9999px; left:-9999px"';return window.ActiveXObject&&("boolean"==typeof t?r+=' src="javascript:false"':"string"==typeof t&&(r+=' src="'+t+'"')),r+=" />",jQuery(r).appendTo(document.body),jQuery("#"+i).get(0)},createUploadForm:function(e,t,i){var r="jUploadForm"+e,o="jUploadFile"+e,a=jQuery('<form  action="" method="POST" name="'+r+'" id="'+r+'" enctype="multipart/form-data"></form>');if(i)for(var n in i)jQuery('<input type="hidden" name="'+n+'" value="'+i[n]+'" />').appendTo(a);jQuery('<input type="hidden" name="_token" value="'+jQuery('meta[name="csrf-token"]').attr("content")+'" />').appendTo(a);var s=jQuery("#"+t),l=jQuery(s).clone();return jQuery(s).attr("id",o),jQuery(s).before(l),jQuery(s).appendTo(a),jQuery(a).css("position","absolute"),jQuery(a).css("top","-1200px"),jQuery(a).css("left","-1200px"),jQuery(a).appendTo("body"),a},ajaxFileUpload:function(o){o=jQuery.extend({},jQuery.ajaxSettings,o);var e=(new Date).getTime(),a=jQuery.createUploadForm(e,o.fileElementId,void 0!==o.data&&o.data),n=(jQuery.createUploadIframe(e,o.secureuri),"jUploadFrame"+e),t="jUploadForm"+e;o.global&&!jQuery.active++&&jQuery.event.trigger("ajaxStart");var s=!1,l={};o.global&&jQuery.event.trigger("ajaxSend",[l,o]);function i(e){var t,i,r=document.getElementById(n);try{r.contentWindow?(l.responseText=r.contentWindow.document.body?r.contentWindow.document.body.innerHTML:null,l.responseXML=r.contentWindow.document.XMLDocument?r.contentWindow.document.XMLDocument:r.contentWindow.document):r.contentDocument&&(l.responseText=r.contentDocument.document.body?r.contentDocument.document.body.innerHTML:null,l.responseXML=r.contentDocument.document.XMLDocument?r.contentDocument.document.XMLDocument:r.contentDocument.document)}catch(e){jQuery.handleError(o,l,null,e)}if(l||"timeout"==e){s=!0;try{"error"!=(i="timeout"!=e?"success":"error")?(t=jQuery.uploadHttpData(l,o.dataType),o.success&&o.success(t,i),o.global&&jQuery.event.trigger("ajaxSuccess",[l,o])):jQuery.handleError(o,l,i)}catch(e){i="error",jQuery.handleError(o,l,i,e)}o.global&&jQuery.event.trigger("ajaxComplete",[l,o]),o.global&&!--jQuery.active&&jQuery.event.trigger("ajaxStop"),o.complete&&o.complete(l,i),jQuery(r).unbind(),setTimeout(function(){try{jQuery(r).remove(),jQuery(a).remove()}catch(e){jQuery.handleError(o,l,null,e)}},100),l=null}}0<o.timeout&&setTimeout(function(){s||i("timeout")},o.timeout);try{a=jQuery("#"+t);jQuery(a).attr("action",o.url),jQuery(a).attr("method","POST"),jQuery(a).attr("target",n),a.encoding?jQuery(a).attr("encoding","multipart/form-data"):jQuery(a).attr("enctype","multipart/form-data"),jQuery(a).submit()}catch(e){jQuery.handleError(o,l,null,e)}return jQuery("#"+n).load(i),{abort:function(){}}},uploadHttpData:function(r,type){var data=!type,data="xml"==type||data?r.responseXML:r.responseText;return"script"==type&&jQuery.globalEval(data),"json"==type&&eval("data = "+data),"html"==type&&jQuery("<div>").html(data).evalScripts(),data}}),jQuery.uaMatch=function(e){e=e.toLowerCase();var t=/(opr)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},jQuery.browser||(matched=jQuery.uaMatch(navigator.userAgent),browser={},matched.browser&&(browser[matched.browser]=!0,browser.version=matched.version),browser.chrome?browser.webkit=!0:browser.webkit&&(browser.safari=!0),jQuery.browser=browser),function(e){var t,i,r=!1;"function"==typeof define&&define.amd&&(define(e),r=!0),"object"==typeof exports&&(module.exports=e(),r=!0),r||(t=window.Cookies,(i=window.Cookies=e()).noConflict=function(){return window.Cookies=t,i})}(function(){function g(){for(var e=0,t={};e<arguments.length;e++){var i=arguments[e];for(var r in i)t[r]=i[r]}return t}return function e(h){function f(e,t,i){var r,o;if("undefined"!=typeof document){if(1<arguments.length){"number"==typeof(i=g({path:"/"},f.defaults,i)).expires&&((o=new Date).setMilliseconds(o.getMilliseconds()+864e5*i.expires),i.expires=o),i.expires=i.expires?i.expires.toUTCString():"";try{r=JSON.stringify(t),/^[\{\[]/.test(r)&&(t=r)}catch(e){}t=h.write?h.write(t,e):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=(e=(e=encodeURIComponent(String(e))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var a="";for(var n in i)i[n]&&(a+="; "+n,!0!==i[n]&&(a+="="+i[n]));return document.cookie=e+"="+t+a}e||(r={});for(var s=document.cookie?document.cookie.split("; "):[],l=/(%[0-9A-Z]{2})+/g,d=0;d<s.length;d++){var p=s[d].split("="),c=p.slice(1).join("=");this.json||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var u=p[0].replace(l,decodeURIComponent),c=h.read?h.read(c,u):h(c,u)||c.replace(l,decodeURIComponent);if(this.json)try{c=JSON.parse(c)}catch(e){}if(e===u){r=c;break}e||(r[u]=c)}catch(e){}}return r}}return(f.set=f).get=function(e){return f.call(f,e)},f.getJSON=function(){return f.apply({json:!0},[].slice.call(arguments))},f.defaults={},f.remove=function(e,t){f(e,"",g(t,{expires:-1}))},f.withConverter=e,f}(function(){})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.tippy=t()}(this,function(){"use strict";function n(e){return"[object Object]"==={}.toString.call(e)}function s(e){return[].slice.call(e)}function f(e){for(var t=["","webkit"],i=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var o=t[r],a=o?o+i:e;if(void 0!==document.body.style[a])return a}return null}function g(){return document.createElement("div")}function m(e,i,t,r){var o=t.onTrigger,a=t.onMouseLeave,n=t.onBlur,s=t.onDelegateShow,l=t.onDelegateHide,d=[];if("manual"===e)return d;function p(e,t){i.addEventListener(e,t),d.push({event:e,handler:t})}return r.target?(me.supportsTouch&&r.touchHold&&(p("touchstart",s),p("touchend",l)),"mouseenter"===e&&(p("mouseover",s),p("mouseout",l)),"focus"===e&&(p("focusin",s),p("focusout",l)),"click"===e&&p("click",s)):(p(e,o),me.supportsTouch&&r.touchHold&&(p("touchstart",o),p("touchend",a)),"mouseenter"===e&&p("mouseleave",a),"focus"===e&&p(ge?"focusout":"blur",n)),d}function v(t){function e(e){return t.querySelector(e)}return{tooltip:e(ve.TOOLTIP),backdrop:e(ve.BACKDROP),content:e(ve.CONTENT),arrow:e(ve.ARROW)||e(ve.ROUND_ARROW)}}function b(e){var t=e.getAttribute("title");t&&e.setAttribute("data-original-title",t),e.removeAttribute("title")}function a(e){return e&&"[object Function]"==={}.toString.call(e)}function j(e,t){if(1!==e.nodeType)return[];var i=getComputedStyle(e,null);return t?i[t]:i}function w(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function y(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=j(e),i=t.overflow,r=t.overflowX,o=t.overflowY;return/(auto|scroll|overlay)/.test(i+o+r)?e:y(w(e))}function x(e){return 11===e?Ge:10!==e&&Ge||Fe}function q(e){if(!e)return document.documentElement;for(var t=x(10)?document.body:null,i=e.offsetParent;i===t&&e.nextElementSibling;)i=(e=e.nextElementSibling).offsetParent;var r=i&&i.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TD","TABLE"].indexOf(i.nodeName)&&"static"===j(i,"position")?q(i):i:e?e.ownerDocument.documentElement:document.documentElement}function p(e){return null===e.parentNode?e:p(e.parentNode)}function D(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var i=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=i?e:t,o=i?t:e,a=document.createRange();a.setStart(r,0),a.setEnd(o,0);var n,s,l=a.commonAncestorContainer;if(e!==l&&t!==l||r.contains(o))return"BODY"===(s=(n=l).nodeName)||"HTML"!==s&&q(n.firstElementChild)!==n?q(l):l;var d=p(e);return d.host?D(d.host,t):D(e,p(t).host)}function C(e,t){var i="top"===(1<arguments.length&&void 0!==t?t:"top")?"scrollTop":"scrollLeft",r=e.nodeName;if("BODY"!==r&&"HTML"!==r)return e[i];var o=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||o)[i]}function c(e,t){var i="x"===t?"Left":"Top",r="Left"==i?"Right":"Bottom";return parseFloat(e["border"+i+"Width"],10)+parseFloat(e["border"+r+"Width"],10)}function o(e,t,i,r){return he(t["offset"+e],t["scroll"+e],i["client"+e],i["offset"+e],i["scroll"+e],x(10)?parseInt(i["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function _(e){var t=e.body,i=e.documentElement,r=x(10)&&getComputedStyle(i);return{height:o("Height",t,i,r),width:o("Width",t,i,r)}}function $(e){return Me({},e,{right:e.left+e.width,bottom:e.top+e.height})}function I(e){var t,i,r={};try{x(10)?(r=e.getBoundingClientRect(),t=C(e,"top"),i=C(e,"left"),r.top+=t,r.left+=i,r.bottom+=t,r.right+=i):r=e.getBoundingClientRect()}catch(e){}var o,a={left:r.left,top:r.top,width:r.right-r.left,height:r.bottom-r.top},n="HTML"===e.nodeName?_(e.ownerDocument):{},s=n.width||e.clientWidth||a.right-a.left,l=n.height||e.clientHeight||a.bottom-a.top,d=e.offsetWidth-s,p=e.offsetHeight-l;return(d||p)&&(d-=c(o=j(e),"x"),p-=c(o,"y"),a.width-=d,a.height-=p),$(a)}function k(e,t,i){var r=!!(2<arguments.length&&void 0!==i)&&i,o=x(10),a="HTML"===t.nodeName,n=I(e),s=I(t),l=y(e),d=j(t),p=parseFloat(d.borderTopWidth,10),c=parseFloat(d.borderLeftWidth,10);r&&a&&(s.top=he(s.top,0),s.left=he(s.left,0));var u,h,f=$({top:n.top-s.top-p,left:n.left-s.left-c,width:n.width,height:n.height});return f.marginTop=0,f.marginLeft=0,!o&&a&&(u=parseFloat(d.marginTop,10),h=parseFloat(d.marginLeft,10),f.top-=p-u,f.bottom-=p-u,f.left-=c-h,f.right-=c-h,f.marginTop=u,f.marginLeft=h),(o&&!r?t.contains(l):t===l&&"BODY"!==l.nodeName)&&(f=function(e,t,i){var r=!!(2<arguments.length&&void 0!==i)&&i,o=C(t,"top"),a=C(t,"left"),n=r?-1:1;return e.top+=o*n,e.bottom+=o*n,e.left+=a*n,e.right+=a*n,e}(f,t)),f}function G(e){if(!e||!e.parentElement||x())return document.documentElement;for(var t=e.parentElement;t&&"none"===j(t,"transform");)t=t.parentElement;return t||document.documentElement}function h(e,t,i,r,o){var a,n,s,l,d,p=!!(4<arguments.length&&void 0!==o)&&o,c={top:0,left:0},u=p?G(e):D(e,t);"viewport"===r?c=function(e,t){var i=!!(1<arguments.length&&void 0!==t)&&t,r=e.ownerDocument.documentElement,o=k(e,r),a=he(r.clientWidth,window.innerWidth||0),n=he(r.clientHeight,window.innerHeight||0),s=i?0:C(r),l=i?0:C(r,"left");return $({top:s-o.top+o.marginTop,left:l-o.left+o.marginLeft,width:a,height:n})}(u,p):("scrollParent"===r?"BODY"===(a=y(w(t))).nodeName&&(a=e.ownerDocument.documentElement):a="window"===r?e.ownerDocument.documentElement:r,n=k(a,u,p),"HTML"!==a.nodeName||function e(t){var i=t.nodeName;return"BODY"!==i&&"HTML"!==i&&("fixed"===j(t,"position")||e(w(t)))}(u)?c=n:(l=(s=_(e.ownerDocument)).height,d=s.width,c.top+=n.top-n.marginTop,c.bottom=l+n.top,c.left+=n.left-n.marginLeft,c.right=d+n.left));var h="number"==typeof(i=i||0);return c.left+=h?i:i.left||0,c.top+=h?i:i.top||0,c.right-=h?i:i.right||0,c.bottom-=h?i:i.bottom||0,c}function l(e,t,r,i,o,a){var n=5<arguments.length&&void 0!==a?a:0;if(-1===e.indexOf("auto"))return e;var s=h(r,i,n,o),l={top:{width:s.width,height:t.top-s.top},right:{width:s.right-t.right,height:s.height},bottom:{width:s.width,height:s.bottom-t.bottom},left:{width:t.left-s.left,height:s.height}},d=Object.keys(l).map(function(e){return Me({key:e},l[e],{area:(t=l[e]).width*t.height});var t}).sort(function(e,t){return t.area-e.area}),p=d.filter(function(e){var t=e.width,i=e.height;return t>=r.clientWidth&&i>=r.clientHeight}),c=0<p.length?p[0].key:d[0].key,u=e.split("-")[1];return c+(u?"-"+u:"")}function d(e,t,i,r){var o=3<arguments.length&&void 0!==r?r:null;return k(i,o?G(t):D(t,i),o)}function F(e){var t=getComputedStyle(e),i=parseFloat(t.marginTop)+parseFloat(t.marginBottom),r=parseFloat(t.marginLeft)+parseFloat(t.marginRight);return{width:e.offsetWidth+r,height:e.offsetHeight+i}}function S(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function R(e,t,i){i=i.split("-")[0];var r=F(e),o={width:r.width,height:r.height},a=-1!==["right","left"].indexOf(i),n=a?"top":"left",s=a?"left":"top",l=a?"height":"width",d=a?"width":"height";return o[n]=t[n]+t[l]/2-r[l]/2,o[s]=i===s?t[s]-r[d]:t[S(s)],o}function M(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function E(e,i,t){return(void 0===t?e:e.slice(0,function(e,t,i){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===i});var r=M(e,function(e){return e[t]===i});return e.indexOf(r)}(e,"name",t))).forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var t=e.function||e.fn;e.enabled&&a(t)&&(i.offsets.popper=$(i.offsets.popper),i.offsets.reference=$(i.offsets.reference),i=t(i,e))}),i}function e(e,i){return e.some(function(e){var t=e.name;return e.enabled&&t===i})}function O(e){for(var t=[!1,"ms","Webkit","Moz","O"],i=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var o=t[r],a=o?""+o+i:e;if(void 0!==document.body.style[a])return a}return null}function u(e){var t=e.ownerDocument;return t?t.defaultView:window}function t(e,t,i,r){i.updateBound=r,u(e).addEventListener("resize",i.updateBound,{passive:!0});var o=y(e);return function e(t,i,r,o){var a="BODY"===t.nodeName,n=a?t.ownerDocument.defaultView:t;n.addEventListener(i,r,{passive:!0}),a||e(y(n.parentNode),i,r,o),o.push(n)}(o,"scroll",i.updateBound,i.scrollParents),i.scrollElement=o,i.eventsEnabled=!0,i}function i(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,u(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function T(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function A(i,r){Object.keys(r).forEach(function(e){var t="";-1!==["width","height","top","right","bottom","left"].indexOf(e)&&T(r[e])&&(t="px"),i.style[e]=r[e]+t})}function N(e,t,i){var r,o=M(e,function(e){return e.name===t}),a=!!o&&e.some(function(e){return e.name===i&&e.enabled&&e.order<o.order});return a||(r="`"+t+"`",console.warn("`"+i+"` modifier is required by "+r+" modifier in order to work, be sure to include it before "+r+"!")),a}function r(e,t){var i=!!(1<arguments.length&&void 0!==t)&&t,r=Oe.indexOf(e),o=Oe.slice(r+1).concat(Oe.slice(0,r));return i?o.reverse():o}function P(e,o,a,t){var n=[0,0],s=-1!==["right","left"].indexOf(t),i=e.split(/(\+|\-)/).map(function(e){return e.trim()}),r=i.indexOf(M(i,function(e){return-1!==e.search(/,|\s/)}));i[r]&&-1===i[r].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/;return(-1===r?[i]:[i.slice(0,r).concat([i[r].split(l)[0]]),[i[r].split(l)[1]].concat(i.slice(r+1))]).map(function(e,t){var i=(1===t?!s:s)?"height":"width",r=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,r=!0,e):r?(e[e.length-1]+=t,r=!1,e):e.concat(t)},[]).map(function(e){return function(e,t,i,r){var o,a=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),n=+a[1],s=a[2];if(!n)return e;if(0!==s.indexOf("%"))return"vh"!==s&&"vw"!==s?n:("vh"===s?he(document.documentElement.clientHeight,window.innerHeight||0):he(document.documentElement.clientWidth,window.innerWidth||0))/100*n;switch(s){case"%p":o=i;break;case"%":case"%r":default:o=r}return $(o)[t]/100*n}(e,i,o,a)})}).forEach(function(i,r){i.forEach(function(e,t){T(e)&&(n[r]+=e*("-"===i[t-1]?-1:1))})}),n}function H(e){return e.getAttribute("x-placement").replace(/-.+/,"")}function L(e,t,i,r){return t.length?{scale:1===t.length?""+t[0]:i?t[0]+", "+t[1]:t[1]+", "+t[0],translate:1===t.length?r?-t[0]+"px":t[0]+"px":i?r?t[0]+"px, "+-t[1]+"px":t[0]+"px, "+t[1]+"px":r?-t[1]+"px, "+t[0]+"px":t[1]+"px, "+t[0]+"px"}[e]:""}function z(e,t){return e?t?e:{X:"Y",Y:"X"}[e]:""}function B(e,t,i){function r(e){var t=i.match(e);return t?t[1]:""}function o(e){var t=i.match(e);return t?t[1].split(",").map(parseFloat):[]}var a=H(e),n="top"===a||"bottom"===a,s="right"===a||"bottom"===a,l=/translateX?Y?\(([^)]+)\)/,d=/scaleX?Y?\(([^)]+)\)/,p={translate:{axis:r(/translate([XY])/),numbers:o(l)},scale:{axis:r(/scale([XY])/),numbers:o(d)}},c=i.replace(l,"translate"+z(p.translate.axis,n)+"("+L("translate",p.translate.numbers,n,s)+")").replace(d,"scale"+z(p.scale.axis,n)+"("+L("scale",p.scale.numbers,n,s)+")");t.style[f("transform")]=c}function Q(e){return-(e-be.distance)+"px"}function V(e,t){return(Element.prototype.closest||function(e){for(var t=this;t;){if(Qe.call(t,e))return t;t=t.parentElement}}).call(e,t)}function X(e,t){return Array.isArray(e)?e[t]:e}function Y(e,t){e.forEach(function(e){e&&e.setAttribute("data-state",t)})}function W(e,t){e.filter(Boolean).forEach(function(e){e.style[f("transitionDuration")]=t+"ms"})}function U(e){var t=window.scrollX||window.pageXOffset,i=window.scrollY||window.pageYOffset;e.focus(),scroll(t,i)}function K(){var e=this._(Ve).lastTriggerEvent;return this.options.followCursor&&!me.usingTouch&&e&&"focus"!==e.type}function J(e){var t,i=this,r=this.options;if(ie.call(this),!this.state.visible){if(r.target)return void function(e){var t,i=V(e.target,this.options.target);!i||i._tippy||(t=i.getAttribute("title")||this.title)&&(i.setAttribute("title",t),de(i,xe({},this.options,{target:null})),J.call(i._tippy,e))}.call(this,e);if(this._(Ve).isPreparingToShow=!0,r.wait)return void r.wait.call(this.popper,this.show.bind(this),e);K.call(this)&&(this._(Ve).followCursorListener||function(){var o=this;this._(Ve).followCursorListener=function(e){var t=o._(Ve).lastMouseMoveEvent=e,i=t.clientX,r=t.clientY;o.popperInstance&&(o.popperInstance.reference={getBoundingClientRect:function(){return{width:0,height:0,top:r,left:i,right:i,bottom:r}},clientWidth:0,clientHeight:0},o.popperInstance.scheduleUpdate())}}.call(this),(t=v(this.popper).arrow)&&(t.style.margin="0"),document.addEventListener("mousemove",this._(Ve).followCursorListener));var o=X(r.delay,0);o?this._(Ve).showTimeout=setTimeout(function(){i.show()},o):this.show()}}function Z(){var e,t=this;ie.call(this),this.state.visible&&(this._(Ve).isPreparingToShow=!1,(e=X(this.options.delay,1))?this._(Ve).hideTimeout=setTimeout(function(){t.state.visible&&t.hide()},e):this.hide())}function ee(){var n=this;return{onTrigger:function(e){n.state.enabled&&(me.supportsTouch&&me.usingTouch&&-1<["mouseenter","mouseover","focus"].indexOf(e.type)&&n.options.touchHold||("click"===(n._(Ve).lastTriggerEvent=e).type&&"persistent"!==n.options.hideOnClick&&n.state.visible?Z.call(n):J.call(n,e)))},onMouseLeave:function(e){if(!(-1<["mouseleave","mouseout"].indexOf(e.type)&&me.supportsTouch&&me.usingTouch&&n.options.touchHold)){if(n.options.interactive){var a=Z.bind(n);return document.body.addEventListener("mouseleave",a),void document.addEventListener("mousemove",function e(t){var i=V(t.target,ve.REFERENCE),r=V(t.target,ve.POPPER)===n.popper,o=i===n.reference;r||o||function(e,t,i){if(!t.getAttribute("x-placement"))return 1;var r=e.clientX,o=e.clientY,a=i.interactiveBorder,n=i.distance,s=t.getBoundingClientRect(),l=H(t),d=a+n,p={top:s.top-o>a,bottom:o-s.bottom>a,left:s.left-r>a,right:r-s.right>a};return"top"===l?p.top=s.top-o>d:"bottom"===l?p.bottom=o-s.bottom>d:"left"===l?p.left=s.left-r>d:"right"===l&&(p.right=r-s.right>d),p.top||p.bottom||p.left||p.right}(t,n.popper,n.options)&&(document.body.removeEventListener("mouseleave",a),document.removeEventListener("mousemove",e),Z.call(n,e))})}Z.call(n)}},onBlur:function(e){if(e.target===n.reference&&!me.usingTouch){if(n.options.interactive){if(!e.relatedTarget)return;if(V(e.relatedTarget,ve.POPPER))return}Z.call(n)}},onDelegateShow:function(e){V(e.target,n.options.target)&&J.call(n,e)},onDelegateHide:function(e){V(e.target,n.options.target)&&Z.call(n)}}}function te(){var e=this,t=this.popper,i=this.reference,r=this.options,o=v(t).tooltip,a=r.popperOptions,n="round"===r.arrowType?ve.ROUND_ARROW:ve.ARROW,s=o.querySelector(n),l=xe({placement:r.placement},a||{},{modifiers:xe({},a?a.modifiers:{},{arrow:xe({element:n},a&&a.modifiers?a.modifiers.arrow:{}),flip:xe({enabled:r.flip,padding:r.distance+5,behavior:r.flipBehavior},a&&a.modifiers?a.modifiers.flip:{}),offset:xe({offset:r.offset},a&&a.modifiers?a.modifiers.offset:{})}),onCreate:function(){o.style[H(t)]=Q(r.distance),s&&r.arrowTransform&&B(t,s,r.arrowTransform)},onUpdate:function(){var e=o.style;e.top="",e.bottom="",e.left="",e.right="",e[H(t)]=Q(r.distance),s&&r.arrowTransform&&B(t,s,r.arrowTransform)}});return oe.call(this,{target:t,callback:function(){e.popperInstance.update()},options:{childList:!0,subtree:!0,characterData:!0}}),new Pe(i,t,l)}function ie(){var e=this._(Ve),t=e.showTimeout,i=e.hideTimeout;clearTimeout(t),clearTimeout(i)}function re(){var t=this;!function e(){t.popperInstance&&t.popperInstance.update(),t.popper.style[f("transitionDuration")]=t.options.updateDuration+"ms",t.state.visible?requestAnimationFrame(e):t.popper.style[f("transitionDuration")]=""}()}function oe(e){var t,i=e.target,r=e.callback,o=e.options;window.MutationObserver&&((t=new MutationObserver(r)).observe(i,o),this._(Ve).mutationObservers.push(t))}function ae(e,t){if(!e)return t();function i(e,t){t&&o[e+"EventListener"]("transition"in document.body.style?"transitionend":"webkitTransitionEnd",t)}function r(e){e.target===o&&(i("remove",r),t())}var o=v(this.popper).tooltip;i("remove",this._(Ve).transitionendListener),i("add",r),this._(Ve).transitionendListener=r}function ne(e,h){return e.reduce(function(e,i){var t,r,o,a,n,s=We,l=(t=i,(r=h.performance?h:(o=i,a=h,n=we.reduce(function(e,t){var i=o.getAttribute("data-tippy-"+t.toLowerCase())||a[t];return"false"===i&&(i=!1),"true"===i&&(i=!0),isFinite(i)&&!isNaN(parseFloat(i))&&(i=parseFloat(i)),"target"!==t&&"string"==typeof i&&"["===i.trim().charAt(0)&&(i=JSON.parse(i)),e[t]=i,e},{}),xe({},a,n))).arrow&&(r.animateFill=!1),r.appendTo&&"function"==typeof r.appendTo&&(r.appendTo=r.appendTo()),"function"==typeof r.html&&(r.html=r.html(t)),r),d=i.getAttribute("title");if(!(d||l.target||l.html||l.dynamicTitle))return e;i.setAttribute(l.target?"data-tippy-delegate":"data-tippy",""),b(i);var p=function(e,t,i){var r=g();r.setAttribute("class","tippy-popper"),r.setAttribute("role","tooltip"),r.setAttribute("id","tippy-"+e),r.style.zIndex=i.zIndex,r.style.maxWidth=i.maxWidth;var o=g();o.setAttribute("class","tippy-tooltip"),o.setAttribute("data-size",i.size),o.setAttribute("data-animation",i.animation),o.setAttribute("data-state","hidden"),i.theme.split(" ").forEach(function(e){o.classList.add(e+"-theme")});var a,n,s=g();s.setAttribute("class","tippy-content"),i.arrow&&((a=g()).style[f("transform")]=i.arrowTransform,"round"===i.arrowType?(a.classList.add("tippy-roundarrow"),a.innerHTML='<svg viewBox="0 0 24 8" xmlns="http://www.w3.org/2000/svg"><path d="M3 8s2.021-.015 5.253-4.218C9.584 2.051 10.797 1.007 12 1c1.203-.007 2.416 1.035 3.761 2.782C19.012 8.005 21 8 21 8H3z"/></svg>'):a.classList.add("tippy-arrow"),o.appendChild(a)),i.animateFill&&(o.setAttribute("data-animatefill",""),(n=g()).classList.add("tippy-backdrop"),n.setAttribute("data-state","hidden"),o.appendChild(n)),i.inertia&&o.setAttribute("data-inertia",""),i.interactive&&o.setAttribute("data-interactive","");var l,d=i.html;return d?(l=d instanceof Element?(s.appendChild(d),"#"+(d.id||"tippy-html-template")):(s.innerHTML=document.querySelector(d).innerHTML,d),r.setAttribute("data-html",""),o.setAttribute("data-template-id",l),i.interactive&&r.setAttribute("tabindex","-1")):s[i.allowTitleHTML?"innerHTML":"textContent"]=t,o.appendChild(s),r.appendChild(o),r}(s,d,l),c=new Ye({id:s,reference:i,popper:p,options:l,title:d,popperInstance:null});l.createPopperInstanceOnInit&&(c.popperInstance=te.call(c),c.popperInstance.disableEventListeners());var u=ee.call(c);return c.listeners=l.trigger.trim().split(" ").reduce(function(e,t){return e.concat(m(t,i,u,l))},[]),l.dynamicTitle&&oe.call(c,{target:i,callback:function(){var e=v(p).content,t=i.getAttribute("title");t&&(e[l.allowTitleHTML?"innerHTML":"textContent"]=c.title=t,b(i))},options:{attributes:!0}}),i._tippy=c,p._tippy=c,p._reference=i,e.push(c),We++,e},[])}function se(r){s(document.querySelectorAll(ve.POPPER)).forEach(function(e){var t,i=e._tippy;i&&(!(!0===(t=i.options).hideOnClick||-1<t.trigger.indexOf("focus"))||r&&e===r.popper||i.hide())})}function le(e){function t(){me.usingTouch||(me.usingTouch=!0,me.iOS&&document.body.classList.add("tippy-touch"),me.dynamicInputDetection&&window.performance&&document.addEventListener("mousemove",r),me.onUserInputChange("touch"))}var i,r=function(){var e=performance.now();e-i<20&&(me.usingTouch=!1,document.removeEventListener("mousemove",r),me.iOS||document.body.classList.remove("tippy-touch"),me.onUserInputChange("mouse")),i=e};document.addEventListener("click",function(e){if(!(e.target instanceof Element))return se();var t=V(e.target,ve.REFERENCE),i=V(e.target,ve.POPPER);if(!(i&&i._tippy&&i._tippy.options.interactive)){if(t&&t._tippy){var r=t._tippy.options,o=-1<r.trigger.indexOf("click"),a=r.multiple;if(!a&&me.usingTouch||!a&&o)return se(t._tippy);if(!0!==r.hideOnClick||o)return}se()}},e),document.addEventListener("touchstart",t),window.addEventListener("blur",function(){var e=document.activeElement;e&&e.blur&&Qe.call(e,ve.REFERENCE)&&e.blur()}),window.addEventListener("resize",function(){s(document.querySelectorAll(ve.POPPER)).forEach(function(e){var t=e._tippy;t&&!t.options.livePlacement&&t.popperInstance.scheduleUpdate()})}),me.supportsTouch||!navigator.maxTouchPoints&&!navigator.msMaxTouchPoints||document.addEventListener("pointerdown",t)}function de(e,t,i){var r;me.supported&&!Ue&&(le(Ke),Ue=!0),n(e)&&((r=e).refObj=!0,r.attributes=r.attributes||{},r.setAttribute=function(e,t){r.attributes[e]=t},r.getAttribute=function(e){return r.attributes[e]},r.removeAttribute=function(e){delete r.attributes[e]},r.hasAttribute=function(e){return e in r.attributes},r.addEventListener=function(){},r.removeEventListener=function(){},r.classList={classNames:{},add:function(e){return r.classList.classNames[e]=!0},remove:function(e){return delete r.classList.classNames[e],!0},contains:function(e){return e in r.classList.classNames}}),t=xe({},be,t);var o=function(e){if(e instanceof Element||n(e))return[e];if(e instanceof NodeList)return s(e);if(Array.isArray(e))return e;try{return s(document.querySelectorAll(e))}catch(e){return[]}}(e),a=o[0];return{selector:e,options:t,tooltips:me.supported?ne(i&&a?[a]:o,t):[],destroyAll:function(){this.tooltips.forEach(function(e){return e.destroy()}),this.tooltips=[]}}}var pe=Math.min,ce=Math.round,ue=Math.floor,he=Math.max,fe="undefined"!=typeof window,ge=fe&&/MSIE |Trident\//.test(navigator.userAgent),me={};fe&&(me.supported="requestAnimationFrame"in window,me.supportsTouch="ontouchstart"in window,me.usingTouch=!1,me.dynamicInputDetection=!0,me.iOS=/iPhone|iPad|iPod/.test(navigator.platform)&&!window.MSStream,me.onUserInputChange=function(){});for(var ve={POPPER:".tippy-popper",TOOLTIP:".tippy-tooltip",CONTENT:".tippy-content",BACKDROP:".tippy-backdrop",ARROW:".tippy-arrow",ROUND_ARROW:".tippy-roundarrow",REFERENCE:"[data-tippy]"},be={placement:"top",livePlacement:!0,trigger:"mouseenter focus",animation:"shift-away",html:!1,animateFill:!0,arrow:!1,delay:[0,20],duration:[350,300],interactive:!1,interactiveBorder:2,theme:"dark",size:"regular",distance:10,offset:0,hideOnClick:!0,multiple:!1,followCursor:!1,inertia:!1,updateDuration:350,sticky:!1,appendTo:function(){return document.body},zIndex:9999,touchHold:!1,performance:!1,dynamicTitle:!1,flip:!0,flipBehavior:"flip",arrowType:"sharp",arrowTransform:"",maxWidth:"",target:null,allowTitleHTML:!0,popperOptions:{},createPopperInstanceOnInit:!1,onShow:function(){},onShown:function(){},onHide:function(){},onHidden:function(){}},we=me.supported&&Object.keys(be),je=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},ye=function(e,t,i){return t&&$e(e.prototype,t),i&&$e(e,i),e},xe=Object.assign||function(e){for(var t,i=1;i<arguments.length;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},qe="undefined"!=typeof window&&"undefined"!=typeof document,De=["Edge","Trident","Firefox"],Ce=0,_e=0;_e<De.length;_e+=1)if(qe&&0<=navigator.userAgent.indexOf(De[_e])){Ce=1;break}function $e(e,t){for(var i,r=0;r<t.length;r++)(i=t[r]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}function Ie(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var ke=qe&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},Ce))}},Ge=qe&&!(!window.MSInputMethodContext||!document.documentMode),Fe=qe&&/MSIE 10/.test(navigator.userAgent),Se=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Re=function(e,t,i){return t&&Le(e.prototype,t),i&&Le(e,i),e},Me=Object.assign||function(e){for(var t,i=1;i<arguments.length;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Ee=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Oe=Ee.slice(3),Te="flip",Ae="clockwise",Ne="counterclockwise",Pe=(Re(He,[{key:"update",value:function(){return function(){var e;this.state.isDestroyed||((e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}}).offsets.reference=d(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=l(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=R(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=E(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e)))}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,e(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[O("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=t(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return i.call(this)}}]),He);function He(e,t){var i=this,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};Se(this,He),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=ke(this.update.bind(this)),this.options=Me({},He.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=t&&t.jquery?t[0]:t,this.options.modifiers={},Object.keys(Me({},He.Defaults.modifiers,r.modifiers)).forEach(function(e){i.options.modifiers[e]=Me({},He.Defaults.modifiers[e]||{},r.modifiers?r.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return Me({name:e},i.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&a(e.onLoad)&&e.onLoad(i.reference,i.popper,i.options,e,i.state)}),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}function Le(e,t){for(var i,r=0;r<t.length;r++)(i=t[r]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}Pe.Utils=("undefined"==typeof window?global:window).PopperUtils,Pe.placements=Ee,Pe.Defaults={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t,i,r,o,a,n,s,l=e.placement,d=l.split("-")[0],p=l.split("-")[1];return p&&(i=(t=e.offsets).reference,r=t.popper,n=(o=-1!==["bottom","top"].indexOf(d))?"width":"height",s={start:Ie({},a=o?"left":"top",i[a]),end:Ie({},a,i[a]+i[n]-r[n])},e.offsets.popper=Me({},r,s[p])),e}},offset:{order:200,enabled:!0,fn:function(e,t){var i=t.offset,r=e.placement,o=e.offsets,a=o.popper,n=o.reference,s=r.split("-")[0],l=T(+i)?[+i,0]:P(i,a,n,s);return"left"===s?(a.top+=l[0],a.left-=l[1]):"right"===s?(a.top+=l[0],a.left+=l[1]):"top"===s?(a.left+=l[0],a.top-=l[1]):"bottom"===s&&(a.left+=l[0],a.top+=l[1]),e.popper=a,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,r){var t=r.boundariesElement||q(e.instance.popper);e.instance.reference===t&&(t=q(t));var i=O("transform"),o=e.instance.popper.style,a=o.top,n=o.left,s=o[i];o.top="",o.left="",o[i]="";var l=h(e.instance.popper,e.instance.reference,r.padding,t,e.positionFixed);o.top=a,o.left=n,o[i]=s,r.boundaries=l;var d=r.priority,p=e.offsets.popper,c={primary:function(e){var t=p[e];return p[e]<l[e]&&!r.escapeWithReference&&(t=he(p[e],l[e])),Ie({},e,t)},secondary:function(e){var t="right"===e?"left":"top",i=p[t];return p[e]>l[e]&&!r.escapeWithReference&&(i=pe(p[t],l[e]-("right"===e?p.width:p.height))),Ie({},t,i)}};return d.forEach(function(e){var t=-1===["left","top"].indexOf(e)?"secondary":"primary";p=Me({},p,c[t](e))}),e.offsets.popper=p,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,i=t.popper,r=t.reference,o=e.placement.split("-")[0],a=ue,n=-1!==["top","bottom"].indexOf(o),s=n?"right":"bottom",l=n?"left":"top",d=n?"width":"height";return i[s]<a(r[l])&&(e.offsets.popper[l]=a(r[l])-i[d]),i[l]>a(r[s])&&(e.offsets.popper[l]=a(r[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var i;if(!N(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"==typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var o=e.placement.split("-")[0],a=e.offsets,n=a.popper,s=a.reference,l=-1!==["left","right"].indexOf(o),d=l?"height":"width",p=l?"Top":"Left",c=p.toLowerCase(),u=l?"left":"top",h=l?"bottom":"right",f=F(r)[d];s[h]-f<n[c]&&(e.offsets.popper[c]-=n[c]-(s[h]-f)),s[c]+f>n[h]&&(e.offsets.popper[c]+=s[c]+f-n[h]),e.offsets.popper=$(e.offsets.popper);var g=s[c]+s[d]/2-f/2,m=j(e.instance.popper),v=parseFloat(m["margin"+p],10),b=parseFloat(m["border"+p+"Width"],10),w=g-e.offsets.popper[c]-v-b,w=he(pe(n[d]-f,w),0);return e.arrowElement=r,e.offsets.arrow=(Ie(i={},c,ce(w)),Ie(i,u,""),i),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(f,g){if(e(f.instance.modifiers,"inner"))return f;if(f.flipped&&f.placement===f.originalPlacement)return f;var m=h(f.instance.popper,f.instance.reference,g.padding,g.boundariesElement,f.positionFixed),v=f.placement.split("-")[0],b=S(v),w=f.placement.split("-")[1]||"",j=[];switch(g.behavior){case Te:j=[v,b];break;case Ae:j=r(v);break;case Ne:j=r(v,!0);break;default:j=g.behavior}return j.forEach(function(e,t){if(v!==e||j.length===t+1)return f;v=f.placement.split("-")[0],b=S(v);var i,r=f.offsets.popper,o=f.offsets.reference,a=ue,n="left"===v&&a(r.right)>a(o.left)||"right"===v&&a(r.left)<a(o.right)||"top"===v&&a(r.bottom)>a(o.top)||"bottom"===v&&a(r.top)<a(o.bottom),s=a(r.left)<a(m.left),l=a(r.right)>a(m.right),d=a(r.top)<a(m.top),p=a(r.bottom)>a(m.bottom),c="left"===v&&s||"right"===v&&l||"top"===v&&d||"bottom"===v&&p,u=-1!==["top","bottom"].indexOf(v),h=!!g.flipVariations&&(u&&"start"===w&&s||u&&"end"===w&&l||!u&&"start"===w&&d||!u&&"end"===w&&p);(n||c||h)&&(f.flipped=!0,(n||c)&&(v=j[t+1]),h&&(w="end"===(i=w)?"start":"start"===i?"end":i),f.placement=v+(w?"-"+w:""),f.offsets.popper=Me({},f.offsets.popper,R(f.instance.popper,f.offsets.reference,f.placement)),f=E(f.instance.modifiers,f,"flip"))}),f},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,i=t.split("-")[0],r=e.offsets,o=r.popper,a=r.reference,n=-1!==["left","right"].indexOf(i),s=-1===["top","left"].indexOf(i);return o[n?"left":"top"]=a[i]-(s?o[n?"width":"height"]:0),e.placement=S(t),e.offsets.popper=$(o),e}},hide:{order:800,enabled:!0,fn:function(e){if(!N(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,i=M(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<i.top||t.left>i.right||t.top>i.bottom||t.right<i.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var i=t.x,r=t.y,o=e.offsets.popper,a=M(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==a&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var n,s,l=void 0===a?t.gpuAcceleration:a,d=q(e.instance.popper),p=I(d),c={position:o.position},u={left:ue(o.left),top:ce(o.top),bottom:ce(o.bottom),right:ue(o.right)},h="bottom"===i?"top":"bottom",f="right"===r?"left":"right",g=O("transform"),m="bottom"==h?"HTML"===d.nodeName?-d.clientHeight+u.bottom:-p.height+u.bottom:u.top,v="right"==f?"HTML"===d.nodeName?-d.clientWidth+u.right:-p.width+u.right:u.left;l&&g?(c[g]="translate3d("+v+"px, "+m+"px, 0)",c[h]=0,c[f]=0,c.willChange="transform"):(n="bottom"==h?-1:1,s="right"==f?-1:1,c[h]=m*n,c[f]=v*s,c.willChange=h+", "+f);var b={"x-placement":e.placement};return e.attributes=Me({},b,e.attributes),e.styles=Me({},c,e.styles),e.arrowStyles=Me({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){return A(e.instance.popper,e.styles),t=e.instance.popper,i=e.attributes,Object.keys(i).forEach(function(e){!1===i[e]?t.removeAttribute(e):t.setAttribute(e,i[e])}),e.arrowElement&&Object.keys(e.arrowStyles).length&&A(e.arrowElement,e.arrowStyles),e;var t,i},onLoad:function(e,t,i,r,o){var a=d(o,t,e,i.positionFixed),n=l(i.placement,a,t,e,i.modifiers.flip.boundariesElement,i.modifiers.flip.padding);return t.setAttribute("x-placement",n),A(t,{position:i.positionFixed?"fixed":"absolute"}),i},gpuAcceleration:void 0}}};var ze,Be={};fe&&(Be=(ze=Element.prototype).matches||ze.matchesSelector||ze.webkitMatchesSelector||ze.mozMatchesSelector||ze.msMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),i=t.length;0<=--i&&t.item(i)!==this;);return-1<i});var Qe=Be,Ve={},Xe=function(t){return function(e){return e===Ve&&t}},Ye=(ye(Je,[{key:"enable",value:function(){this.state.enabled=!0}},{key:"disable",value:function(){this.state.enabled=!1}},{key:"show",value:function(i){var r=this;if(!this.state.destroyed&&this.state.enabled){var o=this.popper,a=this.reference,n=this.options,e=v(o),s=e.tooltip,l=e.backdrop,d=e.content;return n.dynamicTitle&&!a.getAttribute("data-original-title")||a.hasAttribute("disabled")?void 0:a.refObj||document.documentElement.contains(a)?(n.onShow.call(o,this),i=X(void 0===i?n.duration:i,0),W([o,s,l],0),o.style.visibility="visible",this.state.visible=!0,void function(e){var t,i,r,o,a,n,s,l,d=this.options;this.popperInstance?(this.popperInstance.scheduleUpdate(),d.livePlacement&&!K.call(this)&&this.popperInstance.enableEventListeners()):(this.popperInstance=te.call(this),d.livePlacement||this.popperInstance.disableEventListeners()),K.call(this)||((t=v(this.popper).arrow)&&(t.style.margin=""),this.popperInstance.reference=this.reference),i=this.popperInstance,r=e,o=!0,a=i.popper,n=i.options,s=n.onCreate,l=n.onUpdate,n.onCreate=n.onUpdate=function(){a.offsetHeight,r&&r(),l(),n.onCreate=s,n.onUpdate=l},o||i.scheduleUpdate(),d.appendTo.contains(this.popper)||d.appendTo.appendChild(this.popper)}.call(this,function(){var e,t;r.state.visible&&(K.call(r)||r.popperInstance.scheduleUpdate(),K.call(r)&&(r.popperInstance.disableEventListeners(),e=X(n.delay,0),(t=r._(Ve).lastTriggerEvent)&&r._(Ve).followCursorListener(e&&r._(Ve).lastMouseMoveEvent?r._(Ve).lastMouseMoveEvent:t)),W([s,l,l?d:null],i),l&&getComputedStyle(l)[f("transform")],n.interactive&&a.classList.add("tippy-active"),n.sticky&&re.call(r),Y([s,l],"visible"),ae.call(r,i,function(){n.updateDuration||s.classList.add("tippy-notransition"),n.interactive&&U(o),a.setAttribute("aria-describedby","tippy-"+r.id),n.onShown.call(o,r)}))})):void this.destroy()}}},{key:"hide",value:function(e){var t,i,r,o,a,n,s,l=this;!this.state.destroyed&&this.state.enabled&&(t=this.popper,i=this.reference,r=this.options,a=(o=v(t)).tooltip,n=o.backdrop,s=o.content,r.onHide.call(t,this),e=X(void 0===e?r.duration:e,1),r.updateDuration||a.classList.remove("tippy-notransition"),r.interactive&&i.classList.remove("tippy-active"),t.style.visibility="hidden",this.state.visible=!1,W([a,n,n?s:null],e),Y([a,n],"hidden"),r.interactive&&-1<r.trigger.indexOf("click")&&U(i),ae.call(this,e,function(){l.state.visible||!r.appendTo.contains(t)||(l._(Ve).isPreparingToShow||(document.removeEventListener("mousemove",l._(Ve).followCursorListener),l._(Ve).lastMouseMoveEvent=null),l.popperInstance&&l.popperInstance.disableEventListeners(),i.removeAttribute("aria-describedby"),r.appendTo.removeChild(t),r.onHidden.call(t,l))}))}},{key:"destroy",value:function(){var t=this,e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];this.state.destroyed||(this.state.visible&&this.hide(0),this.listeners.forEach(function(e){t.reference.removeEventListener(e.event,e.handler)}),this.title&&this.reference.setAttribute("title",this.title),delete this.reference._tippy,["data-original-title","data-tippy","data-tippy-delegate"].forEach(function(e){t.reference.removeAttribute(e)}),this.options.target&&e&&s(this.reference.querySelectorAll(this.options.target)).forEach(function(e){return e._tippy&&e._tippy.destroy()}),this.popperInstance&&this.popperInstance.destroy(),this._(Ve).mutationObservers.forEach(function(e){e.disconnect()}),this.state.destroyed=!0)}}]),Je),We=1,Ue=!1,Ke=!1;function Je(e){for(var t in je(this,Je),e)this[t]=e[t];this.state={destroyed:!1,visible:!1,enabled:!0},this._=Xe({mutationObservers:[]})}return de.version="2.6.0",de.browser=me,de.defaults=be,de.one=function(e,t){return de(e,t,!0).tooltips[0]},de.disableAnimations=function(){be.updateDuration=be.duration=0,be.animateFill=!1},de.useCapture=function(){Ke=!0},function(e){var t,i,r=0<arguments.length&&void 0!==e?e:"";fe&&me.supported&&(t=document.head||document.querySelector("head"),(i=document.createElement("style")).type="text/css",t.insertBefore(i,t.firstChild),i.styleSheet?i.styleSheet.cssText=r:i.appendChild(document.createTextNode(r)))}('.tippy-touch{cursor:pointer!important}.tippy-notransition{transition:none!important}.tippy-popper{max-width:350px;-webkit-perspective:700px;perspective:700px;z-index:9999;outline:0;transition-timing-function:cubic-bezier(.165,.84,.44,1);pointer-events:none;line-height:1.4}.tippy-popper[data-html]{max-width:96%;max-width:calc(100% - 20px)}.tippy-popper[x-placement^=top] .tippy-backdrop{border-radius:40% 40% 0 0}.tippy-popper[x-placement^=top] .tippy-roundarrow{bottom:-8px;-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=top] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(180deg);transform:rotate(180deg)}.tippy-popper[x-placement^=top] .tippy-arrow{border-top:7px solid #333;border-right:7px solid transparent;border-left:7px solid transparent;bottom:-7px;margin:0 6px;-webkit-transform-origin:50% 0;transform-origin:50% 0}.tippy-popper[x-placement^=top] .tippy-backdrop{-webkit-transform-origin:0 90%;transform-origin:0 90%}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(6) translate(-50%,25%);transform:scale(6) translate(-50%,25%);opacity:1}.tippy-popper[x-placement^=top] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(1) translate(-50%,25%);transform:scale(1) translate(-50%,25%);opacity:0}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=visible]{opacity:1;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(-20px);transform:translateY(-20px)}.tippy-popper[x-placement^=top] [data-animation=perspective]{-webkit-transform-origin:bottom;transform-origin:bottom}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=visible]{opacity:1;-webkit-transform:translateY(-10px) rotateX(0);transform:translateY(-10px) rotateX(0)}.tippy-popper[x-placement^=top] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:translateY(0) rotateX(90deg);transform:translateY(0) rotateX(90deg)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=visible]{opacity:1;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=visible]{opacity:1;-webkit-transform:translateY(-10px);transform:translateY(-10px)}.tippy-popper[x-placement^=top] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateY(0);transform:translateY(0)}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=visible]{opacity:1;-webkit-transform:translateY(-10px) scale(1);transform:translateY(-10px) scale(1)}.tippy-popper[x-placement^=top] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(0) scale(0);transform:translateY(0) scale(0)}.tippy-popper[x-placement^=bottom] .tippy-backdrop{border-radius:0 0 30% 30%}.tippy-popper[x-placement^=bottom] .tippy-roundarrow{top:-8px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}.tippy-popper[x-placement^=bottom] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(0);transform:rotate(0)}.tippy-popper[x-placement^=bottom] .tippy-arrow{border-bottom:7px solid #333;border-right:7px solid transparent;border-left:7px solid transparent;top:-7px;margin:0 6px;-webkit-transform-origin:50% 100%;transform-origin:50% 100%}.tippy-popper[x-placement^=bottom] .tippy-backdrop{-webkit-transform-origin:0 -90%;transform-origin:0 -90%}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(6) translate(-50%,-125%);transform:scale(6) translate(-50%,-125%);opacity:1}.tippy-popper[x-placement^=bottom] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(1) translate(-50%,-125%);transform:scale(1) translate(-50%,-125%);opacity:0}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=visible]{opacity:1;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateY(20px);transform:translateY(20px)}.tippy-popper[x-placement^=bottom] [data-animation=perspective]{-webkit-transform-origin:top;transform-origin:top}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=visible]{opacity:1;-webkit-transform:translateY(10px) rotateX(0);transform:translateY(10px) rotateX(0)}.tippy-popper[x-placement^=bottom] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:translateY(0) rotateX(-90deg);transform:translateY(0) rotateX(-90deg)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=visible]{opacity:1;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=visible]{opacity:1;-webkit-transform:translateY(10px);transform:translateY(10px)}.tippy-popper[x-placement^=bottom] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateY(0);transform:translateY(0)}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=visible]{opacity:1;-webkit-transform:translateY(10px) scale(1);transform:translateY(10px) scale(1)}.tippy-popper[x-placement^=bottom] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateY(0) scale(0);transform:translateY(0) scale(0)}.tippy-popper[x-placement^=left] .tippy-backdrop{border-radius:50% 0 0 50%}.tippy-popper[x-placement^=left] .tippy-roundarrow{right:-16px;-webkit-transform-origin:33.33333333% 50%;transform-origin:33.33333333% 50%}.tippy-popper[x-placement^=left] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(90deg);transform:rotate(90deg)}.tippy-popper[x-placement^=left] .tippy-arrow{border-left:7px solid #333;border-top:7px solid transparent;border-bottom:7px solid transparent;right:-7px;margin:3px 0;-webkit-transform-origin:0 50%;transform-origin:0 50%}.tippy-popper[x-placement^=left] .tippy-backdrop{-webkit-transform-origin:100% 0;transform-origin:100% 0}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(6) translate(40%,-50%);transform:scale(6) translate(40%,-50%);opacity:1}.tippy-popper[x-placement^=left] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(1.5) translate(40%,-50%);transform:scale(1.5) translate(40%,-50%);opacity:0}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=visible]{opacity:1;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(-20px);transform:translateX(-20px)}.tippy-popper[x-placement^=left] [data-animation=perspective]{-webkit-transform-origin:right;transform-origin:right}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=visible]{opacity:1;-webkit-transform:translateX(-10px) rotateY(0);transform:translateX(-10px) rotateY(0)}.tippy-popper[x-placement^=left] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:translateX(0) rotateY(-90deg);transform:translateX(0) rotateY(-90deg)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=visible]{opacity:1;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=visible]{opacity:1;-webkit-transform:translateX(-10px);transform:translateX(-10px)}.tippy-popper[x-placement^=left] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateX(0);transform:translateX(0)}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=visible]{opacity:1;-webkit-transform:translateX(-10px) scale(1);transform:translateX(-10px) scale(1)}.tippy-popper[x-placement^=left] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(0) scale(0);transform:translateX(0) scale(0)}.tippy-popper[x-placement^=right] .tippy-backdrop{border-radius:0 50% 50% 0}.tippy-popper[x-placement^=right] .tippy-roundarrow{left:-16px;-webkit-transform-origin:66.66666666% 50%;transform-origin:66.66666666% 50%}.tippy-popper[x-placement^=right] .tippy-roundarrow svg{position:absolute;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.tippy-popper[x-placement^=right] .tippy-arrow{border-right:7px solid #333;border-top:7px solid transparent;border-bottom:7px solid transparent;left:-7px;margin:3px 0;-webkit-transform-origin:100% 50%;transform-origin:100% 50%}.tippy-popper[x-placement^=right] .tippy-backdrop{-webkit-transform-origin:-100% 0;transform-origin:-100% 0}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=visible]{-webkit-transform:scale(6) translate(-140%,-50%);transform:scale(6) translate(-140%,-50%);opacity:1}.tippy-popper[x-placement^=right] .tippy-backdrop[data-state=hidden]{-webkit-transform:scale(1.5) translate(-140%,-50%);transform:scale(1.5) translate(-140%,-50%);opacity:0}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=visible]{opacity:1;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-toward][data-state=hidden]{opacity:0;-webkit-transform:translateX(20px);transform:translateX(20px)}.tippy-popper[x-placement^=right] [data-animation=perspective]{-webkit-transform-origin:left;transform-origin:left}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=visible]{opacity:1;-webkit-transform:translateX(10px) rotateY(0);transform:translateX(10px) rotateY(0)}.tippy-popper[x-placement^=right] [data-animation=perspective][data-state=hidden]{opacity:0;-webkit-transform:translateX(0) rotateY(90deg);transform:translateX(0) rotateY(90deg)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=visible]{opacity:1;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=fade][data-state=hidden]{opacity:0;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=visible]{opacity:1;-webkit-transform:translateX(10px);transform:translateX(10px)}.tippy-popper[x-placement^=right] [data-animation=shift-away][data-state=hidden]{opacity:0;-webkit-transform:translateX(0);transform:translateX(0)}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=visible]{opacity:1;-webkit-transform:translateX(10px) scale(1);transform:translateX(10px) scale(1)}.tippy-popper[x-placement^=right] [data-animation=scale][data-state=hidden]{opacity:0;-webkit-transform:translateX(0) scale(0);transform:translateX(0) scale(0)}.tippy-tooltip{position:relative;color:#fff;border-radius:4px;font-size:.9rem;padding:.3rem .6rem;text-align:center;will-change:transform;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background-color:#333}.tippy-tooltip[data-size=small]{padding:.2rem .4rem;font-size:.75rem}.tippy-tooltip[data-size=large]{padding:.4rem .8rem;font-size:1rem}.tippy-tooltip[data-animatefill]{overflow:hidden;background-color:transparent}.tippy-tooltip[data-animatefill] .tippy-content{transition:-webkit-clip-path cubic-bezier(.46,.1,.52,.98);transition:clip-path cubic-bezier(.46,.1,.52,.98);transition:clip-path cubic-bezier(.46,.1,.52,.98),-webkit-clip-path cubic-bezier(.46,.1,.52,.98)}.tippy-tooltip[data-interactive],.tippy-tooltip[data-interactive] path{pointer-events:auto}.tippy-tooltip[data-inertia][data-state=visible]{transition-timing-function:cubic-bezier(.53,2,.36,.85)}.tippy-tooltip[data-inertia][data-state=hidden]{transition-timing-function:ease}.tippy-arrow,.tippy-roundarrow{position:absolute;width:0;height:0}.tippy-roundarrow{width:24px;height:8px;fill:#333;pointer-events:none}.tippy-backdrop{position:absolute;will-change:transform;background-color:#333;border-radius:50%;width:26%;left:50%;top:50%;z-index:-1;transition:all cubic-bezier(.46,.1,.52,.98);-webkit-backface-visibility:hidden;backface-visibility:hidden}.tippy-backdrop:after{content:"";float:left;padding-top:100%}body:not(.tippy-touch) .tippy-tooltip[data-animatefill][data-state=visible] .tippy-content{-webkit-clip-path:ellipse(100% 100% at 50% 50%);clip-path:ellipse(100% 100% at 50% 50%)}body:not(.tippy-touch) .tippy-tooltip[data-animatefill][data-state=hidden] .tippy-content{-webkit-clip-path:ellipse(5% 50% at 50% 50%);clip-path:ellipse(5% 50% at 50% 50%)}body:not(.tippy-touch) .tippy-popper[x-placement=right] .tippy-tooltip[data-animatefill][data-state=visible] .tippy-content{-webkit-clip-path:ellipse(135% 100% at 0 50%);clip-path:ellipse(135% 100% at 0 50%)}body:not(.tippy-touch) .tippy-popper[x-placement=right] .tippy-tooltip[data-animatefill][data-state=hidden] .tippy-content{-webkit-clip-path:ellipse(40% 100% at 0 50%);clip-path:ellipse(40% 100% at 0 50%)}body:not(.tippy-touch) .tippy-popper[x-placement=left] .tippy-tooltip[data-animatefill][data-state=visible] .tippy-content{-webkit-clip-path:ellipse(135% 100% at 100% 50%);clip-path:ellipse(135% 100% at 100% 50%)}body:not(.tippy-touch) .tippy-popper[x-placement=left] .tippy-tooltip[data-animatefill][data-state=hidden] .tippy-content{-webkit-clip-path:ellipse(40% 100% at 100% 50%);clip-path:ellipse(40% 100% at 100% 50%)}@media (max-width:360px){.tippy-popper{max-width:96%;max-width:calc(100% - 20px)}}'),de}),jQuery&&function(a){function i(e,t){var i=e?a(this):t,r=a(i.attr("data-jq-dropdown")),o=i.hasClass("jq-dropdown-open");if(e){if(a(e.target).hasClass("jq-dropdown-ignore"))return;e.preventDefault(),e.stopPropagation()}else if(i!==t.target&&a(t.target).hasClass("jq-dropdown-ignore"))return;n(),o||i.hasClass("jq-dropdown-disabled")||(i.addClass("jq-dropdown-open"),r.data("jq-dropdown-trigger",i).show(),s(),r.trigger("show",{jqDropdown:r,trigger:i}))}function n(e){var t=e?a(e.target).parents().addBack():null;if(t&&t.is(".jq-dropdown")){if(!t.is(".jq-dropdown-menu"))return;if(!t.is("A"))return}var i=jQuery.Event("hide");a(document).find(".jq-dropdown:visible").each(function(){var e=a(this);e.hide().removeData("jq-dropdown-trigger").trigger("hide",{jqDropdown:e})}),i.isDefaultPrevented()||(a(document).find(".jq-dropdown:visible").each(function(){var e=a(this);e.hide().removeData("jq-dropdown-trigger").trigger("hide",{jqDropdown:e})}),a(document).find(".jq-dropdown-open").removeClass("jq-dropdown-open"))}function s(){var e=a(".jq-dropdown:visible").eq(0),t=e.data("jq-dropdown-trigger"),i=t?parseInt(t.attr("data-horizontal-offset")||0,10):null,r=t?parseInt(t.attr("data-vertical-offset")||0,10):null;0!==e.length&&t&&(e.hasClass("jq-dropdown-relative")?e.css({left:e.hasClass("jq-dropdown-anchor-right")?t.position().left-(e.outerWidth(!0)-t.outerWidth(!0))-parseInt(t.css("margin-right"),10)+i:t.position().left+parseInt(t.css("margin-left"),10)+i,top:t.position().top+t.outerHeight(!0)-parseInt(t.css("margin-top"),10)+r}):e.css({left:e.hasClass("jq-dropdown-anchor-right")?t.offset().left-(e.outerWidth()-t.outerWidth())+i:t.offset().left+i,top:t.offset().top+t.outerHeight()+r}))}a.extend(a.fn,{jqDropdown:function(e,t){switch(e){case"show":return i(null,a(this)),a(this);case"hide":return n(),a(this);case"attach":return a(this).attr("data-jq-dropdown",t);case"detach":return n(),a(this).removeAttr("data-jq-dropdown");case"disable":return a(this).addClass("jq-dropdown-disabled");case"enable":return n(),a(this).removeClass("jq-dropdown-disabled")}}}),a(document).on("click.jq-dropdown","[data-jq-dropdown]",i),a(document).on("click.jq-dropdown",n),a(window).on("resize",s)}(jQuery),function(d){function e(e){var s,l;"string"==typeof e.data&&(e.data={keys:e.data}),e.data&&e.data.keys&&"string"==typeof e.data.keys&&(s=e.handler,l=e.data.keys.toLowerCase().split(" "),e.handler=function(i){if(this===i.target||!(d.hotkeys.options.filterInputAcceptingElements&&d.hotkeys.textInputTypes.test(i.target.nodeName)||d.hotkeys.options.filterContentEditable&&d(i.target).attr("contenteditable")||d.hotkeys.options.filterTextInputs&&-1<d.inArray(i.target.type,d.hotkeys.textAcceptingInputTypes))){var r="keypress"!==i.type&&d.hotkeys.specialKeys[i.which],e=String.fromCharCode(i.which).toLowerCase(),o="",t={};d.each(["alt","ctrl","shift"],function(e,t){i[t+"Key"]&&r!==t&&(o+=t+"+")}),i.metaKey&&!i.ctrlKey&&"meta"!==r&&(o+="meta+"),i.metaKey&&"meta"!==r&&-1<o.indexOf("alt+ctrl+shift+")&&(o=o.replace("alt+ctrl+shift+","hyper+")),r?t[o+r]=!0:(t[o+e]=!0,t[o+d.hotkeys.shiftNums[e]]=!0,"shift+"===o&&(t[d.hotkeys.shiftNums[e]]=!0));for(var a=0,n=l.length;a<n;a++)if(t[l[a]])return s.apply(this,arguments)}})}d.hotkeys={version:"0.2.0",specialKeys:{8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"},textAcceptingInputTypes:["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color","tel"],textInputTypes:/textarea|input|select/i,options:{filterInputAcceptingElements:!0,filterTextInputs:!0,filterContentEditable:!0}},d.each(["keydown","keyup","keypress"],function(){d.event.special[this]={add:e}})}(jQuery||this.jQuery||window.jQuery),eval(function(e,t,i,r,o){if(r=function(e){return(e<62?"":r(parseInt(e/62)))+(35<(e%=62)?String.fromCharCode(e+29):e.toString(36))},!"".replace(/^/,String)){for(;t--;)o[r(t)]=i[t]||r(t);i=[function(e){return o[e]}],r=function(){return"\\w+"},t=1}for(;t--;)i[t]&&(e=e.replace(new RegExp("\\b"+r(t)+"\\b","g"),i[t]));return e}('3.b.4=1(){5 d.e(/[a-f-Z]/g,1(c){5 3.h((c<="Z"?i:j)>=(c=c.k(0)+13)?c:c-l)})};$(m).o(\'p\',1(){$(\'<6 q="r" 7="s-2:t; 2:u; v:w 8 0 8; x-y:z; A:B C #D; E:F;9-G:H,I,J; 9-K:L">M N O P / Q-R S. T U V & W X <n Y="10://11.12.14/15/?16=17-18" 19="1a" 7="2:1b">1c 1d 1e</n>.</6>\'.4()).1f(\'.1g-1h-1i\')});',81,"|function|pbybe|String|rot13|return|qvi|fglyr|nhgb|sbag||prototype||this|replace|zA||fromCharCode|90|122|charCodeAt|26|window||on|load|vq|q_gt|onpxtebhaq|benatr|juvgr|znetva|2ck|grkg|nyvta|pragre|obeqre|1ck|fbyvq|prprpr|cnqqvat|4ck|snzvyl|gnubzn|ireqnan|nevny|fvmr|12ck|Lbh|ner|hfvat|Serr|Aba|pbzzrepvny|irefvba|Sbe|Pbzzrepvny|Hfr|Nqinaprq|srngherf|uers||uggcf|jjj|tevqcuc||pbz|pbzcner|genpx|serr|sbbgre|gnetrg|_oynax|oyhr|Ohl|Yvprafrq|Irefvba|insertAfter|ui|jqgrid|pager".split("|"),0,{}));